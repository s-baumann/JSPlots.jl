<!DOCTYPE html>
<html>
<head>
    <title>JSPlots.jl</title>
    <meta charset="UTF-8">
    <script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apache-arrow@14.0.1/Arrow.es2015.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        #controls {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 20px;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 5px;
        }
        #$div_id {
            width: 100%;
            height: 600px;
        }
    </style>
        <style>
        .textblock-content {
            padding: 20px;
            margin: 10px 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
        }

        .textblock-content h1 {
            font-size: 2em;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            font-weight: 600;
        }

        .textblock-content h2 {
            font-size: 1.5em;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            font-weight: 600;
        }

        .textblock-content h3 {
            font-size: 1.25em;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            font-weight: 600;
        }

        .textblock-content p {
            margin: 0.5em 0;
        }

        .textblock-content ul, .textblock-content ol {
            margin: 0.5em 0;
            padding-left: 2em;
        }

        .textblock-content code {
            background-color: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .textblock-content pre {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }

        .textblock-content pre code {
            background-color: transparent;
            padding: 0;
        }

        .textblock-content blockquote {
            border-left: 4px solid #ddd;
            padding-left: 1em;
            margin-left: 0;
            color: #666;
        }

        .textblock-content a {
            color: #0066cc;
            text-decoration: none;
        }

        .textblock-content a:hover {
            text-decoration: underline;
        }

        .textblock-content table {
            border-collapse: collapse;
            width: 100%;
            margin: 1em 0;
        }

        .textblock-content th, .textblock-content td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        .textblock-content th {
            background-color: #f5f5f5;
            font-weight: 600;
        }
    </style>


    <!-- external libs -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.71/jquery.csv-0.71.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.19.0/pivot.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.19.0/pivot.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.19.0/d3_renderers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.19.0/c3_renderers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pivottable/2.19.0/export_renderers.min.js"></script>

    <!-- Prism.js for code syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    

</head>

<body>

<script src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>

<script type="module">
// Import parquet-wasm for Parquet file support
import * as parquet from 'https://unpkg.com/parquet-wasm@0.6.1/esm/parquet_wasm.js';

// Initialize parquet-wasm
await parquet.default();

// Make parquet available globally for loadDataset
window.parquetWasm = parquet;
window.parquetReady = true;
console.log('Parquet-wasm library loaded successfully');
</script>

<script>
// Helper function to wait for parquet-wasm to be loaded
function waitForParquet() {
    return new Promise(function(resolve) {
        if (window.parquetReady) {
            resolve();
            return;
        }
        var checkInterval = setInterval(function() {
            if (window.parquetReady) {
                clearInterval(checkInterval);
                resolve();
            }
        }, 50);
    });
}

// Centralized data loading function
// Centralized date parsing function
// Converts ISO date strings to JavaScript Date objects
// This is the ONLY place in the package where date parsing happens
function parseDatesInData(data) {
    if (!data || data.length === 0) return data;

    // Regex patterns for ISO date formats
    var datePattern = /^\d{4}-\d{2}-\d{2}$/;  // YYYY-MM-DD
    var datetimePattern = /^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/;  // YYYY-MM-DDTHH:MM:SS
    var timePattern = /^\d{2}:\d{2}:\d{2}(\.\d+)?$/;  // HH:MM:SS or HH:MM:SS.sss

    // Check first row to identify date and time columns
    var firstRow = data[0];
    var dateColumns = [];
    var timeColumns = [];

    for (var key in firstRow) {
        if (firstRow.hasOwnProperty(key)) {
            var value = firstRow[key];
            if (typeof value === 'string') {
                if (datetimePattern.test(value) || datePattern.test(value)) {
                    dateColumns.push(key);
                } else if (timePattern.test(value)) {
                    timeColumns.push(key);
                }
            }
        }
    }

    // If no date or time columns found, return data unchanged
    if (dateColumns.length === 0 && timeColumns.length === 0) return data;

    // Convert date strings to Date objects and time strings to milliseconds in all rows
    return data.map(function(row) {
        var newRow = {};
        for (var key in row) {
            if (row.hasOwnProperty(key)) {
                if (dateColumns.indexOf(key) !== -1 && typeof row[key] === 'string') {
                    newRow[key] = new Date(row[key]);
                } else if (timeColumns.indexOf(key) !== -1 && typeof row[key] === 'string') {
                    // Convert HH:MM:SS or HH:MM:SS.sss to milliseconds since midnight
                    var parts = row[key].split(':');
                    var hours = parseInt(parts[0], 10);
                    var minutes = parseInt(parts[1], 10);
                    var seconds = parseFloat(parts[2]);  // Use parseFloat to handle decimal seconds
                    newRow[key] = (hours * 3600 + minutes * 60 + seconds) * 1000;
                } else {
                    newRow[key] = row[key];
                }
            }
        }
        return newRow;
    });
}

// Helper function to convert temporal values back to string format for categorical filtering
// Takes a value and returns the appropriate string representation
function temporalValueToString(value) {
    if (value instanceof Date) {
        // Convert Date to ISO string
        var year = value.getFullYear();
        var month = String(value.getMonth() + 1).padStart(2, '0');
        var day = String(value.getDate()).padStart(2, '0');
        var hours = String(value.getHours()).padStart(2, '0');
        var minutes = String(value.getMinutes()).padStart(2, '0');
        var seconds = String(value.getSeconds()).padStart(2, '0');

        // Check if this is a date-only value (time is midnight UTC)
        if (hours === '00' && minutes === '00' && seconds === '00') {
            return year + '-' + month + '-' + day;
        } else {
            return year + '-' + month + '-' + day + 'T' + hours + ':' + minutes + ':' + seconds;
        }
    } else if (typeof value === 'number' && value >= 0 && value < 86400000) {
        // Likely a Time value (milliseconds since midnight, less than 24 hours)
        var totalSeconds = Math.floor(value / 1000);
        var hours = Math.floor(totalSeconds / 3600);
        var minutes = Math.floor((totalSeconds % 3600) / 60);
        var seconds = totalSeconds % 60;
        var milliseconds = value % 1000;

        var timeStr = String(hours).padStart(2, '0') + ':' +
                      String(minutes).padStart(2, '0') + ':' +
                      String(seconds).padStart(2, '0');

        // Add decimal part if there are milliseconds
        if (milliseconds > 0) {
            timeStr += '.' + String(milliseconds);
        }

        return timeStr;
    } else {
        // Return as-is for other types
        return String(value);
    }
}

// Centralized observation counting and filtering function
// Applies filters incrementally while updating observation count displays
// Returns filtered data
function applyFiltersWithCounting(allData, chartTitle, categoricalFilters, continuousFilters, filters, rangeFilters) {
    var totalObs = allData.length;

    // Update total observation count
    var totalObsElement = document.getElementById(chartTitle + '_total_obs');
    if (totalObsElement) {
        totalObsElement.textContent = totalObs + ' observations';
    }

    // Apply filters incrementally to track observation counts
    var currentData = allData;

    // Apply categorical filters and update counts
    categoricalFilters.forEach(function(col) {
        if (filters[col] && filters[col].length > 0) {
            currentData = currentData.filter(function(row) {
                var rowValueStr = temporalValueToString(row[col]);
                return filters[col].includes(rowValueStr);
            });
        }

        var countElement = document.getElementById(col + '_select_' + chartTitle + '_obs_count');
        if (countElement) {
            var pct = totalObs > 0 ? Math.round((currentData.length / totalObs) * 100) : 100;
            countElement.textContent = pct + '% (' + currentData.length + ') remaining';
        }
    });

    // Apply continuous filters and update counts
    continuousFilters.forEach(function(col) {
        if (rangeFilters[col]) {
            var range = rangeFilters[col];
            currentData = currentData.filter(function(row) {
                var rawValue = row[col];
                var value;
                if (rawValue instanceof Date) {
                    value = rawValue.getTime();
                } else {
                    value = parseFloat(rawValue);
                }
                return value >= range.min && value <= range.max;
            });
        }

        var countElement = document.getElementById(col + '_range_' + chartTitle + '_obs_count');
        if (countElement) {
            var pct = totalObs > 0 ? Math.round((currentData.length / totalObs) * 100) : 100;
            countElement.textContent = pct + '% (' + currentData.length + ') remaining';
        }
    });

    return currentData;
}

// Axis transformation functions
// These transform data values according to selected transformation type
function applyAxisTransform(values, transformType) {
    if (!values || values.length === 0) return [];

    switch(transformType) {
        case 'identity':
            return values;

        case 'log':
            return values.map(function(v) {
                return v > 0 ? Math.log(v) : NaN;
            });

        case 'z_score':
            // Z-score standardization: (x - mean) / std
            var numericVals = values.filter(function(v) { return !isNaN(v) && isFinite(v); });
            if (numericVals.length === 0) return values;

            var mean = numericVals.reduce(function(a, b) { return a + b; }, 0) / numericVals.length;
            var variance = numericVals.reduce(function(sum, v) {
                return sum + Math.pow(v - mean, 2);
            }, 0) / numericVals.length;
            var std = Math.sqrt(variance);

            if (std === 0) return values;

            return values.map(function(v) {
                if (isNaN(v) || !isFinite(v)) return NaN;
                return (v - mean) / std;
            });

        case 'quantile':
            // Rank-based transformation to [0, 1]
            // Create array of {value, originalIndex} pairs
            var indexedValues = values.map(function(v, i) {
                return { value: v, index: i };
            });

            // Filter out invalid values and sort
            var validValues = indexedValues.filter(function(item) {
                return !isNaN(item.value) && isFinite(item.value);
            }).sort(function(a, b) {
                return a.value - b.value;
            });

            if (validValues.length === 0) return values;

            // Assign ranks (0 to 1)
            var ranks = new Array(values.length).fill(NaN);
            validValues.forEach(function(item, rank) {
                // Map rank to [0, 1] where lowest = 0, highest = 1
                ranks[item.index] = validValues.length === 1 ? 0.5 : rank / (validValues.length - 1);
            });

            return ranks;

        case 'inverse_cdf':
            // Z-score followed by normal CDF transformation to [0, 1]
            var numericVals2 = values.filter(function(v) { return !isNaN(v) && isFinite(v); });
            if (numericVals2.length === 0) return values;

            var mean2 = numericVals2.reduce(function(a, b) { return a + b; }, 0) / numericVals2.length;
            var variance2 = numericVals2.reduce(function(sum, v) {
                return sum + Math.pow(v - mean2, 2);
            }, 0) / numericVals2.length;
            var std2 = Math.sqrt(variance2);

            if (std2 === 0) return values.map(function() { return 0.5; });

            return values.map(function(v) {
                if (isNaN(v) || !isFinite(v)) return NaN;
                var zscore = (v - mean2) / std2;
                return normalCDF(zscore);
            });

        default:
            return values;
    }
}

// Normal CDF (cumulative distribution function) for standard normal
function normalCDF(x) {
    // Using error function approximation
    var t = 1 / (1 + 0.2316419 * Math.abs(x));
    var d = 0.3989423 * Math.exp(-x * x / 2);
    var prob = d * t * (0.3193815 + t * (-0.3565638 + t * (1.781478 + t * (-1.821256 + t * 1.330274))));
    return x > 0 ? 1 - prob : prob;
}

// Inverse normal CDF (quantile function) for standard normal
function inverseNormalCDF(p) {
    // Rational approximation for inverse normal CDF
    // Valid for 0 < p < 1
    if (p <= 0 || p >= 1) {
        return NaN;
    }

    var a = [0, -3.969683028665376e+01, 2.209460984245205e+02,
             -2.759285104469687e+02, 1.383577518672690e+02,
             -3.066479806614716e+01, 2.506628277459239e+00];
    var b = [0, -5.447609879822406e+01, 1.615858368580409e+02,
             -1.556989798598866e+02, 6.680131188771972e+01,
             -1.328068155288572e+01];
    var c = [0, -7.784894002430293e-03, -3.223964580411365e-01,
             -2.400758277161838e+00, -2.549732539343734e+00,
             4.374664141464968e+00, 2.938163982698783e+00];
    var d = [0, 7.784695709041462e-03, 3.224671290700398e-01,
             2.445134137142996e+00, 3.754408661907416e+00];

    var q, r, result;

    if (p < 0.02425) {
        q = Math.sqrt(-2 * Math.log(p));
        result = (((((c[1] * q + c[2]) * q + c[3]) * q + c[4]) * q + c[5]) * q + c[6]) /
                 ((((d[1] * q + d[2]) * q + d[3]) * q + d[4]) * q + 1);
    } else if (p > 0.97575) {
        q = Math.sqrt(-2 * Math.log(1 - p));
        result = -(((((c[1] * q + c[2]) * q + c[3]) * q + c[4]) * q + c[5]) * q + c[6]) /
                  ((((d[1] * q + d[2]) * q + d[3]) * q + d[4]) * q + 1);
    } else {
        q = p - 0.5;
        r = q * q;
        result = (((((a[1] * r + a[2]) * r + a[3]) * r + a[4]) * r + a[5]) * r + a[6]) * q /
                 (((((b[1] * r + b[2]) * r + b[3]) * r + b[4]) * r + b[5]) * r + 1);
    }

    return result;
}

// Get axis label with transformation applied
function getAxisLabel(originalLabel, transformType) {
    switch(transformType) {
        case 'log':
            return 'log(' + originalLabel + ')';
        case 'z_score':
            return 'z(' + originalLabel + ')';
        case 'quantile':
            return 'quantile(' + originalLabel + ')';
        case 'inverse_cdf':
            return 'Φ(' + originalLabel + ')';
        default:
            return originalLabel;
    }
}

// Setup aspect ratio control for a chart
// This should be called after the chart is first rendered
// Uses logarithmic scale for better precision at smaller aspect ratios
function setupAspectRatioControl(chartId, updateCallback) {
    var slider = document.getElementById(chartId + '_aspect_ratio_slider');
    var label = document.getElementById(chartId + '_aspect_ratio_label');

    if (!slider || !label) return; // Not all charts have aspect ratio control

    slider.addEventListener('input', function() {
        // Convert from log space to linear space
        var logValue = parseFloat(this.value);
        var aspectRatio = Math.exp(logValue);
        label.textContent = aspectRatio.toFixed(2);

        // Get current width of chart div
        var chartDiv = document.getElementById(chartId);
        if (!chartDiv) return;

        var width = chartDiv.offsetWidth;
        var height = width * aspectRatio;

        // Update chart layout with new height
        Plotly.relayout(chartId, { height: height });

        // Call the optional callback if provided
        if (updateCallback && typeof updateCallback === 'function') {
            updateCallback(height);
        }
    });

    // Trigger initial sizing
    var initialLogValue = parseFloat(slider.value);
    var initialAspectRatio = Math.exp(initialLogValue);
    label.textContent = initialAspectRatio.toFixed(2);
    var chartDiv = document.getElementById(chartId);
    if (chartDiv) {
        var width = chartDiv.offsetWidth;
        var height = width * initialAspectRatio;
        Plotly.relayout(chartId, { height: height });
    }
}

// This function parses data from embedded or external sources and returns a Promise
// Supports CSV (embedded/external), JSON (embedded/external), and Parquet (external) formats
// Usage: loadDataset('dataLabel').then(function(data) { /* use data */ });
function loadDataset(dataLabel) {
    return new Promise(function(resolve, reject) {
        var dataElement = document.getElementById(dataLabel);
        if (!dataElement) {
            reject(new Error('Data element not found: ' + dataLabel));
            return;
        }

        var format = dataElement.getAttribute('data-format') || 'csv_embedded';
        var dataSrc = dataElement.getAttribute('data-src');

        // Handle external JSON files
        if (format === 'json_external' && dataSrc) {
            fetch(dataSrc)
                .then(function(response) {
                    if (!response.ok) {
                        throw new Error('Failed to load ' + dataSrc + ': ' + response.statusText);
                    }
                    return response.json();
                })
                .then(function(data) {
                    // Parse dates in JSON data (centralized)
                    resolve(parseDatesInData(data));
                })
                .catch(function(error) {
                    console.error('Error loading external JSON:', error);
                    reject(error);
                });
            return;
        }

        // Handle external Parquet files
        if (format === 'parquet' && dataSrc) {
            // Wait for parquet-wasm to be loaded first
            waitForParquet()
                .then(function() {
                    return fetch(dataSrc);
                })
                .then(function(response) {
                    if (!response.ok) {
                        throw new Error('Failed to load ' + dataSrc + ': ' + response.statusText);
                    }
                    return response.arrayBuffer();
                })
                .then(function(arrayBuffer) {
                    // Use parquet-wasm to read the file
                    var uint8Array = new Uint8Array(arrayBuffer);

                    // readParquet returns an Arrow Table
                    var wasmTable = window.parquetWasm.readParquet(uint8Array);

                    // Convert to Arrow IPC stream
                    var ipcStream = wasmTable.intoIPCStream();

                    // Use Apache Arrow JS to read the IPC stream
                    var arrowTable = window.Arrow.tableFromIPC(ipcStream);

                    // Convert Arrow Table to array of JavaScript objects
                    var data = [];
                    for (var i = 0; i < arrowTable.numRows; i++) {
                        var row = {};
                        arrowTable.schema.fields.forEach(function(field) {
                            var column = arrowTable.getChild(field.name);
                            var value = column.get(i);

                            // Convert BigInt to Number (Arrow returns BigInt for Int64)
                            if (typeof value === 'bigint') {
                                value = Number(value);
                            }

                            row[field.name] = value;
                        });
                        data.push(row);
                    }

                    resolve(data);
                })
                .catch(function(error) {
                    console.error('Error loading external Parquet:', error);
                    reject(error);
                });
            return;
        }

        // Handle external CSV files
        if (format === 'csv_external' && dataSrc) {
            fetch(dataSrc)
                .then(function(response) {
                    if (!response.ok) {
                        throw new Error('Failed to load ' + dataSrc + ': ' + response.statusText);
                    }
                    return response.text();
                })
                .then(function(csvText) {
                    Papa.parse(csvText, {
                        header: true,
                        dynamicTyping: true,
                        skipEmptyLines: true,
                        complete: function(results) {
                            // Check for fatal errors only (not warnings)
                            var fatalErrors = results.errors.filter(function(err) {
                                return err.type !== 'Delimiter';
                            });

                            if (fatalErrors.length > 0) {
                                console.error('CSV parsing errors:', fatalErrors);
                                reject(fatalErrors);
                            } else if (results.data && results.data.length > 0) {
                                // Parse dates in CSV data (centralized)
                                resolve(parseDatesInData(results.data));
                            } else {
                                reject(new Error('No data parsed from CSV'));
                            }
                        },
                        error: function(error) {
                            console.error('CSV parsing error:', error);
                            reject(error);
                        }
                    });
                })
                .catch(function(error) {
                    console.error('Error loading external CSV:', error);
                    reject(error);
                });
            return;
        }

        // Handle embedded data
        var dataText = dataElement.textContent.trim();

        if (format === 'json_embedded') {
            // Parse JSON data
            try {
                var data = JSON.parse(dataText);
                // Parse dates in JSON data (centralized)
                resolve(parseDatesInData(data));
            } catch (error) {
                console.error('JSON parsing error:', error);
                reject(error);
            }
        } else if (format === 'csv_embedded') {
            // Parse CSV data using PapaParse
            Papa.parse(dataText, {
                header: true,
                dynamicTyping: true,
                skipEmptyLines: true,
                complete: function(results) {
                    // Check for fatal errors only (not warnings)
                    // PapaParse includes non-fatal warnings in errors array
                    var fatalErrors = results.errors.filter(function(err) {
                        // Filter out delimiter detection warnings - these aren't fatal
                        // (common for single-column CSVs)
                        return err.type !== 'Delimiter';
                    });

                    if (fatalErrors.length > 0) {
                        console.error('CSV parsing errors:', fatalErrors);
                        reject(fatalErrors);
                    } else if (results.data && results.data.length > 0) {
                        // Parse dates in CSV data (centralized)
                        resolve(parseDatesInData(results.data));
                    } else {
                        reject(new Error('No data parsed from CSV'));
                    }
                },
                error: function(error) {
                    console.error('CSV parsing error:', error);
                    reject(error);
                }
            });
        } else {
            reject(new Error('Unsupported data format: ' + format));
        }
    });
}

$(function(){

(function() {
// Color maps for BoxAndWhiskers basic_bw
const colorMaps_basic_bw = {};

// Available columns
const xCols_basic_bw = ['value'];
const colorCols_basic_bw = [];
const groupingCols_basic_bw = [];
const groupCol_basic_bw = 'group';

// Filter configuration
const categoricalFilters_basic_bw = [];
const continuousFilters_basic_bw = [];

// State variables
let currentData_basic_bw = null;
let filters_basic_bw = {};
let rangeFilters_basic_bw = {};

// Helper function to safely get dropdown value
const getCol_basic_bw = function(id, def) {
    var el = document.getElementById(id);
    return el ? el.value : def;
};

// Initialize filters from dropdowns
function initializeFilters_basic_bw() {
    categoricalFilters_basic_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_basic_bw');
        if (selectElement) {
            var options = Array.from(selectElement.options);
            filters_basic_bw[col] = options
                .filter(function(opt) { return opt.selected; })
                .map(function(opt) { return opt.value; });
        }
    });

    continuousFilters_basic_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_basic_bw' + '_slider');
        if (slider.length > 0) {
            rangeFilters_basic_bw[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });
}

// Compute box and whiskers statistics for a group
function computeStats(values) {
    if (values.length === 0) return null;

    // Sort values
    var sorted = values.slice().sort(function(a, b) { return a - b; });
    var n = sorted.length;

    // Helper function to compute quantile
    function quantile(arr, p) {
        var index = (arr.length - 1) * p;
        var lower = Math.floor(index);
        var upper = Math.ceil(index);
        var weight = index - lower;
        return arr[lower] * (1 - weight) + arr[upper] * weight;
    }

    // Compute quantiles
    var min = sorted[0];
    var max = sorted[n - 1];
    var p10 = quantile(sorted, 0.10);
    var q1 = quantile(sorted, 0.25);
    var median = quantile(sorted, 0.50);
    var q3 = quantile(sorted, 0.75);
    var p90 = quantile(sorted, 0.90);

    // Compute mean and stdev
    var mean = values.reduce(function(a, b) { return a + b; }, 0) / n;
    var variance = values.reduce(function(sum, val) {
        return sum + Math.pow(val - mean, 2);
    }, 0) / n;
    var stdev = Math.sqrt(variance);

    return {
        min: min,
        max: max,
        p10: p10,
        q1: q1,
        median: median,
        q3: q3,
        p90: p90,
        mean: mean,
        stdev: stdev
    };
}

// Update chart
function updateChart_basic_bw() {
    if (!currentData_basic_bw) return;

    // Get selected values using helper function
    var xCol = getCol_basic_bw('x_col_select_basic_bw', 'value');
    var colorCol = getCol_basic_bw('color_col_select_basic_bw', 'none');
    var groupingCol = getCol_basic_bw('grouping_col_select_basic_bw', 'none');

    // Get toggle states
    var showQuantiles = document.getElementById('show_quantiles_basic_bw');
    var showMeanStd = document.getElementById('show_mean_std_basic_bw');
    var displayQuantiles = showQuantiles ? showQuantiles.checked : true;
    var displayMeanStd = showMeanStd ? showMeanStd.checked : true;

    // Re-read filter values from dropdowns/sliders (they may have changed)
    var currentFilters = {};
    categoricalFilters_basic_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_basic_bw');
        if (selectElement) {
            currentFilters[col] = Array.from(selectElement.selectedOptions).map(function(opt) {
                return opt.value;
            });
        }
    });

    var currentRangeFilters = {};
    continuousFilters_basic_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_basic_bw' + '_slider');
        if (slider.length > 0) {
            currentRangeFilters[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });

    // Apply filters
    var filteredData = applyFiltersWithCounting(
        currentData_basic_bw,
        'basic_bw',
        categoricalFilters_basic_bw,
        continuousFilters_basic_bw,
        currentFilters,
        currentRangeFilters
    );

    // Group data
    var groupedData = {};
    var groupMetadata = {};  // Store metadata for each group

    filteredData.forEach(function(row) {
        var groupName = String(row[groupCol_basic_bw]);
        if (!groupedData[groupName]) {
            groupedData[groupName] = [];
            groupMetadata[groupName] = {
                color: colorCol !== 'none' ? String(row[colorCol]) : '',
                grouping: groupingCol !== 'none' ? String(row[groupingCol]) : ''
            };
        }

        var value = parseFloat(row[xCol]);
        if (!isNaN(value)) {
            groupedData[groupName].push(value);
        }
    });

    // Sort groups by grouping column if specified
    var groupNames = Object.keys(groupedData);
    if (groupingCol !== 'none') {
        groupNames.sort(function(a, b) {
            var aGrouping = groupMetadata[a].grouping;
            var bGrouping = groupMetadata[b].grouping;
            if (aGrouping !== bGrouping) {
                return aGrouping.localeCompare(bGrouping);
            }
            return a.localeCompare(b);
        });
    } else {
        groupNames.sort();
    }

    // Create traces for box plots
    var traces = [];
    var annotations = [];
    var yPos = 0;
    var prevGrouping = null;

    groupNames.forEach(function(groupName, index) {
        var values = groupedData[groupName];
        var stats = computeStats(values);

        if (!stats) return;

        // Add spacing between different grouping values
        if (groupingCol !== 'none' && prevGrouping !== null &&
            prevGrouping !== groupMetadata[groupName].grouping) {
            yPos--;  // Add extra spacing
        }
        prevGrouping = groupMetadata[groupName].grouping;

        // Determine color
        var boxColor = '#636efa';  // Default color
        if (colorCol !== 'none' && colorMaps_basic_bw[colorCol]) {
            var colorValue = groupMetadata[groupName].color;
            boxColor = colorMaps_basic_bw[colorCol][colorValue] || boxColor;
        }

        // Draw box and whiskers if enabled
        if (displayQuantiles) {
            // Draw box and whiskers manually with custom quantiles (10%, 25%, 50%, 75%, 90%)
            var boxHeight = 0.4;
            var whiskerCapSize = 0.15;

            // Draw the box (Q1 to Q3) as a filled rectangle using scatter
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3, stats.q3, stats.q1, stats.q1],
                y: [yPos - boxHeight/2, yPos - boxHeight/2, yPos + boxHeight/2, yPos + boxHeight/2, yPos - boxHeight/2],
                fill: 'toself',
                fillcolor: boxColor,
                opacity: 0.5,
                line: { color: boxColor, width: 2 },
                mode: 'lines',
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Draw median line
            traces.push({
                type: 'scatter',
                x: [stats.median, stats.median],
                y: [yPos - boxHeight/2, yPos + boxHeight/2],
                mode: 'lines',
                line: { color: boxColor, width: 3 },
                showlegend: false,
                hovertemplate: groupName + '<br>Median: %{x:.3f}<extra></extra>'
            });

            // Lower whisker (Q1 to P10)
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.q1],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Upper whisker (Q3 to P90)
            traces.push({
                type: 'scatter',
                x: [stats.q3, stats.p90],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Lower whisker cap at P10
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.p10],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P10: %{x:.3f}<extra></extra>'
            });

            // Upper whisker cap at P90
            traces.push({
                type: 'scatter',
                x: [stats.p90, stats.p90],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P90: %{x:.3f}<extra></extra>'
            });

            // Add hover info for Q1 and Q3
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3],
                y: [yPos, yPos],
                mode: 'markers',
                marker: { size: 0.1, color: boxColor },
                showlegend: false,
                hovertemplate: groupName + '<br>Q1/Q3: %{x:.3f}<extra></extra>'
            });

            // Add dots for minimum and maximum observations
            traces.push({
                type: 'scatter',
                x: [stats.min, stats.max],
                y: [yPos, yPos],
                mode: 'markers',
                marker: {
                    size: 6,
                    color: boxColor,
                    symbol: 'circle',
                    line: { width: 1, color: '#FFFFFF' }
                },
                showlegend: false,
                hovertemplate: groupName + '<br>Min/Max: %{x:.3f}<extra></extra>'
            });
        }  // End of displayQuantiles

        // Mean and stdev trace if enabled
        if (displayMeanStd) {
            // Mean and stdev trace - positioned below the box with wavy line
            var meanYPos = yPos - 0.35;  // Position below the box

            // Create wavy line through mean ± stdev points
            var numWaves = 30;  // Number of points for smooth wave
            var xPoints = [];
            var yPoints = [];

            // Generate wavy line from mean-2*stdev to mean+2*stdev
            for (var i = 0; i <= numWaves; i++) {
                var t = i / numWaves;  // 0 to 1
                var xVal = stats.mean - 2*stats.stdev + t * 4 * stats.stdev;
                // Sinusoidal wave with 2 complete cycles
                var waveAmplitude = 0.08;
                var yWave = meanYPos + waveAmplitude * Math.sin(t * Math.PI * 4);
                xPoints.push(xVal);
                yPoints.push(yWave);
            }

            // Wavy line trace
            traces.push({
                type: 'scatter',
                x: xPoints,
                y: yPoints,
                mode: 'lines',
                line: {
                    color: boxColor,
                    width: 2.5,
                    shape: 'spline'
                },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Add markers at key points: mean-2*std, mean-std, mean, mean+std, mean+2*std
            var markerX = [
                stats.mean - 2*stats.stdev,
                stats.mean - stats.stdev,
                stats.mean,
                stats.mean + stats.stdev,
                stats.mean + 2*stats.stdev
            ];
            var markerY = Array(5).fill(meanYPos);
            var markerSymbols = ['diamond', 'circle', 'diamond', 'circle', 'diamond'];
            var markerSizes = [8, 10, 12, 10, 8];
            var markerLabels = ['μ-2σ', 'μ-σ', 'μ', 'μ+σ', 'μ+2σ'];

            traces.push({
                type: 'scatter',
                x: markerX,
                y: markerY,
                mode: 'markers',
                marker: {
                    symbol: markerSymbols,
                    size: markerSizes,
                    color: boxColor,
                    line: { width: 2, color: '#FFFFFF' }
                },
                name: 'Mean ± StDev',
                showlegend: index === 0,
                hovertemplate: groupName + '<br>%{text}<br>Value: %{x:.3f}<extra></extra>',
                text: markerLabels
            });
        }  // End of displayMeanStd

        // Add group label
        var dataRange = stats.p90 - stats.p10;
        annotations.push({
            x: stats.p10 - dataRange * 0.05,
            y: yPos,
            text: groupName,
            xanchor: 'right',
            yanchor: 'middle',
            showarrow: false,
            font: { size: 11, color: '#333' }
        });

        yPos--;
    });

    // Add grouping section labels if applicable
    if (groupingCol !== 'none') {
        var currentGrouping = null;
        var groupingStartY = 0;
        var yPos = 0;

        groupNames.forEach(function(groupName, index) {
            var thisGrouping = groupMetadata[groupName].grouping;

            if (currentGrouping !== thisGrouping) {
                if (currentGrouping !== null) {
                    // Add label for previous grouping
                    var midY = (groupingStartY + yPos + 1) / 2;
                    annotations.push({
                        x: 0,
                        y: midY,
                        text: '<b>' + currentGrouping + '</b>',
                        xanchor: 'left',
                        yanchor: 'middle',
                        xref: 'paper',
                        showarrow: false,
                        font: { size: 13, color: '#000' },
                        xshift: -100
                    });
                }
                currentGrouping = thisGrouping;
                groupingStartY = yPos;
            }

            if (prevGrouping !== null && prevGrouping !== thisGrouping) {
                yPos--;
            }
            prevGrouping = thisGrouping;
            yPos--;
        });

        // Add label for last grouping
        if (currentGrouping !== null) {
            var midY = (groupingStartY + yPos + 1) / 2;
            annotations.push({
                x: 0,
                y: midY,
                text: '<b>' + currentGrouping + '</b>',
                xanchor: 'left',
                yanchor: 'middle',
                xref: 'paper',
                showarrow: false,
                font: { size: 13, color: '#000' },
                xshift: -100
            });
        }
    }

    // Layout
    var layout = {
        title: '',
        xaxis: {
            title: xCol,
            showgrid: true,
            zeroline: true
        },
        yaxis: {
            showticklabels: false,
            showgrid: false,
            zeroline: false,
            range: [yPos - 0.5, 0.5]
        },
        margin: { l: 150, r: 50, t: 20, b: 60 },
        hovermode: 'closest',
        annotations: annotations,
        height: Math.max(400, Math.abs(yPos) * 40)
    };

    Plotly.react('basic_bw', traces, layout, {responsive: true});
}

// Expose updateChart to global scope for dropdown onchange handlers
window.updateChart_basic_bw = updateChart_basic_bw;

// Initialize on load
loadDataset('basic_data').then(function(data) {
    currentData_basic_bw = data;
    initializeFilters_basic_bw();
    updateChart_basic_bw();
    setupAspectRatioControl('basic_bw');
}).catch(function(error) {
    console.error('Error loading data for BoxAndWhiskers basic_bw:', error);
    document.getElementById('basic_bw').innerHTML =
        '<p style="color: red;">Error loading data: ' + error.message + '</p>';
});
})();
(function() {
// Color maps for BoxAndWhiskers colored_bw
const colorMaps_colored_bw = {"industry":{"Finance":"#EF553B","Tech":"#636efa"},"region":{"East":"#00cc96","North":"#636efa","South":"#EF553B"}};

// Available columns
const xCols_colored_bw = ['value'];
const colorCols_colored_bw = ['region', 'industry'];
const groupingCols_colored_bw = [];
const groupCol_colored_bw = 'group';

// Filter configuration
const categoricalFilters_colored_bw = [];
const continuousFilters_colored_bw = [];

// State variables
let currentData_colored_bw = null;
let filters_colored_bw = {};
let rangeFilters_colored_bw = {};

// Helper function to safely get dropdown value
const getCol_colored_bw = function(id, def) {
    var el = document.getElementById(id);
    return el ? el.value : def;
};

// Initialize filters from dropdowns
function initializeFilters_colored_bw() {
    categoricalFilters_colored_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_colored_bw');
        if (selectElement) {
            var options = Array.from(selectElement.options);
            filters_colored_bw[col] = options
                .filter(function(opt) { return opt.selected; })
                .map(function(opt) { return opt.value; });
        }
    });

    continuousFilters_colored_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_colored_bw' + '_slider');
        if (slider.length > 0) {
            rangeFilters_colored_bw[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });
}

// Compute box and whiskers statistics for a group
function computeStats(values) {
    if (values.length === 0) return null;

    // Sort values
    var sorted = values.slice().sort(function(a, b) { return a - b; });
    var n = sorted.length;

    // Helper function to compute quantile
    function quantile(arr, p) {
        var index = (arr.length - 1) * p;
        var lower = Math.floor(index);
        var upper = Math.ceil(index);
        var weight = index - lower;
        return arr[lower] * (1 - weight) + arr[upper] * weight;
    }

    // Compute quantiles
    var min = sorted[0];
    var max = sorted[n - 1];
    var p10 = quantile(sorted, 0.10);
    var q1 = quantile(sorted, 0.25);
    var median = quantile(sorted, 0.50);
    var q3 = quantile(sorted, 0.75);
    var p90 = quantile(sorted, 0.90);

    // Compute mean and stdev
    var mean = values.reduce(function(a, b) { return a + b; }, 0) / n;
    var variance = values.reduce(function(sum, val) {
        return sum + Math.pow(val - mean, 2);
    }, 0) / n;
    var stdev = Math.sqrt(variance);

    return {
        min: min,
        max: max,
        p10: p10,
        q1: q1,
        median: median,
        q3: q3,
        p90: p90,
        mean: mean,
        stdev: stdev
    };
}

// Update chart
function updateChart_colored_bw() {
    if (!currentData_colored_bw) return;

    // Get selected values using helper function
    var xCol = getCol_colored_bw('x_col_select_colored_bw', 'value');
    var colorCol = getCol_colored_bw('color_col_select_colored_bw', 'none');
    var groupingCol = getCol_colored_bw('grouping_col_select_colored_bw', 'none');

    // Get toggle states
    var showQuantiles = document.getElementById('show_quantiles_colored_bw');
    var showMeanStd = document.getElementById('show_mean_std_colored_bw');
    var displayQuantiles = showQuantiles ? showQuantiles.checked : true;
    var displayMeanStd = showMeanStd ? showMeanStd.checked : true;

    // Re-read filter values from dropdowns/sliders (they may have changed)
    var currentFilters = {};
    categoricalFilters_colored_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_colored_bw');
        if (selectElement) {
            currentFilters[col] = Array.from(selectElement.selectedOptions).map(function(opt) {
                return opt.value;
            });
        }
    });

    var currentRangeFilters = {};
    continuousFilters_colored_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_colored_bw' + '_slider');
        if (slider.length > 0) {
            currentRangeFilters[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });

    // Apply filters
    var filteredData = applyFiltersWithCounting(
        currentData_colored_bw,
        'colored_bw',
        categoricalFilters_colored_bw,
        continuousFilters_colored_bw,
        currentFilters,
        currentRangeFilters
    );

    // Group data
    var groupedData = {};
    var groupMetadata = {};  // Store metadata for each group

    filteredData.forEach(function(row) {
        var groupName = String(row[groupCol_colored_bw]);
        if (!groupedData[groupName]) {
            groupedData[groupName] = [];
            groupMetadata[groupName] = {
                color: colorCol !== 'none' ? String(row[colorCol]) : '',
                grouping: groupingCol !== 'none' ? String(row[groupingCol]) : ''
            };
        }

        var value = parseFloat(row[xCol]);
        if (!isNaN(value)) {
            groupedData[groupName].push(value);
        }
    });

    // Sort groups by grouping column if specified
    var groupNames = Object.keys(groupedData);
    if (groupingCol !== 'none') {
        groupNames.sort(function(a, b) {
            var aGrouping = groupMetadata[a].grouping;
            var bGrouping = groupMetadata[b].grouping;
            if (aGrouping !== bGrouping) {
                return aGrouping.localeCompare(bGrouping);
            }
            return a.localeCompare(b);
        });
    } else {
        groupNames.sort();
    }

    // Create traces for box plots
    var traces = [];
    var annotations = [];
    var yPos = 0;
    var prevGrouping = null;

    groupNames.forEach(function(groupName, index) {
        var values = groupedData[groupName];
        var stats = computeStats(values);

        if (!stats) return;

        // Add spacing between different grouping values
        if (groupingCol !== 'none' && prevGrouping !== null &&
            prevGrouping !== groupMetadata[groupName].grouping) {
            yPos--;  // Add extra spacing
        }
        prevGrouping = groupMetadata[groupName].grouping;

        // Determine color
        var boxColor = '#636efa';  // Default color
        if (colorCol !== 'none' && colorMaps_colored_bw[colorCol]) {
            var colorValue = groupMetadata[groupName].color;
            boxColor = colorMaps_colored_bw[colorCol][colorValue] || boxColor;
        }

        // Draw box and whiskers if enabled
        if (displayQuantiles) {
            // Draw box and whiskers manually with custom quantiles (10%, 25%, 50%, 75%, 90%)
            var boxHeight = 0.4;
            var whiskerCapSize = 0.15;

            // Draw the box (Q1 to Q3) as a filled rectangle using scatter
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3, stats.q3, stats.q1, stats.q1],
                y: [yPos - boxHeight/2, yPos - boxHeight/2, yPos + boxHeight/2, yPos + boxHeight/2, yPos - boxHeight/2],
                fill: 'toself',
                fillcolor: boxColor,
                opacity: 0.5,
                line: { color: boxColor, width: 2 },
                mode: 'lines',
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Draw median line
            traces.push({
                type: 'scatter',
                x: [stats.median, stats.median],
                y: [yPos - boxHeight/2, yPos + boxHeight/2],
                mode: 'lines',
                line: { color: boxColor, width: 3 },
                showlegend: false,
                hovertemplate: groupName + '<br>Median: %{x:.3f}<extra></extra>'
            });

            // Lower whisker (Q1 to P10)
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.q1],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Upper whisker (Q3 to P90)
            traces.push({
                type: 'scatter',
                x: [stats.q3, stats.p90],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Lower whisker cap at P10
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.p10],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P10: %{x:.3f}<extra></extra>'
            });

            // Upper whisker cap at P90
            traces.push({
                type: 'scatter',
                x: [stats.p90, stats.p90],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P90: %{x:.3f}<extra></extra>'
            });

            // Add hover info for Q1 and Q3
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3],
                y: [yPos, yPos],
                mode: 'markers',
                marker: { size: 0.1, color: boxColor },
                showlegend: false,
                hovertemplate: groupName + '<br>Q1/Q3: %{x:.3f}<extra></extra>'
            });

            // Add dots for minimum and maximum observations
            traces.push({
                type: 'scatter',
                x: [stats.min, stats.max],
                y: [yPos, yPos],
                mode: 'markers',
                marker: {
                    size: 6,
                    color: boxColor,
                    symbol: 'circle',
                    line: { width: 1, color: '#FFFFFF' }
                },
                showlegend: false,
                hovertemplate: groupName + '<br>Min/Max: %{x:.3f}<extra></extra>'
            });
        }  // End of displayQuantiles

        // Mean and stdev trace if enabled
        if (displayMeanStd) {
            // Mean and stdev trace - positioned below the box with wavy line
            var meanYPos = yPos - 0.35;  // Position below the box

            // Create wavy line through mean ± stdev points
            var numWaves = 30;  // Number of points for smooth wave
            var xPoints = [];
            var yPoints = [];

            // Generate wavy line from mean-2*stdev to mean+2*stdev
            for (var i = 0; i <= numWaves; i++) {
                var t = i / numWaves;  // 0 to 1
                var xVal = stats.mean - 2*stats.stdev + t * 4 * stats.stdev;
                // Sinusoidal wave with 2 complete cycles
                var waveAmplitude = 0.08;
                var yWave = meanYPos + waveAmplitude * Math.sin(t * Math.PI * 4);
                xPoints.push(xVal);
                yPoints.push(yWave);
            }

            // Wavy line trace
            traces.push({
                type: 'scatter',
                x: xPoints,
                y: yPoints,
                mode: 'lines',
                line: {
                    color: boxColor,
                    width: 2.5,
                    shape: 'spline'
                },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Add markers at key points: mean-2*std, mean-std, mean, mean+std, mean+2*std
            var markerX = [
                stats.mean - 2*stats.stdev,
                stats.mean - stats.stdev,
                stats.mean,
                stats.mean + stats.stdev,
                stats.mean + 2*stats.stdev
            ];
            var markerY = Array(5).fill(meanYPos);
            var markerSymbols = ['diamond', 'circle', 'diamond', 'circle', 'diamond'];
            var markerSizes = [8, 10, 12, 10, 8];
            var markerLabels = ['μ-2σ', 'μ-σ', 'μ', 'μ+σ', 'μ+2σ'];

            traces.push({
                type: 'scatter',
                x: markerX,
                y: markerY,
                mode: 'markers',
                marker: {
                    symbol: markerSymbols,
                    size: markerSizes,
                    color: boxColor,
                    line: { width: 2, color: '#FFFFFF' }
                },
                name: 'Mean ± StDev',
                showlegend: index === 0,
                hovertemplate: groupName + '<br>%{text}<br>Value: %{x:.3f}<extra></extra>',
                text: markerLabels
            });
        }  // End of displayMeanStd

        // Add group label
        var dataRange = stats.p90 - stats.p10;
        annotations.push({
            x: stats.p10 - dataRange * 0.05,
            y: yPos,
            text: groupName,
            xanchor: 'right',
            yanchor: 'middle',
            showarrow: false,
            font: { size: 11, color: '#333' }
        });

        yPos--;
    });

    // Add grouping section labels if applicable
    if (groupingCol !== 'none') {
        var currentGrouping = null;
        var groupingStartY = 0;
        var yPos = 0;

        groupNames.forEach(function(groupName, index) {
            var thisGrouping = groupMetadata[groupName].grouping;

            if (currentGrouping !== thisGrouping) {
                if (currentGrouping !== null) {
                    // Add label for previous grouping
                    var midY = (groupingStartY + yPos + 1) / 2;
                    annotations.push({
                        x: 0,
                        y: midY,
                        text: '<b>' + currentGrouping + '</b>',
                        xanchor: 'left',
                        yanchor: 'middle',
                        xref: 'paper',
                        showarrow: false,
                        font: { size: 13, color: '#000' },
                        xshift: -100
                    });
                }
                currentGrouping = thisGrouping;
                groupingStartY = yPos;
            }

            if (prevGrouping !== null && prevGrouping !== thisGrouping) {
                yPos--;
            }
            prevGrouping = thisGrouping;
            yPos--;
        });

        // Add label for last grouping
        if (currentGrouping !== null) {
            var midY = (groupingStartY + yPos + 1) / 2;
            annotations.push({
                x: 0,
                y: midY,
                text: '<b>' + currentGrouping + '</b>',
                xanchor: 'left',
                yanchor: 'middle',
                xref: 'paper',
                showarrow: false,
                font: { size: 13, color: '#000' },
                xshift: -100
            });
        }
    }

    // Layout
    var layout = {
        title: '',
        xaxis: {
            title: xCol,
            showgrid: true,
            zeroline: true
        },
        yaxis: {
            showticklabels: false,
            showgrid: false,
            zeroline: false,
            range: [yPos - 0.5, 0.5]
        },
        margin: { l: 150, r: 50, t: 20, b: 60 },
        hovermode: 'closest',
        annotations: annotations,
        height: Math.max(400, Math.abs(yPos) * 40)
    };

    Plotly.react('colored_bw', traces, layout, {responsive: true});
}

// Expose updateChart to global scope for dropdown onchange handlers
window.updateChart_colored_bw = updateChart_colored_bw;

// Initialize on load
loadDataset('colored_data').then(function(data) {
    currentData_colored_bw = data;
    initializeFilters_colored_bw();
    updateChart_colored_bw();
    setupAspectRatioControl('colored_bw');
}).catch(function(error) {
    console.error('Error loading data for BoxAndWhiskers colored_bw:', error);
    document.getElementById('colored_bw').innerHTML =
        '<p style="color: red;">Error loading data: ' + error.message + '</p>';
});
})();
(function() {
// Color maps for BoxAndWhiskers grouped_bw
const colorMaps_grouped_bw = {"industry":{"Coal":"#636efa","Tourism":"#EF553B"},"country":{"USA":"#00cc96","Argentina":"#FFA15A","Australia":"#636efa","Brazil":"#EF553B","Suriname":"#ab63fa"}};

// Available columns
const xCols_grouped_bw = ['value'];
const colorCols_grouped_bw = ['industry', 'country'];
const groupingCols_grouped_bw = ['country', 'industry'];
const groupCol_grouped_bw = 'group';

// Filter configuration
const categoricalFilters_grouped_bw = [];
const continuousFilters_grouped_bw = [];

// State variables
let currentData_grouped_bw = null;
let filters_grouped_bw = {};
let rangeFilters_grouped_bw = {};

// Helper function to safely get dropdown value
const getCol_grouped_bw = function(id, def) {
    var el = document.getElementById(id);
    return el ? el.value : def;
};

// Initialize filters from dropdowns
function initializeFilters_grouped_bw() {
    categoricalFilters_grouped_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_grouped_bw');
        if (selectElement) {
            var options = Array.from(selectElement.options);
            filters_grouped_bw[col] = options
                .filter(function(opt) { return opt.selected; })
                .map(function(opt) { return opt.value; });
        }
    });

    continuousFilters_grouped_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_grouped_bw' + '_slider');
        if (slider.length > 0) {
            rangeFilters_grouped_bw[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });
}

// Compute box and whiskers statistics for a group
function computeStats(values) {
    if (values.length === 0) return null;

    // Sort values
    var sorted = values.slice().sort(function(a, b) { return a - b; });
    var n = sorted.length;

    // Helper function to compute quantile
    function quantile(arr, p) {
        var index = (arr.length - 1) * p;
        var lower = Math.floor(index);
        var upper = Math.ceil(index);
        var weight = index - lower;
        return arr[lower] * (1 - weight) + arr[upper] * weight;
    }

    // Compute quantiles
    var min = sorted[0];
    var max = sorted[n - 1];
    var p10 = quantile(sorted, 0.10);
    var q1 = quantile(sorted, 0.25);
    var median = quantile(sorted, 0.50);
    var q3 = quantile(sorted, 0.75);
    var p90 = quantile(sorted, 0.90);

    // Compute mean and stdev
    var mean = values.reduce(function(a, b) { return a + b; }, 0) / n;
    var variance = values.reduce(function(sum, val) {
        return sum + Math.pow(val - mean, 2);
    }, 0) / n;
    var stdev = Math.sqrt(variance);

    return {
        min: min,
        max: max,
        p10: p10,
        q1: q1,
        median: median,
        q3: q3,
        p90: p90,
        mean: mean,
        stdev: stdev
    };
}

// Update chart
function updateChart_grouped_bw() {
    if (!currentData_grouped_bw) return;

    // Get selected values using helper function
    var xCol = getCol_grouped_bw('x_col_select_grouped_bw', 'value');
    var colorCol = getCol_grouped_bw('color_col_select_grouped_bw', 'none');
    var groupingCol = getCol_grouped_bw('grouping_col_select_grouped_bw', 'none');

    // Get toggle states
    var showQuantiles = document.getElementById('show_quantiles_grouped_bw');
    var showMeanStd = document.getElementById('show_mean_std_grouped_bw');
    var displayQuantiles = showQuantiles ? showQuantiles.checked : true;
    var displayMeanStd = showMeanStd ? showMeanStd.checked : true;

    // Re-read filter values from dropdowns/sliders (they may have changed)
    var currentFilters = {};
    categoricalFilters_grouped_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_grouped_bw');
        if (selectElement) {
            currentFilters[col] = Array.from(selectElement.selectedOptions).map(function(opt) {
                return opt.value;
            });
        }
    });

    var currentRangeFilters = {};
    continuousFilters_grouped_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_grouped_bw' + '_slider');
        if (slider.length > 0) {
            currentRangeFilters[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });

    // Apply filters
    var filteredData = applyFiltersWithCounting(
        currentData_grouped_bw,
        'grouped_bw',
        categoricalFilters_grouped_bw,
        continuousFilters_grouped_bw,
        currentFilters,
        currentRangeFilters
    );

    // Group data
    var groupedData = {};
    var groupMetadata = {};  // Store metadata for each group

    filteredData.forEach(function(row) {
        var groupName = String(row[groupCol_grouped_bw]);
        if (!groupedData[groupName]) {
            groupedData[groupName] = [];
            groupMetadata[groupName] = {
                color: colorCol !== 'none' ? String(row[colorCol]) : '',
                grouping: groupingCol !== 'none' ? String(row[groupingCol]) : ''
            };
        }

        var value = parseFloat(row[xCol]);
        if (!isNaN(value)) {
            groupedData[groupName].push(value);
        }
    });

    // Sort groups by grouping column if specified
    var groupNames = Object.keys(groupedData);
    if (groupingCol !== 'none') {
        groupNames.sort(function(a, b) {
            var aGrouping = groupMetadata[a].grouping;
            var bGrouping = groupMetadata[b].grouping;
            if (aGrouping !== bGrouping) {
                return aGrouping.localeCompare(bGrouping);
            }
            return a.localeCompare(b);
        });
    } else {
        groupNames.sort();
    }

    // Create traces for box plots
    var traces = [];
    var annotations = [];
    var yPos = 0;
    var prevGrouping = null;

    groupNames.forEach(function(groupName, index) {
        var values = groupedData[groupName];
        var stats = computeStats(values);

        if (!stats) return;

        // Add spacing between different grouping values
        if (groupingCol !== 'none' && prevGrouping !== null &&
            prevGrouping !== groupMetadata[groupName].grouping) {
            yPos--;  // Add extra spacing
        }
        prevGrouping = groupMetadata[groupName].grouping;

        // Determine color
        var boxColor = '#636efa';  // Default color
        if (colorCol !== 'none' && colorMaps_grouped_bw[colorCol]) {
            var colorValue = groupMetadata[groupName].color;
            boxColor = colorMaps_grouped_bw[colorCol][colorValue] || boxColor;
        }

        // Draw box and whiskers if enabled
        if (displayQuantiles) {
            // Draw box and whiskers manually with custom quantiles (10%, 25%, 50%, 75%, 90%)
            var boxHeight = 0.4;
            var whiskerCapSize = 0.15;

            // Draw the box (Q1 to Q3) as a filled rectangle using scatter
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3, stats.q3, stats.q1, stats.q1],
                y: [yPos - boxHeight/2, yPos - boxHeight/2, yPos + boxHeight/2, yPos + boxHeight/2, yPos - boxHeight/2],
                fill: 'toself',
                fillcolor: boxColor,
                opacity: 0.5,
                line: { color: boxColor, width: 2 },
                mode: 'lines',
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Draw median line
            traces.push({
                type: 'scatter',
                x: [stats.median, stats.median],
                y: [yPos - boxHeight/2, yPos + boxHeight/2],
                mode: 'lines',
                line: { color: boxColor, width: 3 },
                showlegend: false,
                hovertemplate: groupName + '<br>Median: %{x:.3f}<extra></extra>'
            });

            // Lower whisker (Q1 to P10)
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.q1],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Upper whisker (Q3 to P90)
            traces.push({
                type: 'scatter',
                x: [stats.q3, stats.p90],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Lower whisker cap at P10
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.p10],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P10: %{x:.3f}<extra></extra>'
            });

            // Upper whisker cap at P90
            traces.push({
                type: 'scatter',
                x: [stats.p90, stats.p90],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P90: %{x:.3f}<extra></extra>'
            });

            // Add hover info for Q1 and Q3
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3],
                y: [yPos, yPos],
                mode: 'markers',
                marker: { size: 0.1, color: boxColor },
                showlegend: false,
                hovertemplate: groupName + '<br>Q1/Q3: %{x:.3f}<extra></extra>'
            });

            // Add dots for minimum and maximum observations
            traces.push({
                type: 'scatter',
                x: [stats.min, stats.max],
                y: [yPos, yPos],
                mode: 'markers',
                marker: {
                    size: 6,
                    color: boxColor,
                    symbol: 'circle',
                    line: { width: 1, color: '#FFFFFF' }
                },
                showlegend: false,
                hovertemplate: groupName + '<br>Min/Max: %{x:.3f}<extra></extra>'
            });
        }  // End of displayQuantiles

        // Mean and stdev trace if enabled
        if (displayMeanStd) {
            // Mean and stdev trace - positioned below the box with wavy line
            var meanYPos = yPos - 0.35;  // Position below the box

            // Create wavy line through mean ± stdev points
            var numWaves = 30;  // Number of points for smooth wave
            var xPoints = [];
            var yPoints = [];

            // Generate wavy line from mean-2*stdev to mean+2*stdev
            for (var i = 0; i <= numWaves; i++) {
                var t = i / numWaves;  // 0 to 1
                var xVal = stats.mean - 2*stats.stdev + t * 4 * stats.stdev;
                // Sinusoidal wave with 2 complete cycles
                var waveAmplitude = 0.08;
                var yWave = meanYPos + waveAmplitude * Math.sin(t * Math.PI * 4);
                xPoints.push(xVal);
                yPoints.push(yWave);
            }

            // Wavy line trace
            traces.push({
                type: 'scatter',
                x: xPoints,
                y: yPoints,
                mode: 'lines',
                line: {
                    color: boxColor,
                    width: 2.5,
                    shape: 'spline'
                },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Add markers at key points: mean-2*std, mean-std, mean, mean+std, mean+2*std
            var markerX = [
                stats.mean - 2*stats.stdev,
                stats.mean - stats.stdev,
                stats.mean,
                stats.mean + stats.stdev,
                stats.mean + 2*stats.stdev
            ];
            var markerY = Array(5).fill(meanYPos);
            var markerSymbols = ['diamond', 'circle', 'diamond', 'circle', 'diamond'];
            var markerSizes = [8, 10, 12, 10, 8];
            var markerLabels = ['μ-2σ', 'μ-σ', 'μ', 'μ+σ', 'μ+2σ'];

            traces.push({
                type: 'scatter',
                x: markerX,
                y: markerY,
                mode: 'markers',
                marker: {
                    symbol: markerSymbols,
                    size: markerSizes,
                    color: boxColor,
                    line: { width: 2, color: '#FFFFFF' }
                },
                name: 'Mean ± StDev',
                showlegend: index === 0,
                hovertemplate: groupName + '<br>%{text}<br>Value: %{x:.3f}<extra></extra>',
                text: markerLabels
            });
        }  // End of displayMeanStd

        // Add group label
        var dataRange = stats.p90 - stats.p10;
        annotations.push({
            x: stats.p10 - dataRange * 0.05,
            y: yPos,
            text: groupName,
            xanchor: 'right',
            yanchor: 'middle',
            showarrow: false,
            font: { size: 11, color: '#333' }
        });

        yPos--;
    });

    // Add grouping section labels if applicable
    if (groupingCol !== 'none') {
        var currentGrouping = null;
        var groupingStartY = 0;
        var yPos = 0;

        groupNames.forEach(function(groupName, index) {
            var thisGrouping = groupMetadata[groupName].grouping;

            if (currentGrouping !== thisGrouping) {
                if (currentGrouping !== null) {
                    // Add label for previous grouping
                    var midY = (groupingStartY + yPos + 1) / 2;
                    annotations.push({
                        x: 0,
                        y: midY,
                        text: '<b>' + currentGrouping + '</b>',
                        xanchor: 'left',
                        yanchor: 'middle',
                        xref: 'paper',
                        showarrow: false,
                        font: { size: 13, color: '#000' },
                        xshift: -100
                    });
                }
                currentGrouping = thisGrouping;
                groupingStartY = yPos;
            }

            if (prevGrouping !== null && prevGrouping !== thisGrouping) {
                yPos--;
            }
            prevGrouping = thisGrouping;
            yPos--;
        });

        // Add label for last grouping
        if (currentGrouping !== null) {
            var midY = (groupingStartY + yPos + 1) / 2;
            annotations.push({
                x: 0,
                y: midY,
                text: '<b>' + currentGrouping + '</b>',
                xanchor: 'left',
                yanchor: 'middle',
                xref: 'paper',
                showarrow: false,
                font: { size: 13, color: '#000' },
                xshift: -100
            });
        }
    }

    // Layout
    var layout = {
        title: '',
        xaxis: {
            title: xCol,
            showgrid: true,
            zeroline: true
        },
        yaxis: {
            showticklabels: false,
            showgrid: false,
            zeroline: false,
            range: [yPos - 0.5, 0.5]
        },
        margin: { l: 150, r: 50, t: 20, b: 60 },
        hovermode: 'closest',
        annotations: annotations,
        height: Math.max(400, Math.abs(yPos) * 40)
    };

    Plotly.react('grouped_bw', traces, layout, {responsive: true});
}

// Expose updateChart to global scope for dropdown onchange handlers
window.updateChart_grouped_bw = updateChart_grouped_bw;

// Initialize on load
loadDataset('grouped_data').then(function(data) {
    currentData_grouped_bw = data;
    initializeFilters_grouped_bw();
    updateChart_grouped_bw();
    setupAspectRatioControl('grouped_bw');
}).catch(function(error) {
    console.error('Error loading data for BoxAndWhiskers grouped_bw:', error);
    document.getElementById('grouped_bw').innerHTML =
        '<p style="color: red;">Error loading data: ' + error.message + '</p>';
});
})();
(function() {
// Color maps for BoxAndWhiskers multi_value_bw
const colorMaps_multi_value_bw = {"category":{"Home":"#EF553B","Electronics":"#636efa"}};

// Available columns
const xCols_multi_value_bw = ['revenue', 'units_sold', 'customer_satisfaction'];
const colorCols_multi_value_bw = ['category'];
const groupingCols_multi_value_bw = ['category'];
const groupCol_multi_value_bw = 'group';

// Filter configuration
const categoricalFilters_multi_value_bw = [];
const continuousFilters_multi_value_bw = [];

// State variables
let currentData_multi_value_bw = null;
let filters_multi_value_bw = {};
let rangeFilters_multi_value_bw = {};

// Helper function to safely get dropdown value
const getCol_multi_value_bw = function(id, def) {
    var el = document.getElementById(id);
    return el ? el.value : def;
};

// Initialize filters from dropdowns
function initializeFilters_multi_value_bw() {
    categoricalFilters_multi_value_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_multi_value_bw');
        if (selectElement) {
            var options = Array.from(selectElement.options);
            filters_multi_value_bw[col] = options
                .filter(function(opt) { return opt.selected; })
                .map(function(opt) { return opt.value; });
        }
    });

    continuousFilters_multi_value_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_multi_value_bw' + '_slider');
        if (slider.length > 0) {
            rangeFilters_multi_value_bw[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });
}

// Compute box and whiskers statistics for a group
function computeStats(values) {
    if (values.length === 0) return null;

    // Sort values
    var sorted = values.slice().sort(function(a, b) { return a - b; });
    var n = sorted.length;

    // Helper function to compute quantile
    function quantile(arr, p) {
        var index = (arr.length - 1) * p;
        var lower = Math.floor(index);
        var upper = Math.ceil(index);
        var weight = index - lower;
        return arr[lower] * (1 - weight) + arr[upper] * weight;
    }

    // Compute quantiles
    var min = sorted[0];
    var max = sorted[n - 1];
    var p10 = quantile(sorted, 0.10);
    var q1 = quantile(sorted, 0.25);
    var median = quantile(sorted, 0.50);
    var q3 = quantile(sorted, 0.75);
    var p90 = quantile(sorted, 0.90);

    // Compute mean and stdev
    var mean = values.reduce(function(a, b) { return a + b; }, 0) / n;
    var variance = values.reduce(function(sum, val) {
        return sum + Math.pow(val - mean, 2);
    }, 0) / n;
    var stdev = Math.sqrt(variance);

    return {
        min: min,
        max: max,
        p10: p10,
        q1: q1,
        median: median,
        q3: q3,
        p90: p90,
        mean: mean,
        stdev: stdev
    };
}

// Update chart
function updateChart_multi_value_bw() {
    if (!currentData_multi_value_bw) return;

    // Get selected values using helper function
    var xCol = getCol_multi_value_bw('x_col_select_multi_value_bw', 'revenue');
    var colorCol = getCol_multi_value_bw('color_col_select_multi_value_bw', 'none');
    var groupingCol = getCol_multi_value_bw('grouping_col_select_multi_value_bw', 'none');

    // Get toggle states
    var showQuantiles = document.getElementById('show_quantiles_multi_value_bw');
    var showMeanStd = document.getElementById('show_mean_std_multi_value_bw');
    var displayQuantiles = showQuantiles ? showQuantiles.checked : true;
    var displayMeanStd = showMeanStd ? showMeanStd.checked : true;

    // Re-read filter values from dropdowns/sliders (they may have changed)
    var currentFilters = {};
    categoricalFilters_multi_value_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_multi_value_bw');
        if (selectElement) {
            currentFilters[col] = Array.from(selectElement.selectedOptions).map(function(opt) {
                return opt.value;
            });
        }
    });

    var currentRangeFilters = {};
    continuousFilters_multi_value_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_multi_value_bw' + '_slider');
        if (slider.length > 0) {
            currentRangeFilters[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });

    // Apply filters
    var filteredData = applyFiltersWithCounting(
        currentData_multi_value_bw,
        'multi_value_bw',
        categoricalFilters_multi_value_bw,
        continuousFilters_multi_value_bw,
        currentFilters,
        currentRangeFilters
    );

    // Group data
    var groupedData = {};
    var groupMetadata = {};  // Store metadata for each group

    filteredData.forEach(function(row) {
        var groupName = String(row[groupCol_multi_value_bw]);
        if (!groupedData[groupName]) {
            groupedData[groupName] = [];
            groupMetadata[groupName] = {
                color: colorCol !== 'none' ? String(row[colorCol]) : '',
                grouping: groupingCol !== 'none' ? String(row[groupingCol]) : ''
            };
        }

        var value = parseFloat(row[xCol]);
        if (!isNaN(value)) {
            groupedData[groupName].push(value);
        }
    });

    // Sort groups by grouping column if specified
    var groupNames = Object.keys(groupedData);
    if (groupingCol !== 'none') {
        groupNames.sort(function(a, b) {
            var aGrouping = groupMetadata[a].grouping;
            var bGrouping = groupMetadata[b].grouping;
            if (aGrouping !== bGrouping) {
                return aGrouping.localeCompare(bGrouping);
            }
            return a.localeCompare(b);
        });
    } else {
        groupNames.sort();
    }

    // Create traces for box plots
    var traces = [];
    var annotations = [];
    var yPos = 0;
    var prevGrouping = null;

    groupNames.forEach(function(groupName, index) {
        var values = groupedData[groupName];
        var stats = computeStats(values);

        if (!stats) return;

        // Add spacing between different grouping values
        if (groupingCol !== 'none' && prevGrouping !== null &&
            prevGrouping !== groupMetadata[groupName].grouping) {
            yPos--;  // Add extra spacing
        }
        prevGrouping = groupMetadata[groupName].grouping;

        // Determine color
        var boxColor = '#636efa';  // Default color
        if (colorCol !== 'none' && colorMaps_multi_value_bw[colorCol]) {
            var colorValue = groupMetadata[groupName].color;
            boxColor = colorMaps_multi_value_bw[colorCol][colorValue] || boxColor;
        }

        // Draw box and whiskers if enabled
        if (displayQuantiles) {
            // Draw box and whiskers manually with custom quantiles (10%, 25%, 50%, 75%, 90%)
            var boxHeight = 0.4;
            var whiskerCapSize = 0.15;

            // Draw the box (Q1 to Q3) as a filled rectangle using scatter
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3, stats.q3, stats.q1, stats.q1],
                y: [yPos - boxHeight/2, yPos - boxHeight/2, yPos + boxHeight/2, yPos + boxHeight/2, yPos - boxHeight/2],
                fill: 'toself',
                fillcolor: boxColor,
                opacity: 0.5,
                line: { color: boxColor, width: 2 },
                mode: 'lines',
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Draw median line
            traces.push({
                type: 'scatter',
                x: [stats.median, stats.median],
                y: [yPos - boxHeight/2, yPos + boxHeight/2],
                mode: 'lines',
                line: { color: boxColor, width: 3 },
                showlegend: false,
                hovertemplate: groupName + '<br>Median: %{x:.3f}<extra></extra>'
            });

            // Lower whisker (Q1 to P10)
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.q1],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Upper whisker (Q3 to P90)
            traces.push({
                type: 'scatter',
                x: [stats.q3, stats.p90],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Lower whisker cap at P10
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.p10],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P10: %{x:.3f}<extra></extra>'
            });

            // Upper whisker cap at P90
            traces.push({
                type: 'scatter',
                x: [stats.p90, stats.p90],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P90: %{x:.3f}<extra></extra>'
            });

            // Add hover info for Q1 and Q3
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3],
                y: [yPos, yPos],
                mode: 'markers',
                marker: { size: 0.1, color: boxColor },
                showlegend: false,
                hovertemplate: groupName + '<br>Q1/Q3: %{x:.3f}<extra></extra>'
            });

            // Add dots for minimum and maximum observations
            traces.push({
                type: 'scatter',
                x: [stats.min, stats.max],
                y: [yPos, yPos],
                mode: 'markers',
                marker: {
                    size: 6,
                    color: boxColor,
                    symbol: 'circle',
                    line: { width: 1, color: '#FFFFFF' }
                },
                showlegend: false,
                hovertemplate: groupName + '<br>Min/Max: %{x:.3f}<extra></extra>'
            });
        }  // End of displayQuantiles

        // Mean and stdev trace if enabled
        if (displayMeanStd) {
            // Mean and stdev trace - positioned below the box with wavy line
            var meanYPos = yPos - 0.35;  // Position below the box

            // Create wavy line through mean ± stdev points
            var numWaves = 30;  // Number of points for smooth wave
            var xPoints = [];
            var yPoints = [];

            // Generate wavy line from mean-2*stdev to mean+2*stdev
            for (var i = 0; i <= numWaves; i++) {
                var t = i / numWaves;  // 0 to 1
                var xVal = stats.mean - 2*stats.stdev + t * 4 * stats.stdev;
                // Sinusoidal wave with 2 complete cycles
                var waveAmplitude = 0.08;
                var yWave = meanYPos + waveAmplitude * Math.sin(t * Math.PI * 4);
                xPoints.push(xVal);
                yPoints.push(yWave);
            }

            // Wavy line trace
            traces.push({
                type: 'scatter',
                x: xPoints,
                y: yPoints,
                mode: 'lines',
                line: {
                    color: boxColor,
                    width: 2.5,
                    shape: 'spline'
                },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Add markers at key points: mean-2*std, mean-std, mean, mean+std, mean+2*std
            var markerX = [
                stats.mean - 2*stats.stdev,
                stats.mean - stats.stdev,
                stats.mean,
                stats.mean + stats.stdev,
                stats.mean + 2*stats.stdev
            ];
            var markerY = Array(5).fill(meanYPos);
            var markerSymbols = ['diamond', 'circle', 'diamond', 'circle', 'diamond'];
            var markerSizes = [8, 10, 12, 10, 8];
            var markerLabels = ['μ-2σ', 'μ-σ', 'μ', 'μ+σ', 'μ+2σ'];

            traces.push({
                type: 'scatter',
                x: markerX,
                y: markerY,
                mode: 'markers',
                marker: {
                    symbol: markerSymbols,
                    size: markerSizes,
                    color: boxColor,
                    line: { width: 2, color: '#FFFFFF' }
                },
                name: 'Mean ± StDev',
                showlegend: index === 0,
                hovertemplate: groupName + '<br>%{text}<br>Value: %{x:.3f}<extra></extra>',
                text: markerLabels
            });
        }  // End of displayMeanStd

        // Add group label
        var dataRange = stats.p90 - stats.p10;
        annotations.push({
            x: stats.p10 - dataRange * 0.05,
            y: yPos,
            text: groupName,
            xanchor: 'right',
            yanchor: 'middle',
            showarrow: false,
            font: { size: 11, color: '#333' }
        });

        yPos--;
    });

    // Add grouping section labels if applicable
    if (groupingCol !== 'none') {
        var currentGrouping = null;
        var groupingStartY = 0;
        var yPos = 0;

        groupNames.forEach(function(groupName, index) {
            var thisGrouping = groupMetadata[groupName].grouping;

            if (currentGrouping !== thisGrouping) {
                if (currentGrouping !== null) {
                    // Add label for previous grouping
                    var midY = (groupingStartY + yPos + 1) / 2;
                    annotations.push({
                        x: 0,
                        y: midY,
                        text: '<b>' + currentGrouping + '</b>',
                        xanchor: 'left',
                        yanchor: 'middle',
                        xref: 'paper',
                        showarrow: false,
                        font: { size: 13, color: '#000' },
                        xshift: -100
                    });
                }
                currentGrouping = thisGrouping;
                groupingStartY = yPos;
            }

            if (prevGrouping !== null && prevGrouping !== thisGrouping) {
                yPos--;
            }
            prevGrouping = thisGrouping;
            yPos--;
        });

        // Add label for last grouping
        if (currentGrouping !== null) {
            var midY = (groupingStartY + yPos + 1) / 2;
            annotations.push({
                x: 0,
                y: midY,
                text: '<b>' + currentGrouping + '</b>',
                xanchor: 'left',
                yanchor: 'middle',
                xref: 'paper',
                showarrow: false,
                font: { size: 13, color: '#000' },
                xshift: -100
            });
        }
    }

    // Layout
    var layout = {
        title: '',
        xaxis: {
            title: xCol,
            showgrid: true,
            zeroline: true
        },
        yaxis: {
            showticklabels: false,
            showgrid: false,
            zeroline: false,
            range: [yPos - 0.5, 0.5]
        },
        margin: { l: 150, r: 50, t: 20, b: 60 },
        hovermode: 'closest',
        annotations: annotations,
        height: Math.max(400, Math.abs(yPos) * 40)
    };

    Plotly.react('multi_value_bw', traces, layout, {responsive: true});
}

// Expose updateChart to global scope for dropdown onchange handlers
window.updateChart_multi_value_bw = updateChart_multi_value_bw;

// Initialize on load
loadDataset('multi_data').then(function(data) {
    currentData_multi_value_bw = data;
    initializeFilters_multi_value_bw();
    updateChart_multi_value_bw();
    setupAspectRatioControl('multi_value_bw');
}).catch(function(error) {
    console.error('Error loading data for BoxAndWhiskers multi_value_bw:', error);
    document.getElementById('multi_value_bw').innerHTML =
        '<p style="color: red;">Error loading data: ' + error.message + '</p>';
});
})();
(function() {
// Color maps for BoxAndWhiskers filtered_bw
const colorMaps_filtered_bw = {"division":{"B":"#EF553B","A":"#636efa"},"region":{"East":"#00cc96","West":"#ab63fa","North":"#636efa","South":"#EF553B"}};

// Available columns
const xCols_filtered_bw = ['score'];
const colorCols_filtered_bw = ['region', 'division'];
const groupingCols_filtered_bw = ['region', 'division'];
const groupCol_filtered_bw = 'group';

// Filter configuration
const categoricalFilters_filtered_bw = ['region', 'quarter'];
const continuousFilters_filtered_bw = [];

// State variables
let currentData_filtered_bw = null;
let filters_filtered_bw = {};
let rangeFilters_filtered_bw = {};

// Helper function to safely get dropdown value
const getCol_filtered_bw = function(id, def) {
    var el = document.getElementById(id);
    return el ? el.value : def;
};

// Initialize filters from dropdowns
function initializeFilters_filtered_bw() {
    categoricalFilters_filtered_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_filtered_bw');
        if (selectElement) {
            var options = Array.from(selectElement.options);
            filters_filtered_bw[col] = options
                .filter(function(opt) { return opt.selected; })
                .map(function(opt) { return opt.value; });
        }
    });

    continuousFilters_filtered_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_filtered_bw' + '_slider');
        if (slider.length > 0) {
            rangeFilters_filtered_bw[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });
}

// Compute box and whiskers statistics for a group
function computeStats(values) {
    if (values.length === 0) return null;

    // Sort values
    var sorted = values.slice().sort(function(a, b) { return a - b; });
    var n = sorted.length;

    // Helper function to compute quantile
    function quantile(arr, p) {
        var index = (arr.length - 1) * p;
        var lower = Math.floor(index);
        var upper = Math.ceil(index);
        var weight = index - lower;
        return arr[lower] * (1 - weight) + arr[upper] * weight;
    }

    // Compute quantiles
    var min = sorted[0];
    var max = sorted[n - 1];
    var p10 = quantile(sorted, 0.10);
    var q1 = quantile(sorted, 0.25);
    var median = quantile(sorted, 0.50);
    var q3 = quantile(sorted, 0.75);
    var p90 = quantile(sorted, 0.90);

    // Compute mean and stdev
    var mean = values.reduce(function(a, b) { return a + b; }, 0) / n;
    var variance = values.reduce(function(sum, val) {
        return sum + Math.pow(val - mean, 2);
    }, 0) / n;
    var stdev = Math.sqrt(variance);

    return {
        min: min,
        max: max,
        p10: p10,
        q1: q1,
        median: median,
        q3: q3,
        p90: p90,
        mean: mean,
        stdev: stdev
    };
}

// Update chart
function updateChart_filtered_bw() {
    if (!currentData_filtered_bw) return;

    // Get selected values using helper function
    var xCol = getCol_filtered_bw('x_col_select_filtered_bw', 'score');
    var colorCol = getCol_filtered_bw('color_col_select_filtered_bw', 'none');
    var groupingCol = getCol_filtered_bw('grouping_col_select_filtered_bw', 'none');

    // Get toggle states
    var showQuantiles = document.getElementById('show_quantiles_filtered_bw');
    var showMeanStd = document.getElementById('show_mean_std_filtered_bw');
    var displayQuantiles = showQuantiles ? showQuantiles.checked : true;
    var displayMeanStd = showMeanStd ? showMeanStd.checked : true;

    // Re-read filter values from dropdowns/sliders (they may have changed)
    var currentFilters = {};
    categoricalFilters_filtered_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_filtered_bw');
        if (selectElement) {
            currentFilters[col] = Array.from(selectElement.selectedOptions).map(function(opt) {
                return opt.value;
            });
        }
    });

    var currentRangeFilters = {};
    continuousFilters_filtered_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_filtered_bw' + '_slider');
        if (slider.length > 0) {
            currentRangeFilters[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });

    // Apply filters
    var filteredData = applyFiltersWithCounting(
        currentData_filtered_bw,
        'filtered_bw',
        categoricalFilters_filtered_bw,
        continuousFilters_filtered_bw,
        currentFilters,
        currentRangeFilters
    );

    // Group data
    var groupedData = {};
    var groupMetadata = {};  // Store metadata for each group

    filteredData.forEach(function(row) {
        var groupName = String(row[groupCol_filtered_bw]);
        if (!groupedData[groupName]) {
            groupedData[groupName] = [];
            groupMetadata[groupName] = {
                color: colorCol !== 'none' ? String(row[colorCol]) : '',
                grouping: groupingCol !== 'none' ? String(row[groupingCol]) : ''
            };
        }

        var value = parseFloat(row[xCol]);
        if (!isNaN(value)) {
            groupedData[groupName].push(value);
        }
    });

    // Sort groups by grouping column if specified
    var groupNames = Object.keys(groupedData);
    if (groupingCol !== 'none') {
        groupNames.sort(function(a, b) {
            var aGrouping = groupMetadata[a].grouping;
            var bGrouping = groupMetadata[b].grouping;
            if (aGrouping !== bGrouping) {
                return aGrouping.localeCompare(bGrouping);
            }
            return a.localeCompare(b);
        });
    } else {
        groupNames.sort();
    }

    // Create traces for box plots
    var traces = [];
    var annotations = [];
    var yPos = 0;
    var prevGrouping = null;

    groupNames.forEach(function(groupName, index) {
        var values = groupedData[groupName];
        var stats = computeStats(values);

        if (!stats) return;

        // Add spacing between different grouping values
        if (groupingCol !== 'none' && prevGrouping !== null &&
            prevGrouping !== groupMetadata[groupName].grouping) {
            yPos--;  // Add extra spacing
        }
        prevGrouping = groupMetadata[groupName].grouping;

        // Determine color
        var boxColor = '#636efa';  // Default color
        if (colorCol !== 'none' && colorMaps_filtered_bw[colorCol]) {
            var colorValue = groupMetadata[groupName].color;
            boxColor = colorMaps_filtered_bw[colorCol][colorValue] || boxColor;
        }

        // Draw box and whiskers if enabled
        if (displayQuantiles) {
            // Draw box and whiskers manually with custom quantiles (10%, 25%, 50%, 75%, 90%)
            var boxHeight = 0.4;
            var whiskerCapSize = 0.15;

            // Draw the box (Q1 to Q3) as a filled rectangle using scatter
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3, stats.q3, stats.q1, stats.q1],
                y: [yPos - boxHeight/2, yPos - boxHeight/2, yPos + boxHeight/2, yPos + boxHeight/2, yPos - boxHeight/2],
                fill: 'toself',
                fillcolor: boxColor,
                opacity: 0.5,
                line: { color: boxColor, width: 2 },
                mode: 'lines',
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Draw median line
            traces.push({
                type: 'scatter',
                x: [stats.median, stats.median],
                y: [yPos - boxHeight/2, yPos + boxHeight/2],
                mode: 'lines',
                line: { color: boxColor, width: 3 },
                showlegend: false,
                hovertemplate: groupName + '<br>Median: %{x:.3f}<extra></extra>'
            });

            // Lower whisker (Q1 to P10)
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.q1],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Upper whisker (Q3 to P90)
            traces.push({
                type: 'scatter',
                x: [stats.q3, stats.p90],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Lower whisker cap at P10
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.p10],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P10: %{x:.3f}<extra></extra>'
            });

            // Upper whisker cap at P90
            traces.push({
                type: 'scatter',
                x: [stats.p90, stats.p90],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P90: %{x:.3f}<extra></extra>'
            });

            // Add hover info for Q1 and Q3
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3],
                y: [yPos, yPos],
                mode: 'markers',
                marker: { size: 0.1, color: boxColor },
                showlegend: false,
                hovertemplate: groupName + '<br>Q1/Q3: %{x:.3f}<extra></extra>'
            });

            // Add dots for minimum and maximum observations
            traces.push({
                type: 'scatter',
                x: [stats.min, stats.max],
                y: [yPos, yPos],
                mode: 'markers',
                marker: {
                    size: 6,
                    color: boxColor,
                    symbol: 'circle',
                    line: { width: 1, color: '#FFFFFF' }
                },
                showlegend: false,
                hovertemplate: groupName + '<br>Min/Max: %{x:.3f}<extra></extra>'
            });
        }  // End of displayQuantiles

        // Mean and stdev trace if enabled
        if (displayMeanStd) {
            // Mean and stdev trace - positioned below the box with wavy line
            var meanYPos = yPos - 0.35;  // Position below the box

            // Create wavy line through mean ± stdev points
            var numWaves = 30;  // Number of points for smooth wave
            var xPoints = [];
            var yPoints = [];

            // Generate wavy line from mean-2*stdev to mean+2*stdev
            for (var i = 0; i <= numWaves; i++) {
                var t = i / numWaves;  // 0 to 1
                var xVal = stats.mean - 2*stats.stdev + t * 4 * stats.stdev;
                // Sinusoidal wave with 2 complete cycles
                var waveAmplitude = 0.08;
                var yWave = meanYPos + waveAmplitude * Math.sin(t * Math.PI * 4);
                xPoints.push(xVal);
                yPoints.push(yWave);
            }

            // Wavy line trace
            traces.push({
                type: 'scatter',
                x: xPoints,
                y: yPoints,
                mode: 'lines',
                line: {
                    color: boxColor,
                    width: 2.5,
                    shape: 'spline'
                },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Add markers at key points: mean-2*std, mean-std, mean, mean+std, mean+2*std
            var markerX = [
                stats.mean - 2*stats.stdev,
                stats.mean - stats.stdev,
                stats.mean,
                stats.mean + stats.stdev,
                stats.mean + 2*stats.stdev
            ];
            var markerY = Array(5).fill(meanYPos);
            var markerSymbols = ['diamond', 'circle', 'diamond', 'circle', 'diamond'];
            var markerSizes = [8, 10, 12, 10, 8];
            var markerLabels = ['μ-2σ', 'μ-σ', 'μ', 'μ+σ', 'μ+2σ'];

            traces.push({
                type: 'scatter',
                x: markerX,
                y: markerY,
                mode: 'markers',
                marker: {
                    symbol: markerSymbols,
                    size: markerSizes,
                    color: boxColor,
                    line: { width: 2, color: '#FFFFFF' }
                },
                name: 'Mean ± StDev',
                showlegend: index === 0,
                hovertemplate: groupName + '<br>%{text}<br>Value: %{x:.3f}<extra></extra>',
                text: markerLabels
            });
        }  // End of displayMeanStd

        // Add group label
        var dataRange = stats.p90 - stats.p10;
        annotations.push({
            x: stats.p10 - dataRange * 0.05,
            y: yPos,
            text: groupName,
            xanchor: 'right',
            yanchor: 'middle',
            showarrow: false,
            font: { size: 11, color: '#333' }
        });

        yPos--;
    });

    // Add grouping section labels if applicable
    if (groupingCol !== 'none') {
        var currentGrouping = null;
        var groupingStartY = 0;
        var yPos = 0;

        groupNames.forEach(function(groupName, index) {
            var thisGrouping = groupMetadata[groupName].grouping;

            if (currentGrouping !== thisGrouping) {
                if (currentGrouping !== null) {
                    // Add label for previous grouping
                    var midY = (groupingStartY + yPos + 1) / 2;
                    annotations.push({
                        x: 0,
                        y: midY,
                        text: '<b>' + currentGrouping + '</b>',
                        xanchor: 'left',
                        yanchor: 'middle',
                        xref: 'paper',
                        showarrow: false,
                        font: { size: 13, color: '#000' },
                        xshift: -100
                    });
                }
                currentGrouping = thisGrouping;
                groupingStartY = yPos;
            }

            if (prevGrouping !== null && prevGrouping !== thisGrouping) {
                yPos--;
            }
            prevGrouping = thisGrouping;
            yPos--;
        });

        // Add label for last grouping
        if (currentGrouping !== null) {
            var midY = (groupingStartY + yPos + 1) / 2;
            annotations.push({
                x: 0,
                y: midY,
                text: '<b>' + currentGrouping + '</b>',
                xanchor: 'left',
                yanchor: 'middle',
                xref: 'paper',
                showarrow: false,
                font: { size: 13, color: '#000' },
                xshift: -100
            });
        }
    }

    // Layout
    var layout = {
        title: '',
        xaxis: {
            title: xCol,
            showgrid: true,
            zeroline: true
        },
        yaxis: {
            showticklabels: false,
            showgrid: false,
            zeroline: false,
            range: [yPos - 0.5, 0.5]
        },
        margin: { l: 150, r: 50, t: 20, b: 60 },
        hovermode: 'closest',
        annotations: annotations,
        height: Math.max(400, Math.abs(yPos) * 40)
    };

    Plotly.react('filtered_bw', traces, layout, {responsive: true});
}

// Expose updateChart to global scope for dropdown onchange handlers
window.updateChart_filtered_bw = updateChart_filtered_bw;

// Initialize on load
loadDataset('filtered_data').then(function(data) {
    currentData_filtered_bw = data;
    initializeFilters_filtered_bw();
    updateChart_filtered_bw();
    setupAspectRatioControl('filtered_bw');
}).catch(function(error) {
    console.error('Error loading data for BoxAndWhiskers filtered_bw:', error);
    document.getElementById('filtered_bw').innerHTML =
        '<p style="color: red;">Error loading data: ' + error.message + '</p>';
});
})();
(function() {
// Color maps for BoxAndWhiskers wide_range_bw
const colorMaps_wide_range_bw = {"sector":{"Finance":"#EF553B","Manufacturing":"#00cc96","Services":"#FFA15A","Retail":"#ab63fa","Tech":"#636efa"}};

// Available columns
const xCols_wide_range_bw = ['annual_revenue'];
const colorCols_wide_range_bw = ['sector'];
const groupingCols_wide_range_bw = [];
const groupCol_wide_range_bw = 'group';

// Filter configuration
const categoricalFilters_wide_range_bw = [];
const continuousFilters_wide_range_bw = [];

// State variables
let currentData_wide_range_bw = null;
let filters_wide_range_bw = {};
let rangeFilters_wide_range_bw = {};

// Helper function to safely get dropdown value
const getCol_wide_range_bw = function(id, def) {
    var el = document.getElementById(id);
    return el ? el.value : def;
};

// Initialize filters from dropdowns
function initializeFilters_wide_range_bw() {
    categoricalFilters_wide_range_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_wide_range_bw');
        if (selectElement) {
            var options = Array.from(selectElement.options);
            filters_wide_range_bw[col] = options
                .filter(function(opt) { return opt.selected; })
                .map(function(opt) { return opt.value; });
        }
    });

    continuousFilters_wide_range_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_wide_range_bw' + '_slider');
        if (slider.length > 0) {
            rangeFilters_wide_range_bw[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });
}

// Compute box and whiskers statistics for a group
function computeStats(values) {
    if (values.length === 0) return null;

    // Sort values
    var sorted = values.slice().sort(function(a, b) { return a - b; });
    var n = sorted.length;

    // Helper function to compute quantile
    function quantile(arr, p) {
        var index = (arr.length - 1) * p;
        var lower = Math.floor(index);
        var upper = Math.ceil(index);
        var weight = index - lower;
        return arr[lower] * (1 - weight) + arr[upper] * weight;
    }

    // Compute quantiles
    var min = sorted[0];
    var max = sorted[n - 1];
    var p10 = quantile(sorted, 0.10);
    var q1 = quantile(sorted, 0.25);
    var median = quantile(sorted, 0.50);
    var q3 = quantile(sorted, 0.75);
    var p90 = quantile(sorted, 0.90);

    // Compute mean and stdev
    var mean = values.reduce(function(a, b) { return a + b; }, 0) / n;
    var variance = values.reduce(function(sum, val) {
        return sum + Math.pow(val - mean, 2);
    }, 0) / n;
    var stdev = Math.sqrt(variance);

    return {
        min: min,
        max: max,
        p10: p10,
        q1: q1,
        median: median,
        q3: q3,
        p90: p90,
        mean: mean,
        stdev: stdev
    };
}

// Update chart
function updateChart_wide_range_bw() {
    if (!currentData_wide_range_bw) return;

    // Get selected values using helper function
    var xCol = getCol_wide_range_bw('x_col_select_wide_range_bw', 'annual_revenue');
    var colorCol = getCol_wide_range_bw('color_col_select_wide_range_bw', 'none');
    var groupingCol = getCol_wide_range_bw('grouping_col_select_wide_range_bw', 'none');

    // Get toggle states
    var showQuantiles = document.getElementById('show_quantiles_wide_range_bw');
    var showMeanStd = document.getElementById('show_mean_std_wide_range_bw');
    var displayQuantiles = showQuantiles ? showQuantiles.checked : true;
    var displayMeanStd = showMeanStd ? showMeanStd.checked : true;

    // Re-read filter values from dropdowns/sliders (they may have changed)
    var currentFilters = {};
    categoricalFilters_wide_range_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_wide_range_bw');
        if (selectElement) {
            currentFilters[col] = Array.from(selectElement.selectedOptions).map(function(opt) {
                return opt.value;
            });
        }
    });

    var currentRangeFilters = {};
    continuousFilters_wide_range_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_wide_range_bw' + '_slider');
        if (slider.length > 0) {
            currentRangeFilters[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });

    // Apply filters
    var filteredData = applyFiltersWithCounting(
        currentData_wide_range_bw,
        'wide_range_bw',
        categoricalFilters_wide_range_bw,
        continuousFilters_wide_range_bw,
        currentFilters,
        currentRangeFilters
    );

    // Group data
    var groupedData = {};
    var groupMetadata = {};  // Store metadata for each group

    filteredData.forEach(function(row) {
        var groupName = String(row[groupCol_wide_range_bw]);
        if (!groupedData[groupName]) {
            groupedData[groupName] = [];
            groupMetadata[groupName] = {
                color: colorCol !== 'none' ? String(row[colorCol]) : '',
                grouping: groupingCol !== 'none' ? String(row[groupingCol]) : ''
            };
        }

        var value = parseFloat(row[xCol]);
        if (!isNaN(value)) {
            groupedData[groupName].push(value);
        }
    });

    // Sort groups by grouping column if specified
    var groupNames = Object.keys(groupedData);
    if (groupingCol !== 'none') {
        groupNames.sort(function(a, b) {
            var aGrouping = groupMetadata[a].grouping;
            var bGrouping = groupMetadata[b].grouping;
            if (aGrouping !== bGrouping) {
                return aGrouping.localeCompare(bGrouping);
            }
            return a.localeCompare(b);
        });
    } else {
        groupNames.sort();
    }

    // Create traces for box plots
    var traces = [];
    var annotations = [];
    var yPos = 0;
    var prevGrouping = null;

    groupNames.forEach(function(groupName, index) {
        var values = groupedData[groupName];
        var stats = computeStats(values);

        if (!stats) return;

        // Add spacing between different grouping values
        if (groupingCol !== 'none' && prevGrouping !== null &&
            prevGrouping !== groupMetadata[groupName].grouping) {
            yPos--;  // Add extra spacing
        }
        prevGrouping = groupMetadata[groupName].grouping;

        // Determine color
        var boxColor = '#636efa';  // Default color
        if (colorCol !== 'none' && colorMaps_wide_range_bw[colorCol]) {
            var colorValue = groupMetadata[groupName].color;
            boxColor = colorMaps_wide_range_bw[colorCol][colorValue] || boxColor;
        }

        // Draw box and whiskers if enabled
        if (displayQuantiles) {
            // Draw box and whiskers manually with custom quantiles (10%, 25%, 50%, 75%, 90%)
            var boxHeight = 0.4;
            var whiskerCapSize = 0.15;

            // Draw the box (Q1 to Q3) as a filled rectangle using scatter
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3, stats.q3, stats.q1, stats.q1],
                y: [yPos - boxHeight/2, yPos - boxHeight/2, yPos + boxHeight/2, yPos + boxHeight/2, yPos - boxHeight/2],
                fill: 'toself',
                fillcolor: boxColor,
                opacity: 0.5,
                line: { color: boxColor, width: 2 },
                mode: 'lines',
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Draw median line
            traces.push({
                type: 'scatter',
                x: [stats.median, stats.median],
                y: [yPos - boxHeight/2, yPos + boxHeight/2],
                mode: 'lines',
                line: { color: boxColor, width: 3 },
                showlegend: false,
                hovertemplate: groupName + '<br>Median: %{x:.3f}<extra></extra>'
            });

            // Lower whisker (Q1 to P10)
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.q1],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Upper whisker (Q3 to P90)
            traces.push({
                type: 'scatter',
                x: [stats.q3, stats.p90],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Lower whisker cap at P10
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.p10],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P10: %{x:.3f}<extra></extra>'
            });

            // Upper whisker cap at P90
            traces.push({
                type: 'scatter',
                x: [stats.p90, stats.p90],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P90: %{x:.3f}<extra></extra>'
            });

            // Add hover info for Q1 and Q3
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3],
                y: [yPos, yPos],
                mode: 'markers',
                marker: { size: 0.1, color: boxColor },
                showlegend: false,
                hovertemplate: groupName + '<br>Q1/Q3: %{x:.3f}<extra></extra>'
            });

            // Add dots for minimum and maximum observations
            traces.push({
                type: 'scatter',
                x: [stats.min, stats.max],
                y: [yPos, yPos],
                mode: 'markers',
                marker: {
                    size: 6,
                    color: boxColor,
                    symbol: 'circle',
                    line: { width: 1, color: '#FFFFFF' }
                },
                showlegend: false,
                hovertemplate: groupName + '<br>Min/Max: %{x:.3f}<extra></extra>'
            });
        }  // End of displayQuantiles

        // Mean and stdev trace if enabled
        if (displayMeanStd) {
            // Mean and stdev trace - positioned below the box with wavy line
            var meanYPos = yPos - 0.35;  // Position below the box

            // Create wavy line through mean ± stdev points
            var numWaves = 30;  // Number of points for smooth wave
            var xPoints = [];
            var yPoints = [];

            // Generate wavy line from mean-2*stdev to mean+2*stdev
            for (var i = 0; i <= numWaves; i++) {
                var t = i / numWaves;  // 0 to 1
                var xVal = stats.mean - 2*stats.stdev + t * 4 * stats.stdev;
                // Sinusoidal wave with 2 complete cycles
                var waveAmplitude = 0.08;
                var yWave = meanYPos + waveAmplitude * Math.sin(t * Math.PI * 4);
                xPoints.push(xVal);
                yPoints.push(yWave);
            }

            // Wavy line trace
            traces.push({
                type: 'scatter',
                x: xPoints,
                y: yPoints,
                mode: 'lines',
                line: {
                    color: boxColor,
                    width: 2.5,
                    shape: 'spline'
                },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Add markers at key points: mean-2*std, mean-std, mean, mean+std, mean+2*std
            var markerX = [
                stats.mean - 2*stats.stdev,
                stats.mean - stats.stdev,
                stats.mean,
                stats.mean + stats.stdev,
                stats.mean + 2*stats.stdev
            ];
            var markerY = Array(5).fill(meanYPos);
            var markerSymbols = ['diamond', 'circle', 'diamond', 'circle', 'diamond'];
            var markerSizes = [8, 10, 12, 10, 8];
            var markerLabels = ['μ-2σ', 'μ-σ', 'μ', 'μ+σ', 'μ+2σ'];

            traces.push({
                type: 'scatter',
                x: markerX,
                y: markerY,
                mode: 'markers',
                marker: {
                    symbol: markerSymbols,
                    size: markerSizes,
                    color: boxColor,
                    line: { width: 2, color: '#FFFFFF' }
                },
                name: 'Mean ± StDev',
                showlegend: index === 0,
                hovertemplate: groupName + '<br>%{text}<br>Value: %{x:.3f}<extra></extra>',
                text: markerLabels
            });
        }  // End of displayMeanStd

        // Add group label
        var dataRange = stats.p90 - stats.p10;
        annotations.push({
            x: stats.p10 - dataRange * 0.05,
            y: yPos,
            text: groupName,
            xanchor: 'right',
            yanchor: 'middle',
            showarrow: false,
            font: { size: 11, color: '#333' }
        });

        yPos--;
    });

    // Add grouping section labels if applicable
    if (groupingCol !== 'none') {
        var currentGrouping = null;
        var groupingStartY = 0;
        var yPos = 0;

        groupNames.forEach(function(groupName, index) {
            var thisGrouping = groupMetadata[groupName].grouping;

            if (currentGrouping !== thisGrouping) {
                if (currentGrouping !== null) {
                    // Add label for previous grouping
                    var midY = (groupingStartY + yPos + 1) / 2;
                    annotations.push({
                        x: 0,
                        y: midY,
                        text: '<b>' + currentGrouping + '</b>',
                        xanchor: 'left',
                        yanchor: 'middle',
                        xref: 'paper',
                        showarrow: false,
                        font: { size: 13, color: '#000' },
                        xshift: -100
                    });
                }
                currentGrouping = thisGrouping;
                groupingStartY = yPos;
            }

            if (prevGrouping !== null && prevGrouping !== thisGrouping) {
                yPos--;
            }
            prevGrouping = thisGrouping;
            yPos--;
        });

        // Add label for last grouping
        if (currentGrouping !== null) {
            var midY = (groupingStartY + yPos + 1) / 2;
            annotations.push({
                x: 0,
                y: midY,
                text: '<b>' + currentGrouping + '</b>',
                xanchor: 'left',
                yanchor: 'middle',
                xref: 'paper',
                showarrow: false,
                font: { size: 13, color: '#000' },
                xshift: -100
            });
        }
    }

    // Layout
    var layout = {
        title: '',
        xaxis: {
            title: xCol,
            showgrid: true,
            zeroline: true
        },
        yaxis: {
            showticklabels: false,
            showgrid: false,
            zeroline: false,
            range: [yPos - 0.5, 0.5]
        },
        margin: { l: 150, r: 50, t: 20, b: 60 },
        hovermode: 'closest',
        annotations: annotations,
        height: Math.max(400, Math.abs(yPos) * 40)
    };

    Plotly.react('wide_range_bw', traces, layout, {responsive: true});
}

// Expose updateChart to global scope for dropdown onchange handlers
window.updateChart_wide_range_bw = updateChart_wide_range_bw;

// Initialize on load
loadDataset('wide_data').then(function(data) {
    currentData_wide_range_bw = data;
    initializeFilters_wide_range_bw();
    updateChart_wide_range_bw();
    setupAspectRatioControl('wide_range_bw');
}).catch(function(error) {
    console.error('Error loading data for BoxAndWhiskers wide_range_bw:', error);
    document.getElementById('wide_range_bw').innerHTML =
        '<p style="color: red;">Error loading data: ' + error.message + '</p>';
});
})();
(function() {
// Color maps for BoxAndWhiskers aspect_bw
const colorMaps_aspect_bw = {"type":{"Type 1":"#636efa","Type 3":"#00cc96","Type 2":"#EF553B"}};

// Available columns
const xCols_aspect_bw = ['value'];
const colorCols_aspect_bw = ['type'];
const groupingCols_aspect_bw = ['type'];
const groupCol_aspect_bw = 'group';

// Filter configuration
const categoricalFilters_aspect_bw = [];
const continuousFilters_aspect_bw = [];

// State variables
let currentData_aspect_bw = null;
let filters_aspect_bw = {};
let rangeFilters_aspect_bw = {};

// Helper function to safely get dropdown value
const getCol_aspect_bw = function(id, def) {
    var el = document.getElementById(id);
    return el ? el.value : def;
};

// Initialize filters from dropdowns
function initializeFilters_aspect_bw() {
    categoricalFilters_aspect_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_aspect_bw');
        if (selectElement) {
            var options = Array.from(selectElement.options);
            filters_aspect_bw[col] = options
                .filter(function(opt) { return opt.selected; })
                .map(function(opt) { return opt.value; });
        }
    });

    continuousFilters_aspect_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_aspect_bw' + '_slider');
        if (slider.length > 0) {
            rangeFilters_aspect_bw[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });
}

// Compute box and whiskers statistics for a group
function computeStats(values) {
    if (values.length === 0) return null;

    // Sort values
    var sorted = values.slice().sort(function(a, b) { return a - b; });
    var n = sorted.length;

    // Helper function to compute quantile
    function quantile(arr, p) {
        var index = (arr.length - 1) * p;
        var lower = Math.floor(index);
        var upper = Math.ceil(index);
        var weight = index - lower;
        return arr[lower] * (1 - weight) + arr[upper] * weight;
    }

    // Compute quantiles
    var min = sorted[0];
    var max = sorted[n - 1];
    var p10 = quantile(sorted, 0.10);
    var q1 = quantile(sorted, 0.25);
    var median = quantile(sorted, 0.50);
    var q3 = quantile(sorted, 0.75);
    var p90 = quantile(sorted, 0.90);

    // Compute mean and stdev
    var mean = values.reduce(function(a, b) { return a + b; }, 0) / n;
    var variance = values.reduce(function(sum, val) {
        return sum + Math.pow(val - mean, 2);
    }, 0) / n;
    var stdev = Math.sqrt(variance);

    return {
        min: min,
        max: max,
        p10: p10,
        q1: q1,
        median: median,
        q3: q3,
        p90: p90,
        mean: mean,
        stdev: stdev
    };
}

// Update chart
function updateChart_aspect_bw() {
    if (!currentData_aspect_bw) return;

    // Get selected values using helper function
    var xCol = getCol_aspect_bw('x_col_select_aspect_bw', 'value');
    var colorCol = getCol_aspect_bw('color_col_select_aspect_bw', 'none');
    var groupingCol = getCol_aspect_bw('grouping_col_select_aspect_bw', 'none');

    // Get toggle states
    var showQuantiles = document.getElementById('show_quantiles_aspect_bw');
    var showMeanStd = document.getElementById('show_mean_std_aspect_bw');
    var displayQuantiles = showQuantiles ? showQuantiles.checked : true;
    var displayMeanStd = showMeanStd ? showMeanStd.checked : true;

    // Re-read filter values from dropdowns/sliders (they may have changed)
    var currentFilters = {};
    categoricalFilters_aspect_bw.forEach(function(col) {
        var selectElement = document.getElementById(col + '_select_aspect_bw');
        if (selectElement) {
            currentFilters[col] = Array.from(selectElement.selectedOptions).map(function(opt) {
                return opt.value;
            });
        }
    });

    var currentRangeFilters = {};
    continuousFilters_aspect_bw.forEach(function(col) {
        var slider = $('#' + col + '_range_aspect_bw' + '_slider');
        if (slider.length > 0) {
            currentRangeFilters[col] = {
                min: slider.slider("values", 0),
                max: slider.slider("values", 1)
            };
        }
    });

    // Apply filters
    var filteredData = applyFiltersWithCounting(
        currentData_aspect_bw,
        'aspect_bw',
        categoricalFilters_aspect_bw,
        continuousFilters_aspect_bw,
        currentFilters,
        currentRangeFilters
    );

    // Group data
    var groupedData = {};
    var groupMetadata = {};  // Store metadata for each group

    filteredData.forEach(function(row) {
        var groupName = String(row[groupCol_aspect_bw]);
        if (!groupedData[groupName]) {
            groupedData[groupName] = [];
            groupMetadata[groupName] = {
                color: colorCol !== 'none' ? String(row[colorCol]) : '',
                grouping: groupingCol !== 'none' ? String(row[groupingCol]) : ''
            };
        }

        var value = parseFloat(row[xCol]);
        if (!isNaN(value)) {
            groupedData[groupName].push(value);
        }
    });

    // Sort groups by grouping column if specified
    var groupNames = Object.keys(groupedData);
    if (groupingCol !== 'none') {
        groupNames.sort(function(a, b) {
            var aGrouping = groupMetadata[a].grouping;
            var bGrouping = groupMetadata[b].grouping;
            if (aGrouping !== bGrouping) {
                return aGrouping.localeCompare(bGrouping);
            }
            return a.localeCompare(b);
        });
    } else {
        groupNames.sort();
    }

    // Create traces for box plots
    var traces = [];
    var annotations = [];
    var yPos = 0;
    var prevGrouping = null;

    groupNames.forEach(function(groupName, index) {
        var values = groupedData[groupName];
        var stats = computeStats(values);

        if (!stats) return;

        // Add spacing between different grouping values
        if (groupingCol !== 'none' && prevGrouping !== null &&
            prevGrouping !== groupMetadata[groupName].grouping) {
            yPos--;  // Add extra spacing
        }
        prevGrouping = groupMetadata[groupName].grouping;

        // Determine color
        var boxColor = '#636efa';  // Default color
        if (colorCol !== 'none' && colorMaps_aspect_bw[colorCol]) {
            var colorValue = groupMetadata[groupName].color;
            boxColor = colorMaps_aspect_bw[colorCol][colorValue] || boxColor;
        }

        // Draw box and whiskers if enabled
        if (displayQuantiles) {
            // Draw box and whiskers manually with custom quantiles (10%, 25%, 50%, 75%, 90%)
            var boxHeight = 0.4;
            var whiskerCapSize = 0.15;

            // Draw the box (Q1 to Q3) as a filled rectangle using scatter
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3, stats.q3, stats.q1, stats.q1],
                y: [yPos - boxHeight/2, yPos - boxHeight/2, yPos + boxHeight/2, yPos + boxHeight/2, yPos - boxHeight/2],
                fill: 'toself',
                fillcolor: boxColor,
                opacity: 0.5,
                line: { color: boxColor, width: 2 },
                mode: 'lines',
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Draw median line
            traces.push({
                type: 'scatter',
                x: [stats.median, stats.median],
                y: [yPos - boxHeight/2, yPos + boxHeight/2],
                mode: 'lines',
                line: { color: boxColor, width: 3 },
                showlegend: false,
                hovertemplate: groupName + '<br>Median: %{x:.3f}<extra></extra>'
            });

            // Lower whisker (Q1 to P10)
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.q1],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Upper whisker (Q3 to P90)
            traces.push({
                type: 'scatter',
                x: [stats.q3, stats.p90],
                y: [yPos, yPos],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Lower whisker cap at P10
            traces.push({
                type: 'scatter',
                x: [stats.p10, stats.p10],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P10: %{x:.3f}<extra></extra>'
            });

            // Upper whisker cap at P90
            traces.push({
                type: 'scatter',
                x: [stats.p90, stats.p90],
                y: [yPos - whiskerCapSize, yPos + whiskerCapSize],
                mode: 'lines',
                line: { color: boxColor, width: 1.5 },
                showlegend: false,
                hovertemplate: groupName + '<br>P90: %{x:.3f}<extra></extra>'
            });

            // Add hover info for Q1 and Q3
            traces.push({
                type: 'scatter',
                x: [stats.q1, stats.q3],
                y: [yPos, yPos],
                mode: 'markers',
                marker: { size: 0.1, color: boxColor },
                showlegend: false,
                hovertemplate: groupName + '<br>Q1/Q3: %{x:.3f}<extra></extra>'
            });

            // Add dots for minimum and maximum observations
            traces.push({
                type: 'scatter',
                x: [stats.min, stats.max],
                y: [yPos, yPos],
                mode: 'markers',
                marker: {
                    size: 6,
                    color: boxColor,
                    symbol: 'circle',
                    line: { width: 1, color: '#FFFFFF' }
                },
                showlegend: false,
                hovertemplate: groupName + '<br>Min/Max: %{x:.3f}<extra></extra>'
            });
        }  // End of displayQuantiles

        // Mean and stdev trace if enabled
        if (displayMeanStd) {
            // Mean and stdev trace - positioned below the box with wavy line
            var meanYPos = yPos - 0.35;  // Position below the box

            // Create wavy line through mean ± stdev points
            var numWaves = 30;  // Number of points for smooth wave
            var xPoints = [];
            var yPoints = [];

            // Generate wavy line from mean-2*stdev to mean+2*stdev
            for (var i = 0; i <= numWaves; i++) {
                var t = i / numWaves;  // 0 to 1
                var xVal = stats.mean - 2*stats.stdev + t * 4 * stats.stdev;
                // Sinusoidal wave with 2 complete cycles
                var waveAmplitude = 0.08;
                var yWave = meanYPos + waveAmplitude * Math.sin(t * Math.PI * 4);
                xPoints.push(xVal);
                yPoints.push(yWave);
            }

            // Wavy line trace
            traces.push({
                type: 'scatter',
                x: xPoints,
                y: yPoints,
                mode: 'lines',
                line: {
                    color: boxColor,
                    width: 2.5,
                    shape: 'spline'
                },
                showlegend: false,
                hoverinfo: 'skip'
            });

            // Add markers at key points: mean-2*std, mean-std, mean, mean+std, mean+2*std
            var markerX = [
                stats.mean - 2*stats.stdev,
                stats.mean - stats.stdev,
                stats.mean,
                stats.mean + stats.stdev,
                stats.mean + 2*stats.stdev
            ];
            var markerY = Array(5).fill(meanYPos);
            var markerSymbols = ['diamond', 'circle', 'diamond', 'circle', 'diamond'];
            var markerSizes = [8, 10, 12, 10, 8];
            var markerLabels = ['μ-2σ', 'μ-σ', 'μ', 'μ+σ', 'μ+2σ'];

            traces.push({
                type: 'scatter',
                x: markerX,
                y: markerY,
                mode: 'markers',
                marker: {
                    symbol: markerSymbols,
                    size: markerSizes,
                    color: boxColor,
                    line: { width: 2, color: '#FFFFFF' }
                },
                name: 'Mean ± StDev',
                showlegend: index === 0,
                hovertemplate: groupName + '<br>%{text}<br>Value: %{x:.3f}<extra></extra>',
                text: markerLabels
            });
        }  // End of displayMeanStd

        // Add group label
        var dataRange = stats.p90 - stats.p10;
        annotations.push({
            x: stats.p10 - dataRange * 0.05,
            y: yPos,
            text: groupName,
            xanchor: 'right',
            yanchor: 'middle',
            showarrow: false,
            font: { size: 11, color: '#333' }
        });

        yPos--;
    });

    // Add grouping section labels if applicable
    if (groupingCol !== 'none') {
        var currentGrouping = null;
        var groupingStartY = 0;
        var yPos = 0;

        groupNames.forEach(function(groupName, index) {
            var thisGrouping = groupMetadata[groupName].grouping;

            if (currentGrouping !== thisGrouping) {
                if (currentGrouping !== null) {
                    // Add label for previous grouping
                    var midY = (groupingStartY + yPos + 1) / 2;
                    annotations.push({
                        x: 0,
                        y: midY,
                        text: '<b>' + currentGrouping + '</b>',
                        xanchor: 'left',
                        yanchor: 'middle',
                        xref: 'paper',
                        showarrow: false,
                        font: { size: 13, color: '#000' },
                        xshift: -100
                    });
                }
                currentGrouping = thisGrouping;
                groupingStartY = yPos;
            }

            if (prevGrouping !== null && prevGrouping !== thisGrouping) {
                yPos--;
            }
            prevGrouping = thisGrouping;
            yPos--;
        });

        // Add label for last grouping
        if (currentGrouping !== null) {
            var midY = (groupingStartY + yPos + 1) / 2;
            annotations.push({
                x: 0,
                y: midY,
                text: '<b>' + currentGrouping + '</b>',
                xanchor: 'left',
                yanchor: 'middle',
                xref: 'paper',
                showarrow: false,
                font: { size: 13, color: '#000' },
                xshift: -100
            });
        }
    }

    // Layout
    var layout = {
        title: '',
        xaxis: {
            title: xCol,
            showgrid: true,
            zeroline: true
        },
        yaxis: {
            showticklabels: false,
            showgrid: false,
            zeroline: false,
            range: [yPos - 0.5, 0.5]
        },
        margin: { l: 150, r: 50, t: 20, b: 60 },
        hovermode: 'closest',
        annotations: annotations,
        height: Math.max(400, Math.abs(yPos) * 40)
    };

    Plotly.react('aspect_bw', traces, layout, {responsive: true});
}

// Expose updateChart to global scope for dropdown onchange handlers
window.updateChart_aspect_bw = updateChart_aspect_bw;

// Initialize on load
loadDataset('aspect_data').then(function(data) {
    currentData_aspect_bw = data;
    initializeFilters_aspect_bw();
    updateChart_aspect_bw();
    setupAspectRatioControl('aspect_bw');
}).catch(function(error) {
    console.error('Error loading data for BoxAndWhiskers aspect_bw:', error);
    document.getElementById('aspect_bw').innerHTML =
        '<p style="color: red;">Error loading data: ' + error.message + '</p>';
});
})();


});
</script>

<!-- DATASETS -->

<script type="text/plain" id="wide_data" data-format="csv_embedded" data-src="">
group,annual_revenue,sector
Startup,4067.1967091081374,Tech
Startup,21014.90139807648,Tech
Startup,34872.05695059809,Tech
Startup,6739.933218682634,Tech
Startup,1004.7468500072014,Tech
Startup,26225.02359200862,Tech
Startup,39533.80654536334,Tech
Startup,31194.623832439924,Tech
Startup,15660.356197375317,Tech
Startup,29456.727289587332,Tech
Startup,578.4864482258753,Tech
Startup,6644.370733719354,Tech
Startup,1319.912736213434,Tech
Startup,16427.215339554597,Tech
Startup,4717.9188950645475,Tech
Startup,22011.809779928346,Tech
Startup,31412.96503668951,Tech
Startup,3722.3286809425913,Tech
Startup,20065.829965474633,Tech
Startup,9296.477441150828,Tech
Startup,19928.596082940137,Tech
Startup,7995.902406807512,Tech
Startup,8224.758091225638,Tech
Startup,5976.317239898524,Tech
Startup,5889.050309857196,Tech
Startup,6402.978849590274,Tech
Startup,30277.903633626287,Tech
Startup,1368.9253344840454,Tech
Startup,19475.858211278435,Tech
Startup,28466.32064847977,Tech
Startup,13178.82098792147,Tech
Startup,24796.60246774886,Tech
Startup,7574.387266012589,Tech
Startup,8625.863232064881,Tech
Startup,5603.497347632276,Tech
Startup,2749.6570678026505,Tech
Startup,1998.8537204504978,Tech
Startup,22360.301696034265,Tech
Startup,12757.616883744187,Tech
Startup,3615.630662869654,Tech
Startup,4753.068836173956,Tech
Startup,13859.997713520479,Tech
Startup,34994.91122216973,Tech
Startup,4309.6572103199005,Tech
Startup,9308.510046600504,Tech
Startup,6694.59656383816,Tech
Startup,3405.6224456092586,Tech
Startup,1646.241011104973,Tech
Startup,2399.563608614232,Tech
Startup,13198.222331790012,Tech
Startup,18678.807084456726,Tech
Startup,31607.201437923115,Tech
Startup,9195.240455575777,Tech
Startup,3328.5756674697404,Tech
Startup,34941.58386684224,Tech
Startup,39963.81106407972,Tech
Startup,16468.67877493734,Tech
Startup,325.34566700068615,Tech
Startup,877.8367969010271,Tech
Startup,736.5354620910912,Tech
Startup,20714.137476260516,Tech
Startup,8620.063035354433,Tech
Startup,1844.9713648292177,Tech
Startup,6468.268907219092,Tech
Startup,12340.574783803455,Tech
Startup,8392.387317002132,Tech
Startup,12113.885928679307,Tech
Startup,27455.281203480044,Tech
Startup,33314.3737023576,Tech
Startup,6044.9544989660235,Tech
Startup,24318.017229033536,Tech
Startup,183.6349805369721,Tech
Startup,10759.312145017704,Tech
Startup,7720.873794607335,Tech
Startup,37447.41330901912,Tech
Startup,10278.949387045555,Tech
Startup,3161.444465775789,Tech
Startup,39469.90688996989,Tech
Startup,529.1392240761076,Tech
Startup,4666.556836195003,Tech
Small Biz,4066.7788501727823,Finance
Small Biz,8503.799400209811,Finance
Small Biz,13956.554078342167,Finance
Small Biz,19309.56194336935,Finance
Small Biz,19326.014763787305,Finance
Small Biz,8251.0572054321,Finance
Small Biz,3898.2506700896984,Finance
Small Biz,1461.4834474350298,Finance
Small Biz,1.429810877086875,Finance
Small Biz,18893.061169600795,Finance
Small Biz,17688.130487200302,Finance
Small Biz,247.0535979586082,Finance
Small Biz,3308.470403160835,Finance
Small Biz,19327.53103302057,Finance
Small Biz,15743.606743240218,Finance
Small Biz,3699.798990201628,Finance
Small Biz,15203.1089611887,Finance
Small Biz,4041.9095170601945,Finance
Small Biz,3407.7222958409184,Finance
Small Biz,11712.308115477854,Finance
Small Biz,17979.95297008199,Finance
Small Biz,7229.86131442983,Finance
Small Biz,544.7334304387936,Finance
Small Biz,19744.16903824426,Finance
Small Biz,15443.704942136274,Finance
Small Biz,25102.6073236856,Finance
Small Biz,5649.60879976134,Finance
Small Biz,18917.05248568336,Finance
Small Biz,15932.719630229727,Finance
Small Biz,13740.71915178856,Finance
Small Biz,19531.006379570732,Finance
Small Biz,2077.101674563623,Finance
Small Biz,6597.7444856773855,Finance
Small Biz,6757.95361929302,Finance
Small Biz,12888.038197666256,Finance
Small Biz,11835.386438118023,Finance
Small Biz,27665.511027137254,Finance
Small Biz,6405.7147265335,Finance
Small Biz,6995.50990970369,Finance
Small Biz,9575.145314133064,Finance
Small Biz,4891.511838993161,Finance
Small Biz,10025.615935310596,Finance
Small Biz,12963.504471838773,Finance
Small Biz,11393.741107431288,Finance
Small Biz,4637.546480160514,Finance
Small Biz,15785.601156243572,Finance
Small Biz,17639.874194849996,Finance
Small Biz,11565.276237711189,Finance
Small Biz,17682.563220001248,Finance
Small Biz,7557.861337353012,Finance
Small Biz,27035.022724368555,Finance
Small Biz,11833.922340740673,Finance
Small Biz,8283.08414552757,Finance
Small Biz,13536.928889594808,Finance
Small Biz,8659.22438047615,Finance
Small Biz,10402.358559435457,Finance
Small Biz,2620.4681290676144,Finance
Small Biz,14491.175439459568,Finance
Small Biz,966.6918615454562,Finance
Small Biz,21547.085427746908,Finance
Small Biz,15201.512773491866,Finance
Small Biz,24330.49717296672,Finance
Small Biz,8863.712643210205,Finance
Small Biz,18495.50480477953,Finance
Small Biz,2447.0886082013058,Finance
Small Biz,18116.637631877256,Finance
Small Biz,7084.137792513978,Finance
Small Biz,6131.5920170599875,Finance
Small Biz,5274.349910758494,Finance
Small Biz,11618.741278197387,Finance
Small Biz,9203.726028472061,Finance
Small Biz,4305.536788645403,Finance
Small Biz,4925.93904430012,Finance
Small Biz,29306.712249550015,Finance
Small Biz,5222.751416975772,Finance
Small Biz,7646.212942326813,Finance
Small Biz,12924.2715337314,Finance
Small Biz,9045.803346055392,Finance
Small Biz,14553.001534347792,Finance
Small Biz,13075.380077709167,Finance
Mid-Size,33.617243577135675,Manufacturing
Mid-Size,19220.691573156597,Manufacturing
Mid-Size,4739.675409399963,Manufacturing
Mid-Size,22813.491882288406,Manufacturing
Mid-Size,37879.1454853177,Manufacturing
Mid-Size,3886.046539790462,Manufacturing
Mid-Size,17226.485831402486,Manufacturing
Mid-Size,25053.065339492812,Manufacturing
Mid-Size,22426.07069766935,Manufacturing
Mid-Size,11314.934960841127,Manufacturing
Mid-Size,18131.498803673185,Manufacturing
Mid-Size,21843.142579118485,Manufacturing
Mid-Size,16571.029048032127,Manufacturing
Mid-Size,9552.240339069564,Manufacturing
Mid-Size,38956.257828057394,Manufacturing
Mid-Size,7064.193842406354,Manufacturing
Mid-Size,31146.05621304952,Manufacturing
Mid-Size,15437.499584102297,Manufacturing
Mid-Size,15733.926180258928,Manufacturing
Mid-Size,20306.690542274635,Manufacturing
Mid-Size,30359.345610796336,Manufacturing
Mid-Size,14730.187036652267,Manufacturing
Mid-Size,15995.44626577015,Manufacturing
Mid-Size,19082.690193346534,Manufacturing
Mid-Size,27888.740514795543,Manufacturing
Mid-Size,13094.642356283059,Manufacturing
Mid-Size,31531.334932681228,Manufacturing
Mid-Size,18830.266508044955,Manufacturing
Mid-Size,20020.918439710727,Manufacturing
Mid-Size,33835.6435308362,Manufacturing
Mid-Size,30660.167694468782,Manufacturing
Mid-Size,13852.118221599669,Manufacturing
Mid-Size,24985.48044616985,Manufacturing
Mid-Size,25960.349083503195,Manufacturing
Mid-Size,6023.421988111069,Manufacturing
Mid-Size,19001.76131699279,Manufacturing
Mid-Size,24920.54486247069,Manufacturing
Mid-Size,15182.573195142755,Manufacturing
Mid-Size,23798.156833337576,Manufacturing
Mid-Size,13884.773806986233,Manufacturing
Mid-Size,23481.01528284874,Manufacturing
Mid-Size,12074.496396097444,Manufacturing
Mid-Size,21572.880064086294,Manufacturing
Mid-Size,19097.11530680634,Manufacturing
Mid-Size,16306.22800668955,Manufacturing
Mid-Size,6437.836281219349,Manufacturing
Mid-Size,32003.18163594935,Manufacturing
Mid-Size,26346.517681215886,Manufacturing
Mid-Size,29189.41864850468,Manufacturing
Mid-Size,36360.67894437544,Manufacturing
Mid-Size,27034.49588746705,Manufacturing
Mid-Size,31974.224265540124,Manufacturing
Mid-Size,22415.537085674525,Manufacturing
Mid-Size,11157.906418788643,Manufacturing
Mid-Size,29519.421637228275,Manufacturing
Mid-Size,41709.84133799704,Manufacturing
Mid-Size,15374.17920193779,Manufacturing
Mid-Size,30055.278940171178,Manufacturing
Mid-Size,6390.78000347859,Manufacturing
Mid-Size,28.487950793111246,Manufacturing
Mid-Size,8452.123331626872,Manufacturing
Mid-Size,9228.816545281376,Manufacturing
Mid-Size,16367.984034303146,Manufacturing
Mid-Size,33415.849925428454,Manufacturing
Mid-Size,27399.2232127026,Manufacturing
Mid-Size,10677.201699324738,Manufacturing
Mid-Size,27459.483311317803,Manufacturing
Mid-Size,23418.823723162288,Manufacturing
Mid-Size,17819.868952092824,Manufacturing
Mid-Size,17865.87715215108,Manufacturing
Mid-Size,20772.26029566169,Manufacturing
Mid-Size,8007.876427225334,Manufacturing
Mid-Size,23414.390838537347,Manufacturing
Mid-Size,17730.30842546781,Manufacturing
Mid-Size,35668.56195669937,Manufacturing
Mid-Size,17168.500460229334,Manufacturing
Mid-Size,13703.496258428875,Manufacturing
Mid-Size,48547.20883762784,Manufacturing
Mid-Size,21899.160781610935,Manufacturing
Mid-Size,26399.933289308363,Manufacturing
Enterprise,77726.76301671563,Retail
Enterprise,40904.163623531924,Retail
Enterprise,56953.01146233775,Retail
Enterprise,83450.14114095498,Retail
Enterprise,46737.378177676954,Retail
Enterprise,87091.36428664556,Retail
Enterprise,47484.56037898287,Retail
Enterprise,62527.04836759495,Retail
Enterprise,53802.03442609416,Retail
Enterprise,58569.78336209345,Retail
Enterprise,61503.0232443093,Retail
Enterprise,46282.713538936565,Retail
Enterprise,50292.85995711517,Retail
Enterprise,52316.91746180747,Retail
Enterprise,54514.753341157055,Retail
Enterprise,71457.21027265718,Retail
Enterprise,53478.58336456378,Retail
Enterprise,50562.614323693466,Retail
Enterprise,68213.15822217321,Retail
Enterprise,42925.67023203301,Retail
Enterprise,58044.29201204666,Retail
Enterprise,80745.79964195918,Retail
Enterprise,41099.4392797705,Retail
Enterprise,68079.37449774116,Retail
Enterprise,46462.53895002216,Retail
Enterprise,50769.05892230098,Retail
Enterprise,59667.6873625889,Retail
Enterprise,71814.29343259861,Retail
Enterprise,92483.79700273965,Retail
Enterprise,33388.35884746373,Retail
Enterprise,61671.450190972144,Retail
Enterprise,54126.28374671088,Retail
Enterprise,51657.15581875711,Retail
Enterprise,45223.97701309792,Retail
Enterprise,73081.86445142368,Retail
Enterprise,60021.5291805366,Retail
Enterprise,42142.82176250543,Retail
Enterprise,32497.234925449622,Retail
Enterprise,41250.866082970744,Retail
Enterprise,73207.37373981476,Retail
Enterprise,62859.74855009992,Retail
Enterprise,55139.92502913457,Retail
Enterprise,85546.15851506192,Retail
Enterprise,50160.279543545614,Retail
Enterprise,53869.12714307466,Retail
Enterprise,75590.53064249229,Retail
Enterprise,46735.029419448125,Retail
Enterprise,62794.24443011255,Retail
Enterprise,60964.51588424227,Retail
Enterprise,36157.756871066114,Retail
Enterprise,72757.61404847109,Retail
Enterprise,70101.64378710775,Retail
Enterprise,63858.38375648323,Retail
Enterprise,40028.258114828,Retail
Enterprise,56841.93035221546,Retail
Enterprise,91382.81512348221,Retail
Enterprise,55976.629635269484,Retail
Enterprise,78518.37691628127,Retail
Enterprise,53119.77535186744,Retail
Enterprise,66566.55232317255,Retail
Enterprise,69974.26502549952,Retail
Enterprise,59842.92925233909,Retail
Enterprise,65528.87870167769,Retail
Enterprise,41428.01509428351,Retail
Enterprise,93658.3137115655,Retail
Enterprise,47179.09115262749,Retail
Enterprise,57209.28543738979,Retail
Enterprise,48360.169303495466,Retail
Enterprise,67185.22548968703,Retail
Enterprise,53249.55782549651,Retail
Enterprise,57332.18415704965,Retail
Enterprise,49757.14356893409,Retail
Enterprise,60600.09239070214,Retail
Enterprise,68081.66525376719,Retail
Enterprise,77813.20425942708,Retail
Enterprise,70125.35558886734,Retail
Enterprise,58664.80076215703,Retail
Enterprise,42251.501903625634,Retail
Enterprise,80978.40779951015,Retail
Enterprise,67330.91725062641,Retail
Corporation,62409.41996339802,Services
Corporation,51862.60400289982,Services
Corporation,52725.77096153845,Services
Corporation,60673.26010645494,Services
Corporation,51275.68276990172,Services
Corporation,56017.66211824713,Services
Corporation,52623.91590314024,Services
Corporation,44691.378972451086,Services
Corporation,51896.074829344856,Services
Corporation,55522.329682428506,Services
Corporation,60405.6258825016,Services
Corporation,58326.8507083616,Services
Corporation,50731.21480800882,Services
Corporation,59921.489864675495,Services
Corporation,44211.48715473017,Services
Corporation,46332.398120978556,Services
Corporation,51885.25701770236,Services
Corporation,54004.153755690626,Services
Corporation,46816.59912174751,Services
Corporation,48437.72997079188,Services
Corporation,60076.25944081082,Services
Corporation,50781.43090163382,Services
Corporation,47871.047369924454,Services
Corporation,47670.133860367336,Services
Corporation,52944.233885911315,Services
Corporation,40445.86084112066,Services
Corporation,54340.27612497295,Services
Corporation,48517.31496865629,Services
Corporation,49721.11974108616,Services
Corporation,52510.870570369516,Services
Corporation,51380.52147248315,Services
Corporation,46062.29213292435,Services
Corporation,45806.57994026623,Services
Corporation,56502.93726395645,Services
Corporation,49346.05086969398,Services
Corporation,51045.69407876987,Services
Corporation,37004.81409209604,Services
Corporation,50071.198977782005,Services
Corporation,46586.51791269359,Services
Corporation,44890.78133835461,Services
Corporation,49118.26654367075,Services
Corporation,50277.53222185668,Services
Corporation,52219.78721809882,Services
Corporation,50367.16480713343,Services
Corporation,50767.97776200322,Services
Corporation,54199.000450234016,Services
Corporation,48753.38912592601,Services
Corporation,41123.893619506285,Services
Corporation,42170.16075149601,Services
Corporation,49300.91041252648,Services
Corporation,48905.00284516098,Services
Corporation,44371.76716520374,Services
Corporation,44741.540852580765,Services
Corporation,50536.53498104311,Services
Corporation,47147.75539101158,Services
Corporation,42313.086094935774,Services
Corporation,43254.315871620536,Services
Corporation,45955.03771912422,Services
Corporation,53605.639612757805,Services
Corporation,41172.65388800689,Services
Corporation,49981.15373817865,Services
Corporation,51255.985460168624,Services
Corporation,46886.27629041991,Services
Corporation,58608.55593439556,Services
Corporation,48623.75969751654,Services
Corporation,49729.30302141588,Services
Corporation,47948.03093870714,Services
Corporation,55031.1301305822,Services
Corporation,36817.366291053775,Services
Corporation,49368.76057786417,Services
Corporation,40914.95131297442,Services
Corporation,42311.080102070664,Services
Corporation,44909.1237196538,Services
Corporation,56126.126687446784,Services
Corporation,57945.334772733826,Services
Corporation,43503.81146746839,Services
Corporation,42192.203748702734,Services
Corporation,54927.70746231685,Services
Corporation,39394.77004564421,Services
Corporation,48384.00476107393,Services

</script><script type="text/plain" id="basic_data" data-format="csv_embedded" data-src="">
group,value
Group A,9.74632462069151
Group A,11.333770344974251
Group A,7.48677502088195
Group A,9.830008749669007
Group A,9.811451990303611
Group A,11.955770325932743
Group A,8.6586746114078
Group A,8.570519216160966
Group A,8.065604942383306
Group A,7.27162393128402
Group A,8.000855480060967
Group A,7.016033754726303
Group A,7.3793687176016824
Group A,11.91247114622533
Group A,14.089323526927487
Group A,13.268917025526413
Group A,11.221060903591574
Group A,11.094317196700118
Group A,9.345079665948228
Group A,8.986496327312677
Group A,12.08862841197794
Group A,7.989002447388685
Group A,8.908849783431062
Group A,11.320703841840228
Group A,8.479902788465473
Group A,8.947538273996935
Group A,9.236555526002723
Group A,8.639088280286966
Group A,10.363513149961538
Group A,8.613522645193155
Group A,8.930578246896829
Group A,7.334757057824166
Group A,9.52035868082889
Group A,9.35461339947109
Group A,13.81246944438518
Group A,12.253387372826435
Group A,14.48069571545706
Group A,11.264878255813336
Group A,11.53286652064142
Group A,13.172824552135612
Group A,6.629313888543338
Group A,9.517723972514766
Group A,7.392065542760433
Group A,8.561500599101237
Group A,11.678004276314178
Group A,11.23244442389409
Group A,11.013756727577178
Group A,12.335148482357235
Group A,3.889750409930203
Group A,13.157265889669656
Group A,11.039208628946191
Group A,9.371845360163217
Group A,12.918167701497483
Group A,12.412962363936453
Group A,10.315728046618595
Group A,9.146743726492076
Group A,14.111706921884796
Group A,11.221332534820348
Group A,11.306087292611718
Group A,8.725375269320619
Group A,8.841002919366263
Group A,9.315091863304001
Group A,9.242092577191798
Group A,9.618915887159352
Group A,11.614452790255271
Group A,10.578720971804733
Group A,10.492176515197604
Group A,9.279093835540344
Group A,10.403741888761775
Group A,11.87330040146464
Group A,12.282971760167564
Group A,11.956734529625756
Group A,10.263381607174683
Group A,10.791419011134924
Group A,11.975030003286433
Group A,12.486041392916668
Group A,10.03212246756754
Group A,10.00279735273239
Group A,7.517233252200065
Group A,11.545639771817516
Group A,9.893191122455548
Group A,8.473253911104024
Group A,9.358421692469596
Group A,9.594812512854327
Group A,14.058739735963183
Group A,13.600527388193527
Group A,10.190542917464228
Group A,11.631999716387831
Group A,7.625337017861254
Group A,10.913908770008725
Group A,10.602454000688315
Group A,11.58483555558508
Group A,7.9301931231807385
Group A,8.968008412760769
Group A,13.214190783423657
Group A,12.071730179412087
Group A,14.32815470675872
Group A,9.222575929248592
Group A,10.912744740646389
Group A,7.850977270326165
Group B,13.291831087803597
Group B,13.473743186430438
Group B,7.8240621658277725
Group B,16.67323877679047
Group B,10.180628162284153
Group B,9.662227700036906
Group B,15.652225609847369
Group B,17.408734422650742
Group B,9.957282448366366
Group B,17.012710545803856
Group B,19.811032499660058
Group B,10.812433050342706
Group B,14.647676028491132
Group B,13.975498451725436
Group B,13.591772336322517
Group B,19.712631684203814
Group B,14.574345984980322
Group B,16.30459071238905
Group B,14.984910400186534
Group B,18.56968476699982
Group B,9.824688126897543
Group B,15.399270855930705
Group B,17.331676724282183
Group B,13.796554617298387
Group B,14.851498388266403
Group B,16.99746084005334
Group B,16.466851348521285
Group B,12.345914036547764
Group B,9.97719973492781
Group B,8.965384302969774
Group B,17.800660062183113
Group B,12.978415424633933
Group B,15.787960422325497
Group B,13.668037354029849
Group B,14.028197317688344
Group B,19.914468336802344
Group B,17.005992327323597
Group B,9.641149486958643
Group B,17.24991441165875
Group B,16.396840830062985
Group B,15.72522951161722
Group B,14.45150047055456
Group B,18.27264880363987
Group B,14.645634921460395
Group B,15.191417382248046
Group B,18.0751018131673
Group B,17.839088059408734
Group B,15.651479141125785
Group B,14.41320595336749
Group B,8.371949151142607
Group B,17.05580261409765
Group B,12.456083236338156
Group B,13.586450180296978
Group B,12.397666688300447
Group B,11.707282559711533
Group B,19.014036117365414
Group B,16.55797965617147
Group B,11.852459764150321
Group B,14.623457179183083
Group B,21.04759583208118
Group B,16.147790628947632
Group B,11.605597355234003
Group B,10.552430592028099
Group B,17.043570037201587
Group B,10.835177324236808
Group B,16.481278516319527
Group B,16.429963652454433
Group B,16.099779517509493
Group B,15.8177161523328
Group B,13.538491333600245
Group B,14.018921837767392
Group B,15.693945911984995
Group B,12.494482896220061
Group B,13.323073723107008
Group B,14.560645928182614
Group B,14.488764992425367
Group B,14.725448050796816
Group B,17.70605482532256
Group B,18.486545168638102
Group B,14.200500504113451
Group B,16.04954020861595
Group B,14.946908953688292
Group B,19.14377474126799
Group B,17.16880799259911
Group B,11.67367950655926
Group B,14.197864169636471
Group B,16.44617205337869
Group B,13.084020309291741
Group B,18.394364424043168
Group B,16.52811117782273
Group B,24.987520020001917
Group B,17.300731743040483
Group B,14.628172692984812
Group B,16.098905287252755
Group B,11.848498797354996
Group B,14.654228029469488
Group B,13.887390774589168
Group B,13.455020989704096
Group B,14.497194942289235
Group B,19.13128523780442
Group C,8.464197532926459
Group C,8.381812926750564
Group C,8.058158460510944
Group C,8.509998828248435
Group C,10.19408637181485
Group C,9.266100372379778
Group C,10.671058611379477
Group C,8.753583225674946
Group C,9.375947652283058
Group C,9.868820118955298
Group C,9.57137838347355
Group C,6.7051879485573
Group C,7.803210418087115
Group C,8.496758786653569
Group C,6.408412554141546
Group C,7.119661445943299
Group C,8.629326215377315
Group C,8.518571007714892
Group C,7.700721148087478
Group C,9.313058572641967
Group C,7.240080942814969
Group C,8.313920096801027
Group C,9.950051187651745
Group C,8.771398787097413
Group C,6.214345029014358
Group C,9.975059641529434
Group C,8.581200104487838
Group C,7.660245842876752
Group C,8.79513247992811
Group C,8.524606015024105
Group C,9.112590215464884
Group C,8.17738255761993
Group C,8.158509062310916
Group C,8.230779307538707
Group C,7.746512092695195
Group C,7.743361794324637
Group C,7.317303830807072
Group C,7.495591618157748
Group C,7.426612976023055
Group C,8.967898652488408
Group C,7.798748569149183
Group C,10.898934095024725
Group C,6.083314384246344
Group C,8.320498557784974
Group C,7.9510483173119395
Group C,8.252933319104955
Group C,6.081149475218343
Group C,7.304431067745327
Group C,10.113122986472582
Group C,6.549734265302071
Group C,8.064239163013655
Group C,7.387211023071008
Group C,7.042283279145001
Group C,5.426327832401279
Group C,6.4864744350214405
Group C,8.717898036383648
Group C,6.3367912032579685
Group C,6.363350907747536
Group C,9.08867165589272
Group C,7.701184603262696
Group C,9.474909054504883
Group C,6.087974239612194
Group C,9.287507171824108
Group C,8.803348529045227
Group C,7.514197956955562
Group C,7.081718130805072
Group C,9.005936105744807
Group C,7.358056452273123
Group C,8.347039465724876
Group C,6.739564276857664
Group C,6.597437686614356
Group C,6.19960546625737
Group C,6.753845231649438
Group C,10.119746668392972
Group C,7.458406897326088
Group C,7.986000266449994
Group C,8.290651896277684
Group C,9.115729643624203
Group C,9.359362983134934
Group C,9.036824335107859
Group C,7.104700567181393
Group C,9.228332680699648
Group C,6.963078325937143
Group C,10.844418237180806
Group C,7.448582085372669
Group C,9.05540817706078
Group C,5.58101266419918
Group C,7.28156561633233
Group C,7.115671627427367
Group C,9.65916975392483
Group C,9.986943345117547
Group C,7.346561595768275
Group C,3.9205587905001957
Group C,7.563027989004565
Group C,9.55209813321343
Group C,8.650754950237568
Group C,9.088989815065315
Group C,8.115280373358361
Group C,6.069639359335343
Group C,9.269338429154768

</script><script type="text/plain" id="multi_data" data-format="csv_embedded" data-src="">
group,revenue,units_sold,customer_satisfaction,category
Product A,21131.071129264536,137.33053787596862,4.09092966376207,Electronics
Product A,23113.810155549498,159.76228809760178,4.423909622882133,Electronics
Product A,19690.81297966428,134.4686352889899,3.9489824117485606,Electronics
Product A,24920.892645919703,155.04824339395344,3.385451790382735,Electronics
Product A,32833.13362250712,132.8385224941029,4.478563893760205,Electronics
Product A,25088.56738770193,156.37290988823406,3.7889098934245635,Electronics
Product A,18448.453679189734,173.90415072302733,4.190093513980745,Electronics
Product A,33401.37044549253,145.89581856880966,3.758018923547245,Electronics
Product A,26010.666883540896,136.7324862468933,4.822453257989321,Electronics
Product A,24767.208190928868,144.6843805827221,3.5918589319720278,Electronics
Product A,18134.99370242179,136.42779519948613,4.516186026091894,Electronics
Product A,23451.91697861761,161.78015103707747,4.04323778880737,Electronics
Product A,21172.79914444532,152.81930378393625,4.256433586822406,Electronics
Product A,31130.164740048443,152.5618872541251,4.3689163506581155,Electronics
Product A,29329.216132076075,157.72726339583764,4.273593162174951,Electronics
Product A,26149.04516153066,166.88834971466412,4.084733331295183,Electronics
Product A,26084.475778071726,129.51108082559963,4.0763296131959885,Electronics
Product A,27732.380291860605,154.42797660884534,4.22188737011442,Electronics
Product A,27703.93943964,134.37709915032255,4.37484572738554,Electronics
Product A,5563.670928214186,180.73879632912173,3.7968369280246357,Electronics
Product A,14703.215777312536,158.04567141838334,4.669947419201828,Electronics
Product A,30584.690484585477,162.16559998449074,3.8322026096390718,Electronics
Product A,27494.567645333365,160.15128081708966,5.041024602960946,Electronics
Product A,31502.15689274986,159.0590311579333,4.169985945868885,Electronics
Product A,30205.30627320831,132.04897382700926,5.096428751698558,Electronics
Product A,21547.81862771481,140.1902581148747,3.966969665556861,Electronics
Product A,26616.705594094936,177.9655635662593,3.6246928370767506,Electronics
Product A,18728.381629949003,139.9259387468063,4.93275099842431,Electronics
Product A,27761.922898204386,162.12353246167825,4.340032579380832,Electronics
Product A,19609.589513035062,124.27701049745434,4.628398624455816,Electronics
Product A,23438.127176324022,156.278932307467,4.173586827889899,Electronics
Product A,28552.881003057948,134.38333751454186,3.9378299847478506,Electronics
Product A,34214.80741874002,131.57486519499213,3.7867586333389975,Electronics
Product A,29474.76922247153,142.8973714667913,4.469352874432294,Electronics
Product A,16612.302475939126,168.34377454343564,4.381008408933783,Electronics
Product A,28008.65326819362,126.79386246371297,4.451584895910458,Electronics
Product A,21420.77759531066,147.7439809295774,4.715568122214409,Electronics
Product A,26676.003551637426,133.0832956829932,4.67633683365713,Electronics
Product A,22862.654313195573,154.28888114606093,4.786151585676592,Electronics
Product A,32940.79951049903,150.45636058802376,3.401425384442856,Electronics
Product A,21336.137055478994,159.84317361539107,4.516944885175342,Electronics
Product A,18096.859010231325,161.7695429103438,4.079773621361988,Electronics
Product A,32352.181143329373,146.14633976913493,3.1000380379325128,Electronics
Product A,30303.106954172916,131.29059930500813,4.176353311096188,Electronics
Product A,12256.388791090434,164.0684839871002,3.9964522823600257,Electronics
Product A,30699.992206489984,147.18427576033108,4.185011941162621,Electronics
Product A,24193.152247610848,143.63095994069616,4.055503212946511,Electronics
Product A,27612.466025369355,146.24523534149145,3.944343504036623,Electronics
Product A,24464.034611581643,148.87907982210118,4.770675120652917,Electronics
Product A,32814.530286536254,176.0870159770106,4.630489007592429,Electronics
Product A,12863.216768947821,159.67945223949613,3.8930670989577276,Electronics
Product A,20504.825931600324,154.41462360519995,4.880337224661131,Electronics
Product A,28304.50228136665,131.86317394928983,4.533685978415698,Electronics
Product A,26001.862151662026,155.3249509868031,4.3031214379982705,Electronics
Product A,31705.233691575868,180.37972754732107,4.505444475863748,Electronics
Product A,36819.67179415163,150.33874616407172,3.9538284195657596,Electronics
Product A,22414.86940970787,156.86155951659006,3.653509569745147,Electronics
Product A,26499.80067164229,150.56916547960566,3.718518063053478,Electronics
Product A,11027.188728860445,135.9958101499119,4.055968314899789,Electronics
Product A,16604.6091724714,140.28562370872115,3.4220239416515628,Electronics
Product A,32500.11446816522,134.98616641070365,4.258089906748478,Electronics
Product A,29558.77884564188,143.98816554592386,4.016104420886924,Electronics
Product A,22067.63286640103,128.20190013429607,4.797781507600597,Electronics
Product A,28397.21162967561,145.2015457305239,4.682330039499933,Electronics
Product A,35717.84195420912,163.1411779198737,4.955907932832997,Electronics
Product A,30526.940868495796,174.73478580906632,4.235724249656578,Electronics
Product A,25212.260133152125,161.3495059214609,4.809080581761341,Electronics
Product A,21256.591543985072,137.63556737312283,4.081733861851506,Electronics
Product A,24125.464619763046,136.5524273899122,4.402809847745142,Electronics
Product A,18999.127781928284,187.12026474282487,3.9608852856181342,Electronics
Product A,22478.761467664164,173.32386083336897,3.820411992335301,Electronics
Product A,19392.641578703584,138.35844784561095,4.140226564322256,Electronics
Product A,28240.254325832222,105.50155722920661,4.655229162224113,Electronics
Product A,21996.714082240003,177.64191319934162,4.343748406999491,Electronics
Product A,25267.153762770504,145.53151870386836,3.888158350575439,Electronics
Product B,28392.343420084344,197.45229738838324,4.968024258484965,Electronics
Product B,43965.35578885593,191.79957592797976,4.1987558475380125,Electronics
Product B,39396.12344567052,233.27599035090915,4.741802690623356,Electronics
Product B,37544.69929702425,214.99285511549004,4.789869528673508,Electronics
Product B,40418.437391563246,228.68731168619442,4.456800992727775,Electronics
Product B,43692.36125274103,191.87846345184556,4.40312174563769,Electronics
Product B,26169.174773112238,212.3484900855511,4.304502670723667,Electronics
Product B,35847.89289983497,182.41256104472023,4.174739519672018,Electronics
Product B,41740.236459087304,176.01510247039093,4.01764718906394,Electronics
Product B,34555.9588207259,210.9090831729859,4.199173411100412,Electronics
Product B,31084.189664257046,182.9578786233026,4.206443402931042,Electronics
Product B,28633.084740986433,233.04101937981412,4.4724564588902975,Electronics
Product B,24131.28770832168,166.45414953097713,4.225418827559899,Electronics
Product B,42399.9689443466,153.40347177521704,4.620989316361607,Electronics
Product B,28098.004937213373,213.67580492781127,4.199245187239258,Electronics
Product B,34898.46638887244,232.55701239953953,4.989215156207499,Electronics
Product B,33107.7951044172,246.32313144633667,4.491453087995846,Electronics
Product B,23582.84959929322,285.94909001002736,4.019111916131131,Electronics
Product B,31647.33104454837,183.43310255921858,4.538129135287499,Electronics
Product B,51400.923445564986,188.24350861878594,4.398956020472658,Electronics
Product B,24249.58199688749,157.75874776229168,4.608732909940489,Electronics
Product B,30496.12827663809,214.13034056578098,4.691676178228549,Electronics
Product B,43637.16163193419,223.44850812079343,4.164093156063566,Electronics
Product B,42383.16740571651,223.8939959220645,4.470397131572632,Electronics
Product B,35357.040467325765,212.4643373041932,4.447434540424809,Electronics
Product B,48963.45520540093,269.3348726035903,4.390481289886171,Electronics
Product B,29097.557351971544,227.04607525792056,4.382942009054081,Electronics
Product B,39798.06048936968,205.78793973134836,5.158763752197762,Electronics
Product B,23046.07108302811,192.33872163805287,4.916350910335478,Electronics
Product B,45888.913639858656,237.8411558420619,4.490989336635369,Electronics
Product B,40037.97921189044,207.2147993382177,4.906215973043475,Electronics
Product B,26485.537205681736,194.84156803997675,4.173755355457912,Electronics
Product B,33300.42403041716,128.6256513371947,4.383900060131394,Electronics
Product B,20574.16722680178,138.98898868871743,4.510243368435717,Electronics
Product B,31216.572981728827,211.85281127295784,4.365776829221384,Electronics
Product B,29301.800676264156,163.52931843084497,4.389124360700203,Electronics
Product B,40872.34701425244,216.35750253787316,4.536132482652773,Electronics
Product B,43211.06740180783,246.19374754787344,4.468485155539002,Electronics
Product B,43611.994799870015,177.01760970380602,4.4752321565335045,Electronics
Product B,33351.981544358496,275.0336457536913,4.812454560509202,Electronics
Product B,26167.049883113003,212.53400422920282,4.708656608606884,Electronics
Product B,34745.11021563531,133.9306702042801,5.050774638855958,Electronics
Product B,47444.084433752665,191.12844225385822,4.822625260842023,Electronics
Product B,41720.41175105585,204.55696260081788,4.926185403258347,Electronics
Product B,34026.500936173514,233.72706026814782,4.72209907185211,Electronics
Product B,36937.793197093546,205.77962432202585,4.499737881671672,Electronics
Product B,47810.41170570093,206.63036084812643,4.026195117361039,Electronics
Product B,43511.157187392106,178.85606528763728,3.8682361262545877,Electronics
Product B,39026.66567240645,176.79675673217056,4.465148932878422,Electronics
Product B,41429.32609641072,172.37857768290533,4.909025322289709,Electronics
Product B,35787.77633998184,146.4424991553076,4.792215212832734,Electronics
Product B,32844.625785056065,209.60692454795102,4.4533789713945025,Electronics
Product B,23514.063227791376,260.8118496904868,4.285878695228719,Electronics
Product B,29822.03658462342,171.44928768287977,4.183964939133995,Electronics
Product B,44327.4416119667,197.22857242506456,4.508828277382263,Electronics
Product B,41108.7399368846,268.6136915405948,4.58222382337999,Electronics
Product B,38029.60479483644,176.48532087169366,4.675162382875323,Electronics
Product B,34622.649764645554,254.54114617411318,4.8287356127244445,Electronics
Product B,33623.73154415034,209.55543292869706,4.675845364347607,Electronics
Product B,40033.391405247035,220.7826809087298,4.357730917072267,Electronics
Product B,41612.593509122424,187.762578281762,4.789311620555458,Electronics
Product B,39439.76724046255,196.52506241028104,4.215284617112424,Electronics
Product B,46235.6483178445,196.64056345369346,4.819195138909116,Electronics
Product B,36066.18913383498,241.498866848002,4.518768302355044,Electronics
Product B,42815.67525788364,195.94016243643793,3.934683040712536,Electronics
Product B,31335.686109823393,173.77185655519003,4.5955936170322245,Electronics
Product B,30636.942140703264,253.1314511813829,4.522715709217815,Electronics
Product B,27103.30014102981,171.31220878518184,5.309129484671715,Electronics
Product B,29261.17614471231,237.58734140233554,3.9037307355016826,Electronics
Product B,33392.60223080199,187.86841507770077,4.763109651777244,Electronics
Product B,40540.672981858545,242.04855424193778,4.385735890063036,Electronics
Product B,38849.38389964533,240.16945519087722,4.515500359165932,Electronics
Product B,46110.75114022131,233.52125060699046,4.727172493235153,Electronics
Product B,43630.85977224458,216.99707563871726,4.906325347037676,Electronics
Product B,43985.815607019875,248.9454464507105,4.907037473897761,Electronics
Product C,17450.616902654183,108.45961737477059,2.845475217981066,Home
Product C,18078.453428686928,111.2381878830885,3.8435172978770145,Home
Product C,20367.83643940112,119.58821570890764,4.550055328434511,Home
Product C,16347.292155190004,99.71732142084063,4.580913247281639,Home
Product C,17054.448302623798,108.29766668612504,6.118410431496965,Home
Product C,20642.00872138812,90.88472843938843,3.219108247015508,Home
Product C,21631.131688669873,95.35706802126595,2.6213120609624414,Home
Product C,13495.573375481883,103.42485900668177,3.249232498692948,Home
Product C,15293.327341653521,94.60850349671914,3.2881496783013193,Home
Product C,14970.476744960926,87.26803865724784,3.8796549518772228,Home
Product C,20782.0161203495,99.77531486146749,3.766905546598109,Home
Product C,13304.68475563303,59.02613241461023,5.0401067761097975,Home
Product C,15529.261233618412,86.52862526068112,4.3429450317760505,Home
Product C,21491.835442920754,116.65744024565974,4.091200333462789,Home
Product C,14934.278434885407,101.81663752014605,4.488354557278901,Home
Product C,20548.800919237798,103.3064768321441,3.6540745132819215,Home
Product C,14395.114020751878,113.21674225922851,3.9103894464432782,Home
Product C,18430.00670453787,117.0691671956144,2.4382202014299814,Home
Product C,17191.302493131472,101.03758475088372,3.8910663968650123,Home
Product C,15773.476066964982,103.49922240703927,4.023442627624458,Home
Product C,21191.31966941542,105.4159515356207,3.596288836911073,Home
Product C,21069.690104263216,104.02494411459807,3.8734379738557205,Home
Product C,16394.585413794986,111.1677990999204,3.6353806371132262,Home
Product C,17645.764389184245,116.76374384670889,3.5415887226842537,Home
Product C,19408.14630060121,66.76308503731862,4.120054930242709,Home
Product C,18619.414670915794,117.41742397060972,2.9602563723997823,Home
Product C,12628.083308437965,80.0291418178897,5.477913365940637,Home
Product C,19789.309128498226,130.12976369834485,4.5586624963429125,Home
Product C,17412.668030724224,137.6551772101796,4.28084143413592,Home
Product C,13476.43482763679,80.43945414886245,3.673708087522037,Home
Product C,12401.19721181372,103.24958109946655,4.383034870366296,Home
Product C,16728.869494243027,89.71476951091937,4.188276319847578,Home
Product C,20181.36105806645,98.02862647202393,3.9799561687148293,Home
Product C,18504.856589316303,87.59651357862047,3.972400196259993,Home
Product C,17667.470154685576,109.3522694330479,3.8021205861789102,Home
Product C,14249.700194938989,86.50861438888691,3.6363405471288224,Home
Product C,16406.998656121337,115.80207646709745,4.78434517124439,Home
Product C,19456.705826017354,88.29763691776296,4.01051268476617,Home
Product C,20109.206365735845,126.87368001215752,3.8647592174432663,Home
Product C,14354.453397824358,106.21457093426373,4.296319355598237,Home
Product C,11204.225910040073,80.40247519226986,4.425854086007569,Home
Product C,15135.119771467513,73.64854169849885,3.2657253405748436,Home
Product C,21464.779034999814,80.1206756288617,3.5748508438396245,Home
Product C,15051.390387633754,96.95249569328162,3.169036982958656,Home
Product C,19165.50355001883,130.46243718330183,4.181876855885393,Home
Product C,16374.260059210344,105.27286520207748,2.89751689185697,Home
Product C,22212.880097439534,114.9375388753072,4.645137511485,Home
Product C,21115.534232696577,96.63563401287571,4.264526867858096,Home
Product C,22129.27496489568,114.81880169120662,3.0426753541091776,Home
Product C,25808.93386457788,125.35940819394125,5.811129100786147,Home
Product C,17237.774610171564,116.1923087150547,4.23806284535278,Home
Product C,21575.643562702997,123.28493140462282,3.3674064170300295,Home
Product C,22237.332912659742,100.4034368104332,3.8507247621327236,Home
Product C,18334.56947189267,89.12788554791372,3.205216273595422,Home
Product C,12510.001814521751,90.85179576592779,4.224814148302887,Home
Product C,20431.938741761714,103.49078436688049,4.539769519565591,Home
Product C,15062.108659384003,81.4896577851535,4.448486701612921,Home
Product C,18723.76251181513,116.79638690966729,4.237283047288519,Home
Product C,18406.602304243606,112.1183312931802,4.353290280318369,Home
Product C,17798.65874782569,109.48555812562174,4.267721665006718,Home
Product C,21627.084222066995,85.23530241151703,3.546211146429334,Home
Product C,13822.979021726886,88.65542242334853,3.9112312944167726,Home
Product C,15682.081085371103,96.78158333818064,4.126614995029932,Home
Product C,17550.360214034536,102.05005869587178,3.7704096872319033,Home
Product C,11517.119970275227,97.02437197115607,4.093363867384221,Home
Product C,23060.862027011925,107.78332857923783,4.202449263983811,Home
Product C,19316.61820532027,108.20919611718014,3.501559388943035,Home
Product C,21355.45847175541,111.17210602857554,4.603758295406282,Home
Product C,12846.85143752865,77.45245397868939,3.8861910681252674,Home
Product C,17629.31776051373,95.49476132866424,3.819803723372554,Home
Product C,18147.154576700257,104.30965799188247,4.229787138236972,Home
Product C,18055.927880255305,97.88879851143669,4.400882510810776,Home
Product C,16582.10970623013,101.7444641889332,4.272343402533348,Home
Product C,17882.257347409668,105.0783431110261,3.7261000196672818,Home
Product C,14521.827995393829,92.0605453497792,3.110143830976649,Home
Product D,31855.144334663277,113.2157793487365,3.9020930179885345,Home
Product D,24254.254037310868,142.6684039687044,4.260488171437661,Home
Product D,26933.70557390575,185.84332566118798,3.8082191524771014,Home
Product D,23810.25533458555,153.1577830674266,3.575280081635791,Home
Product D,30617.729234478724,214.23486378043697,3.3776656907216376,Home
Product D,33480.2145046618,167.942511867118,4.006140645163625,Home
Product D,32080.310775978996,173.90716265308072,3.99800463415086,Home
Product D,33246.624874383146,177.68985067861377,3.302187408658231,Home
Product D,29414.5262323389,167.93938897844785,4.22794155651405,Home
Product D,25192.060254330263,155.39308966891605,3.9606417316936082,Home
Product D,29652.552320097177,197.86098275340146,3.793720593683196,Home
Product D,23934.90377689287,201.51873920736773,3.9877064105833093,Home
Product D,28387.096099031925,166.49106227865582,4.107413946368653,Home
Product D,24659.237965478645,160.67218904260426,3.576684998433065,Home
Product D,25448.527468326105,152.26554547864998,4.209167017086154,Home
Product D,25247.114960602303,152.36672402591512,3.8733954798674963,Home
Product D,33828.69182137643,179.7694492752398,3.680195071442423,Home
Product D,30506.922045596206,162.9157565849294,3.715475286909764,Home
Product D,35926.10824251177,217.8813453536457,4.1790200118639165,Home
Product D,25447.96914887426,159.54769942703018,3.8439764071366453,Home
Product D,25086.301769297675,152.969746668289,3.9232245847863516,Home
Product D,29737.297418882277,189.7522630073712,4.1267131286489995,Home
Product D,16904.27964187374,171.50407152451842,3.551364590031105,Home
Product D,29105.37978673512,178.91812877916956,3.9555581073882524,Home
Product D,28654.00889285697,201.51155994586284,3.50656789576882,Home
Product D,17581.871437606413,178.5697670050621,3.316715226965075,Home
Product D,25345.678870396085,157.5945979373377,3.784174671363932,Home
Product D,15924.60440580466,196.92139264516834,3.579135120931296,Home
Product D,22254.8425214162,172.45931042727474,4.462716910904426,Home
Product D,24031.544559607002,185.48312301552252,3.9610426429583074,Home
Product D,22583.997027953134,193.12245915443043,4.252428311595619,Home
Product D,36432.42482660724,185.48784220563263,4.058080987633437,Home
Product D,27593.34489388058,159.75769557405877,4.534608486267964,Home
Product D,26937.03817203476,192.57139898737006,3.8892525662209283,Home
Product D,22159.418277347275,128.32735864184556,2.801785473644598,Home
Product D,16533.086955373794,144.40547085947753,3.9768210666946957,Home
Product D,26777.438602274116,150.75835919701137,4.2327117922465405,Home
Product D,33895.29645276978,172.5949537483743,4.389228445270497,Home
Product D,39086.17682505168,196.95381442997342,3.8511412170470414,Home
Product D,31197.734473077897,214.59009183226658,4.563735839816445,Home
Product D,31715.988719151363,173.9015313483988,3.4490463759557417,Home
Product D,39944.32118544905,200.61371534994467,3.860380346370933,Home
Product D,30059.642340843864,131.5928658797215,4.178300668081346,Home
Product D,36650.17257749186,194.00868060386182,4.724210192879018,Home
Product D,27272.870807672727,198.53301245955794,3.792835714837719,Home
Product D,30962.551887806996,121.71251334074591,3.4159128558712943,Home
Product D,29581.248963969403,177.98861639996048,4.464895812221571,Home
Product D,23401.63211669295,183.53419197214913,3.3522826031898454,Home
Product D,31307.191325557513,180.43980151123242,4.784008799119409,Home
Product D,14755.630071204598,175.257183295088,3.7971033380608166,Home
Product D,34828.820584535766,145.76907314948633,3.756549914044989,Home
Product D,26227.451611761287,186.09208832103894,4.269391715056769,Home
Product D,33380.26948812077,148.82966683331193,3.7619091433921468,Home
Product D,27028.297508847405,157.52335511173828,4.4763178107241375,Home
Product D,20756.029736412973,139.05635717896763,3.6344842484722024,Home
Product D,31280.795049058564,171.09527500412048,4.124308724720778,Home
Product D,25327.493061402405,155.32784455260926,3.67744250699762,Home
Product D,35248.62774851438,185.37612955225467,4.257432893699212,Home
Product D,26651.59331554882,159.0250954179475,4.207518907981482,Home
Product D,24274.544200681503,185.695829311078,4.036354435269634,Home
Product D,19598.69498160269,135.2007258274366,3.8978852869957694,Home
Product D,28055.75602695478,186.49993496575718,3.3818649727425347,Home
Product D,27424.712934202355,187.54455524267618,4.279763942390525,Home
Product D,25520.929586641563,159.67800414215526,4.413116339956753,Home
Product D,35887.93533117449,114.53403298897572,3.6782428674538545,Home
Product D,24536.733202381467,184.7060081535913,3.7860049598990497,Home
Product D,42151.69851974794,137.4019042977595,3.2557813423831647,Home
Product D,22435.63613733182,156.74939663792762,3.9493116077549564,Home
Product D,37005.38718112377,156.92057180035624,4.679530108791608,Home
Product D,34223.69207036477,189.534367489108,4.327133526578713,Home
Product D,24632.281951761088,140.5505822269954,4.1900789892836245,Home
Product D,25198.2286966016,175.78384443231027,3.797791102084609,Home
Product D,30450.689364763297,207.97153820286658,4.051501077202014,Home
Product D,40736.386673611676,213.17921831344478,4.73857415497743,Home
Product D,30415.191062332553,204.22077692104133,4.208129125740618,Home

</script><script type="text/plain" id="aspect_data" data-format="csv_embedded" data-src="">
group,value,type
A,1.0676887373370114,Type 1
A,3.965617360087875,Type 2
A,1.414015763888301,Type 3
A,0.15703638161874545,Type 1
A,0.8838810550273666,Type 2
A,3.1454967302530243,Type 3
A,1.9436289863345497,Type 1
A,1.7877605779756722,Type 2
A,2.449772617737845,Type 3
A,4.110128357116119,Type 1
A,2.8653832357476388,Type 2
A,2.4038253924046513,Type 3
A,1.0656616247916482,Type 1
A,2.0764459919069376,Type 2
A,1.0568367423407383,Type 3
A,2.315025867082112,Type 1
A,0.6536432230913887,Type 2
A,-0.11157742524920922,Type 3
A,1.5077726687889288,Type 1
A,1.3552731999563825,Type 2
A,4.525890594312775,Type 3
A,2.9930318731194783,Type 1
A,1.9957391062471077,Type 2
A,2.5994964928638526,Type 3
A,0.970127752517894,Type 1
A,2.6263001237969057,Type 2
A,2.53446680887705,Type 3
A,2.065147546838215,Type 1
A,3.0501147157069664,Type 2
A,3.323132093560724,Type 3
A,2.335567717543982,Type 1
A,1.6365509531050086,Type 2
A,2.0379245192002102,Type 3
A,1.1781741015575062,Type 1
A,2.0557551513784835,Type 2
A,1.1626938280357928,Type 3
A,2.062961006218939,Type 1
A,1.2836450452163561,Type 2
A,3.533070767439761,Type 3
A,2.3074780844694587,Type 1
B,3.682044428876263,Type 2
B,4.308936505956077,Type 3
B,4.112619277349429,Type 1
B,3.4777163241464866,Type 2
B,5.166664785550897,Type 3
B,4.519826130582595,Type 1
B,3.8762697715761782,Type 2
B,5.456875109480699,Type 3
B,5.6246867725329475,Type 1
B,2.418758156950129,Type 2
B,5.87232000137681,Type 3
B,2.5641492652307276,Type 1
B,3.520041378935101,Type 2
B,4.535341083489712,Type 3
B,3.883033734298821,Type 1
B,3.2459360031664874,Type 2
B,3.392323981996169,Type 3
B,3.540683269314567,Type 1
B,5.590627969983623,Type 2
B,2.664705976992188,Type 3
B,3.993917401885301,Type 1
B,3.3185082467432694,Type 2
B,3.742288182241268,Type 3
B,4.833119133955958,Type 1
B,4.771827777997011,Type 2
B,3.303156405798182,Type 3
B,3.4203754079424225,Type 1
B,5.099607638635753,Type 2
B,3.3843373981497846,Type 3
B,4.016322821975278,Type 1
B,5.082160677286629,Type 2
B,5.483111057681006,Type 3
B,3.3974190350317537,Type 1
B,4.799466853356167,Type 2
B,4.261431334470663,Type 3
B,4.146152323701748,Type 1
B,3.4899718678803833,Type 2
B,3.516187333901261,Type 3
B,3.8669541016581768,Type 1
B,4.03035726631781,Type 2
C,6.174834532257183,Type 3
C,8.471072083093585,Type 1
C,5.7452813883459735,Type 2
C,7.134422398906608,Type 3
C,6.3874580729244546,Type 1
C,7.431023718483129,Type 2
C,4.880872013556498,Type 3
C,6.306875485178302,Type 1
C,5.074950671488664,Type 2
C,6.006780157299297,Type 3
C,6.362938744322981,Type 1
C,5.771204002769757,Type 2
C,4.4518740747529115,Type 3
C,3.968653605297605,Type 1
C,5.898232714699001,Type 2
C,4.529599540132391,Type 3
C,6.400261215947521,Type 1
C,7.604577750165501,Type 2
C,3.905838051322797,Type 3
C,5.576824294042226,Type 1
C,5.641327204273681,Type 2
C,6.561685874117266,Type 3
C,6.720739248388181,Type 1
C,3.6129137968837317,Type 2
C,6.653132874569161,Type 3
C,6.656011720037469,Type 1
C,7.303650616715718,Type 2
C,6.494012348192928,Type 3
C,5.86029643622967,Type 1
C,5.015077378119247,Type 2
C,7.1995142371873255,Type 3
C,6.385510048318333,Type 1
C,5.42450730941569,Type 2
C,4.873973795111418,Type 3
C,5.529930807370771,Type 1
C,6.612526915200497,Type 2
C,6.757079113436357,Type 3
C,7.411652918915372,Type 1
C,6.246577235203728,Type 2
C,4.704545847573251,Type 3
D,7.990046491695117,Type 1
D,7.330720593440591,Type 2
D,7.581549996239459,Type 3
D,9.509238215031774,Type 1
D,9.522096670703515,Type 2
D,10.568989787039081,Type 3
D,8.388734126955669,Type 1
D,8.446567163688115,Type 2
D,7.456426306971074,Type 3
D,6.8465499340738845,Type 1
D,7.693480358621249,Type 2
D,7.737505612283428,Type 3
D,7.776025304471496,Type 1
D,7.624416760520804,Type 2
D,6.783591387379502,Type 3
D,7.520807720398771,Type 1
D,7.685176918466528,Type 2
D,8.097127959799614,Type 3
D,7.990752022228632,Type 1
D,8.142521224240213,Type 2
D,8.5772889007263,Type 3
D,9.067731336060321,Type 1
D,7.752069722304478,Type 2
D,8.66708595918618,Type 3
D,7.529504800634492,Type 1
D,8.089957734392245,Type 2
D,9.662414449162759,Type 3
D,8.907372746865342,Type 1
D,9.614614944104567,Type 2
D,5.962064278891253,Type 3
D,6.958163303424971,Type 1
D,8.243713528322846,Type 2
D,9.28339597689102,Type 3
D,8.036518137828594,Type 1
D,8.393820206872682,Type 2
D,8.612941292760535,Type 3
D,6.436169984468604,Type 1
D,7.8575316690328725,Type 2
D,6.891344841257846,Type 3
D,7.450645749391979,Type 1
E,10.560676156572406,Type 2
E,11.172825114467978,Type 3
E,10.611151054298269,Type 1
E,9.33526548995433,Type 2
E,10.728996062970962,Type 3
E,11.357838767404674,Type 1
E,7.177080584074906,Type 2
E,10.451899956959599,Type 3
E,9.336253455737236,Type 1
E,10.19588722973798,Type 2
E,11.518930379849529,Type 3
E,8.500763024010437,Type 1
E,11.546567947132372,Type 2
E,9.463943349698413,Type 3
E,11.78433973740683,Type 1
E,9.615533129461152,Type 2
E,10.627858511198744,Type 3
E,11.363951956239877,Type 1
E,9.04384372694173,Type 2
E,9.476828480305404,Type 3
E,10.291677905475344,Type 1
E,9.720395809307357,Type 2
E,9.213534053588274,Type 3
E,10.794438585987402,Type 1
E,12.278113981131174,Type 2
E,10.94525981642912,Type 3
E,10.578277407455827,Type 1
E,9.769266100592743,Type 2
E,11.67142366889717,Type 3
E,10.635759659068738,Type 1
E,9.353438377908695,Type 2
E,10.171229520142163,Type 3
E,9.270109012854316,Type 1
E,10.311096178969805,Type 2
E,8.99019678630745,Type 3
E,11.44503381744571,Type 1
E,10.520847581032289,Type 2
E,9.488746722706212,Type 3
E,10.543683654755649,Type 1
E,8.135919745303811,Type 2
F,11.826967291675796,Type 3
F,11.21060041675416,Type 1
F,12.505211463375192,Type 2
F,12.018342034010814,Type 3
F,10.254630606493226,Type 1
F,12.999312921378191,Type 2
F,11.279470509711942,Type 3
F,11.848372306168137,Type 1
F,13.576917386028153,Type 2
F,12.29756785158555,Type 3
F,13.333098002662839,Type 1
F,12.174689873326184,Type 2
F,13.492834303342484,Type 3
F,13.230058643164584,Type 1
F,14.371837680075394,Type 2
F,9.876096140671148,Type 3
F,10.713689978507695,Type 1
F,11.19902623532954,Type 2
F,13.657927285702092,Type 3
F,12.252509535452406,Type 1
F,12.261547901666722,Type 2
F,11.633930949534527,Type 3
F,12.030185900104176,Type 1
F,13.637270588488597,Type 2
F,11.667846896720176,Type 3
F,12.262563619884927,Type 1
F,10.92879581700351,Type 2
F,10.995171420889527,Type 3
F,11.985338927087637,Type 1
F,13.36265059217277,Type 2
F,11.948445216926833,Type 3
F,11.794106437405196,Type 1
F,13.108890599825564,Type 2
F,12.15805489163139,Type 3
F,12.745812937969815,Type 1
F,12.21155858210956,Type 2
F,11.078900029634038,Type 3
F,10.861997618960304,Type 1
F,11.962207023633935,Type 2
F,11.981462841254382,Type 3
G,14.738914903428698,Type 1
G,14.324569080583228,Type 2
G,12.36257529769821,Type 3
G,14.64294447780924,Type 1
G,14.575369104149567,Type 2
G,14.549464400299094,Type 3
G,13.16148787978504,Type 1
G,13.373305505970233,Type 2
G,13.536302295656954,Type 3
G,13.678306778616374,Type 1
G,13.157201745699245,Type 2
G,12.551503498399821,Type 3
G,17.086664939294845,Type 1
G,13.94470561910415,Type 2
G,14.315190880317088,Type 3
G,14.397199074702003,Type 1
G,14.690015261131911,Type 2
G,13.048910697309257,Type 3
G,12.453330326105489,Type 1
G,14.13627972297634,Type 2
G,12.80760685894536,Type 3
G,14.592388194186487,Type 1
G,13.766595638690527,Type 2
G,13.420774635902204,Type 3
G,13.50444612283783,Type 1
G,14.959430369550807,Type 2
G,13.682595509221557,Type 3
G,14.363199262672342,Type 1
G,15.419797620956281,Type 2
G,11.863128401696994,Type 3
G,13.842754562430786,Type 1
G,15.727252127479561,Type 2
G,14.614848502347211,Type 3
G,14.61120860100625,Type 1
G,14.912702375619897,Type 2
G,13.776532597573931,Type 3
G,11.564069912667968,Type 1
G,14.656583245153326,Type 2
G,14.838522201031484,Type 3
G,15.252391786414965,Type 1
H,16.617695813723323,Type 2
H,15.795828474962867,Type 3
H,16.562167414183275,Type 1
H,16.951852361143214,Type 2
H,16.288606835785785,Type 3
H,15.636929945980393,Type 1
H,18.04796810289213,Type 2
H,15.211903956801905,Type 3
H,15.684971186844022,Type 1
H,17.13935040586403,Type 2
H,16.26029395738477,Type 3
H,16.454890395500897,Type 1
H,15.404626630695097,Type 2
H,15.377008088896192,Type 3
H,16.898739269001258,Type 1
H,16.383144563292397,Type 2
H,17.054274001166366,Type 3
H,16.4744447579688,Type 1
H,14.52952409921202,Type 2
H,16.392027152655704,Type 3
H,17.028955730840547,Type 1
H,15.695380174532433,Type 2
H,16.41654739754004,Type 3
H,16.361190067189312,Type 1
H,18.123831077764237,Type 2
H,15.855831942177844,Type 3
H,15.410995766200594,Type 1
H,15.816205894821575,Type 2
H,16.365325359284178,Type 3
H,16.183409744832026,Type 1
H,17.9763535746988,Type 2
H,16.35888547202518,Type 3
H,15.634033593813875,Type 1
H,15.949785924864681,Type 2
H,17.37333334410088,Type 3
H,16.220674139643613,Type 1
H,14.054326548870304,Type 2
H,15.699885041883718,Type 3
H,15.713881623106994,Type 1
H,15.990518735661096,Type 2
I,18.063698255837036,Type 3
I,18.918124496114867,Type 1
I,17.61492624712324,Type 2
I,17.55638845385635,Type 3
I,18.705481856152893,Type 1
I,18.126696542167316,Type 2
I,16.87356138853576,Type 3
I,17.056580103367374,Type 1
I,18.369633233538245,Type 2
I,16.80008593213724,Type 3
I,16.58450773981794,Type 1
I,16.62881840517131,Type 2
I,19.222903250908516,Type 3
I,18.551129172897898,Type 1
I,20.014040401587366,Type 2
I,19.329154801388835,Type 3
I,18.351969232884127,Type 1
I,18.748580770553865,Type 2
I,17.13916838721079,Type 3
I,17.194615731798987,Type 1
I,18.389985127122785,Type 2
I,17.999176534282213,Type 3
I,18.3380222749955,Type 1
I,18.020341913694367,Type 2
I,20.17053493710636,Type 3
I,17.95891961862164,Type 1
I,17.922202116096674,Type 2
I,16.871744119804923,Type 3
I,17.570322419829395,Type 1
I,18.565046579788824,Type 2
I,17.68706241912701,Type 3
I,17.43022123810627,Type 1
I,17.8635986936605,Type 2
I,17.602774690586436,Type 3
I,18.961340330720912,Type 1
I,17.127107148822702,Type 2
I,18.101915535431782,Type 3
I,18.759816493681136,Type 1
I,18.349451665308074,Type 2
I,19.692169120432673,Type 3
J,20.72743487146938,Type 1
J,17.58150166390235,Type 2
J,18.961247791151386,Type 3
J,20.168468772005298,Type 1
J,20.37581978647248,Type 2
J,18.27502594665459,Type 3
J,20.732100493541566,Type 1
J,18.410844460559147,Type 2
J,20.50821879732958,Type 3
J,19.096054294091314,Type 1
J,22.300721157771445,Type 2
J,20.7681943287922,Type 3
J,17.97277986151245,Type 1
J,20.27609857824212,Type 2
J,18.841807566630028,Type 3
J,19.802307526782666,Type 1
J,18.628810880213656,Type 2
J,20.634087504800355,Type 3
J,20.396661536116017,Type 1
J,18.608127249879516,Type 2
J,20.285203551824594,Type 3
J,18.886039416047893,Type 1
J,18.417889434475136,Type 2
J,20.95233162716385,Type 3
J,21.405240520071164,Type 1
J,19.981091610733174,Type 2
J,20.01756883191436,Type 3
J,22.070752651338193,Type 1
J,21.49529284640873,Type 2
J,18.987282304068483,Type 3
J,18.425925721095886,Type 1
J,17.707405087353358,Type 2
J,20.53238960190907,Type 3
J,19.87714163605472,Type 1
J,19.831987974105825,Type 2
J,21.62964435114082,Type 3
J,19.923098944773027,Type 1
J,20.644392207036418,Type 2
J,18.495458080600713,Type 3
J,21.37568992834903,Type 1
K,20.210580898049688,Type 2
K,22.34098824695511,Type 3
K,20.113625310493976,Type 1
K,21.770533079476028,Type 2
K,22.58380532133529,Type 3
K,20.464223263202708,Type 1
K,22.226560911920725,Type 2
K,20.990007183930725,Type 3
K,21.992006071694178,Type 1
K,22.234484462199298,Type 2
K,20.22729316539272,Type 3
K,23.105810365908603,Type 1
K,22.04571185725936,Type 2
K,22.044669702512742,Type 3
K,21.279596265300476,Type 1
K,22.430541925395335,Type 2
K,21.776334545467176,Type 3
K,20.506758818420813,Type 1
K,22.5365834812605,Type 2
K,20.22654321794851,Type 3
K,22.06544383144507,Type 1
K,22.34458148225158,Type 2
K,22.085695458632113,Type 3
K,23.380693492389344,Type 1
K,20.21056200205263,Type 2
K,22.444446501692248,Type 3
K,20.94112664508229,Type 1
K,22.33951223330727,Type 2
K,23.97777252593201,Type 3
K,19.891619456662966,Type 1
K,20.776938240814264,Type 2
K,22.608367341363984,Type 3
K,21.22878029236838,Type 1
K,22.484239571270773,Type 2
K,22.35357747378815,Type 3
K,21.664556022971226,Type 1
K,23.75404305368182,Type 2
K,21.08936375891868,Type 3
K,21.343074514048546,Type 1
K,23.184463382204406,Type 2
L,24.702613458791784,Type 3
L,24.231480359546676,Type 1
L,23.293249054868696,Type 2
L,23.621269476681572,Type 3
L,24.524090518095107,Type 1
L,23.902515447452412,Type 2
L,25.436286456737072,Type 3
L,23.68753181198568,Type 1
L,24.554957475344196,Type 2
L,24.785928533173838,Type 3
L,21.982709857349278,Type 1
L,23.438494350302154,Type 2
L,25.2912289613334,Type 3
L,23.633680105367482,Type 1
L,25.365575530063456,Type 2
L,22.983871853249816,Type 3
L,25.21144446886916,Type 1
L,24.959601080226356,Type 2
L,23.06275134171971,Type 3
L,22.97133818540995,Type 1
L,21.94179903920213,Type 2
L,23.254208745947007,Type 3
L,23.254790749679337,Type 1
L,25.001978107568103,Type 2
L,25.39722482570313,Type 3
L,25.038757457667668,Type 1
L,23.046129385291046,Type 2
L,24.60200664692936,Type 3
L,25.159222467230556,Type 1
L,25.628344341096913,Type 2
L,25.015985088481024,Type 3
L,25.203379318377106,Type 1
L,24.179008700874988,Type 2
L,22.52760431669099,Type 3
L,22.59789677026759,Type 1
L,22.76245140877191,Type 2
L,23.03042505162918,Type 3
L,23.858685700480503,Type 1
L,23.54305584988777,Type 2
L,23.628756339821045,Type 3
M,25.943745006011223,Type 1
M,24.95096116560745,Type 2
M,26.922740094447366,Type 3
M,26.049211510498477,Type 1
M,25.54626282767296,Type 2
M,25.894642355366038,Type 3
M,25.990915794990546,Type 1
M,26.93248030683626,Type 2
M,26.250117766196862,Type 3
M,24.48747404047169,Type 1
M,25.526737345674942,Type 2
M,25.66043767338026,Type 3
M,25.15527877274144,Type 1
M,25.687068577128137,Type 2
M,26.577460747670507,Type 3
M,26.975368395236796,Type 1
M,23.999172597872676,Type 2
M,26.13194964544007,Type 3
M,24.059155028861024,Type 1
M,26.93379783464555,Type 2
M,25.02744384119628,Type 3
M,26.633626032906406,Type 1
M,24.58007828802103,Type 2
M,26.059573804935088,Type 3
M,26.68221284864895,Type 1
M,25.669087139531786,Type 2
M,23.595507300924424,Type 3
M,26.093569156891398,Type 1
M,25.516596406909585,Type 2
M,27.07820036223441,Type 3
M,26.464987592760238,Type 1
M,26.40401633715041,Type 2
M,25.16309938850697,Type 3
M,25.78633774205824,Type 1
M,26.290641224777215,Type 2
M,24.346704766844876,Type 3
M,26.75069667685282,Type 1
M,26.943464537479866,Type 2
M,25.34486538997194,Type 3
M,26.571427186086176,Type 1
N,28.139676581943643,Type 2
N,28.849677266314195,Type 3
N,29.4480501431883,Type 1
N,27.77595095898746,Type 2
N,28.331108545673064,Type 3
N,28.0570430612451,Type 1
N,29.187917738732665,Type 2
N,27.88020601489568,Type 3
N,27.081338069061022,Type 1
N,26.589360627999184,Type 2
N,26.96118382883722,Type 3
N,28.751552668956545,Type 1
N,28.80721252782763,Type 2
N,29.06244018020608,Type 3
N,27.096825471265767,Type 1
N,27.770177639035886,Type 2
N,27.15531671163638,Type 3
N,29.347638729616722,Type 1
N,28.35920064504913,Type 2
N,27.867961312408166,Type 3
N,27.731451955830217,Type 1
N,28.70696693799041,Type 2
N,29.722451038309398,Type 3
N,27.508442021337675,Type 1
N,27.748383471129728,Type 2
N,26.612736679642612,Type 3
N,29.09262123692241,Type 1
N,27.0270402915551,Type 2
N,27.736979262609502,Type 3
N,27.933814122613143,Type 1
N,28.068517231234157,Type 2
N,28.10645864101446,Type 3
N,27.132535234042354,Type 1
N,28.893919408630996,Type 2
N,26.989095240573754,Type 3
N,28.013609139438117,Type 1
N,29.27302907088852,Type 2
N,29.94815596419177,Type 3
N,26.83864765818415,Type 1
N,28.73385376396029,Type 2
O,31.322560488462543,Type 3
O,30.75821104964596,Type 1
O,30.58158883507853,Type 2
O,28.867888272188473,Type 3
O,29.746248036634782,Type 1
O,29.399754117987126,Type 2
O,31.210703976640612,Type 3
O,29.069506613337673,Type 1
O,29.24830119414038,Type 2
O,29.67545469216861,Type 3
O,31.23398901537226,Type 1
O,29.816991289147204,Type 2
O,30.567624259193835,Type 3
O,31.18087654653907,Type 1
O,30.579738374851125,Type 2
O,28.78170105554339,Type 3
O,29.529773699025018,Type 1
O,30.669558209122485,Type 2
O,31.099800754921937,Type 3
O,28.541376412181876,Type 1
O,28.92683619386388,Type 2
O,29.54819235787905,Type 3
O,31.601416582478873,Type 1
O,28.54032117017699,Type 2
O,28.218604691894065,Type 3
O,30.206396335074043,Type 1
O,29.44287326652655,Type 2
O,32.47064749929622,Type 3
O,29.77887365539469,Type 1
O,29.849408445160346,Type 2
O,31.639077517222212,Type 3
O,29.263024550151737,Type 1
O,29.113090483073787,Type 2
O,29.911493051993578,Type 3
O,30.867824450011163,Type 1
O,30.792958664961986,Type 2
O,31.151012582998387,Type 3
O,30.20363427475787,Type 1
O,30.427803235993018,Type 2
O,28.531625189660105,Type 3

</script><script type="text/plain" id="grouped_data" data-format="csv_embedded" data-src="">
group,value,country,industry
A,2.0107819772310864,Australia,Coal
A,2.6606817032993355,Australia,Coal
A,3.250713265223922,Australia,Coal
A,2.577741252790538,Australia,Coal
A,1.7527738786912352,Australia,Coal
A,2.604035139926715,Australia,Coal
A,3.8254257346711302,Australia,Coal
A,2.1665591835712306,Australia,Coal
A,1.8944473207060732,Australia,Coal
A,0.47037062859649414,Australia,Coal
A,2.8287947127906126,Australia,Coal
A,2.7930024611246327,Australia,Coal
A,4.336096094794527,Australia,Coal
A,0.9951666316456305,Australia,Coal
A,1.8934270947393403,Australia,Coal
A,1.6656807463922259,Australia,Coal
A,2.1927410445474185,Australia,Coal
A,1.3547707742091153,Australia,Coal
A,2.3244186622224157,Australia,Coal
A,1.97853147471174,Australia,Coal
A,3.177663236343307,Australia,Coal
A,3.04414860678913,Australia,Coal
A,2.160866895431305,Australia,Coal
A,2.5966112031170807,Australia,Coal
A,2.877889992958811,Australia,Coal
A,2.346969849352664,Australia,Coal
A,1.4850673483164711,Australia,Coal
A,3.2507729534304968,Australia,Coal
A,3.230516035874312,Australia,Coal
A,2.448801672906703,Australia,Coal
A,1.727283706874475,Australia,Coal
A,0.5932286783749818,Australia,Coal
A,0.963941743561386,Australia,Coal
A,0.019022630200061563,Australia,Coal
A,2.7248156647036126,Australia,Coal
A,1.7684825035473284,Australia,Coal
A,1.778586145271931,Australia,Coal
A,3.53822906132317,Australia,Coal
A,2.5672307895200364,Australia,Coal
A,1.8113523382218153,Australia,Coal
A,1.4038129721233363,Australia,Coal
A,1.2579335513003118,Australia,Coal
A,0.5544504675221258,Australia,Coal
A,3.158751466011889,Australia,Coal
A,1.1637467943823698,Australia,Coal
A,1.1672212971721505,Australia,Coal
A,1.88699930742098,Australia,Coal
A,2.5480098866991083,Australia,Coal
A,1.1891253274633171,Australia,Coal
A,2.519221987228943,Australia,Coal
B,3.8020429659425066,Australia,Tourism
B,4.988128748285216,Australia,Tourism
B,5.160350517039999,Australia,Tourism
B,3.3856906072930597,Australia,Tourism
B,4.916558968443081,Australia,Tourism
B,5.306115077090707,Australia,Tourism
B,4.606569815990754,Australia,Tourism
B,6.144750866121365,Australia,Tourism
B,4.273714879249758,Australia,Tourism
B,4.117032466497649,Australia,Tourism
B,5.591170122011541,Australia,Tourism
B,4.313670924996087,Australia,Tourism
B,3.607468984765802,Australia,Tourism
B,3.6864666881245296,Australia,Tourism
B,5.969785059219841,Australia,Tourism
B,6.087832342638923,Australia,Tourism
B,5.8317084136902215,Australia,Tourism
B,5.557544150038399,Australia,Tourism
B,5.4512973369545366,Australia,Tourism
B,4.311600445386084,Australia,Tourism
B,5.023006568820401,Australia,Tourism
B,4.371851672243442,Australia,Tourism
B,4.917584915213808,Australia,Tourism
B,5.530342779819182,Australia,Tourism
B,5.71157348008853,Australia,Tourism
B,4.454503310619624,Australia,Tourism
B,3.053785231300127,Australia,Tourism
B,3.0232332426079767,Australia,Tourism
B,6.211345390883265,Australia,Tourism
B,7.5032511729419324,Australia,Tourism
B,4.825515148790371,Australia,Tourism
B,4.7008974208819705,Australia,Tourism
B,6.659515287554299,Australia,Tourism
B,6.126054657484756,Australia,Tourism
B,6.008766810206993,Australia,Tourism
B,6.2757634637860376,Australia,Tourism
B,5.091723921263036,Australia,Tourism
B,5.820647541122309,Australia,Tourism
B,5.13204413602265,Australia,Tourism
B,4.037894832122527,Australia,Tourism
B,5.333131442137687,Australia,Tourism
B,5.834250181427034,Australia,Tourism
B,4.365943674844088,Australia,Tourism
B,5.3407317537033965,Australia,Tourism
B,4.050044010959382,Australia,Tourism
B,6.013838886624124,Australia,Tourism
B,5.767348704085444,Australia,Tourism
B,4.929413626918105,Australia,Tourism
B,7.039329413704807,Australia,Tourism
B,5.606305865848898,Australia,Tourism
C,6.602177865849969,Brazil,Coal
C,7.78321922328369,Brazil,Coal
C,7.641666679579195,Brazil,Coal
C,8.973933523675782,Brazil,Coal
C,8.22012784674895,Brazil,Coal
C,9.299472253490357,Brazil,Coal
C,8.689251720078566,Brazil,Coal
C,8.043377512680621,Brazil,Coal
C,8.338361972563716,Brazil,Coal
C,7.934808623614822,Brazil,Coal
C,10.098012090407543,Brazil,Coal
C,6.608137385714719,Brazil,Coal
C,8.795524127401771,Brazil,Coal
C,8.185943865943617,Brazil,Coal
C,6.3983974090899975,Brazil,Coal
C,7.472792440569538,Brazil,Coal
C,7.839687383460372,Brazil,Coal
C,6.534072604289615,Brazil,Coal
C,6.854389116681545,Brazil,Coal
C,7.979654968134535,Brazil,Coal
C,8.2339148491018,Brazil,Coal
C,8.58069661236907,Brazil,Coal
C,8.602385055278674,Brazil,Coal
C,8.491248703667637,Brazil,Coal
C,7.748505851986461,Brazil,Coal
C,7.390295823895477,Brazil,Coal
C,11.508026039661214,Brazil,Coal
C,9.762299067926737,Brazil,Coal
C,8.1396535653084,Brazil,Coal
C,7.9650358937487775,Brazil,Coal
C,7.8555720172555485,Brazil,Coal
C,7.1833453296239025,Brazil,Coal
C,8.641879958298524,Brazil,Coal
C,9.711758370779544,Brazil,Coal
C,6.328017485349715,Brazil,Coal
C,8.041596728181775,Brazil,Coal
C,7.259537536360548,Brazil,Coal
C,8.706735712455519,Brazil,Coal
C,8.750120949246192,Brazil,Coal
C,7.793981526757314,Brazil,Coal
C,8.855443723272769,Brazil,Coal
C,9.082440556671028,Brazil,Coal
C,9.301048548813158,Brazil,Coal
C,9.318716106555682,Brazil,Coal
C,5.439049409775786,Brazil,Coal
C,6.58735316628916,Brazil,Coal
C,6.926752913744897,Brazil,Coal
C,8.219774559470336,Brazil,Coal
C,7.341148694810311,Brazil,Coal
C,9.09833261544437,Brazil,Coal
D,2.859072313192792,USA,Tourism
D,2.9618980614119326,USA,Tourism
D,3.8188239635671204,USA,Tourism
D,1.6200568419485777,USA,Tourism
D,5.844434332477818,USA,Tourism
D,3.8240185275595486,USA,Tourism
D,4.075911966096607,USA,Tourism
D,2.7918817491409165,USA,Tourism
D,3.172809988846928,USA,Tourism
D,1.7663253483397452,USA,Tourism
D,2.922924112620227,USA,Tourism
D,4.289357368879456,USA,Tourism
D,3.6878123291411185,USA,Tourism
D,1.992894669766947,USA,Tourism
D,1.9677548271542733,USA,Tourism
D,2.709556386049705,USA,Tourism
D,2.5643834231134,USA,Tourism
D,1.5795011752944181,USA,Tourism
D,2.9274043050920118,USA,Tourism
D,2.890918759410361,USA,Tourism
D,2.173797584977185,USA,Tourism
D,4.419250621665572,USA,Tourism
D,2.138385103790973,USA,Tourism
D,2.9799704469100123,USA,Tourism
D,3.7303913422904382,USA,Tourism
D,2.475099425501727,USA,Tourism
D,3.027785733115733,USA,Tourism
D,3.4017987733084296,USA,Tourism
D,3.0640572927831697,USA,Tourism
D,3.020952773873945,USA,Tourism
D,1.8825977447026903,USA,Tourism
D,4.277129769099771,USA,Tourism
D,3.2724574576038075,USA,Tourism
D,3.514748858238768,USA,Tourism
D,2.221134153128621,USA,Tourism
D,2.804276636844002,USA,Tourism
D,3.349027374336693,USA,Tourism
D,4.399126944198194,USA,Tourism
D,2.9374188706816056,USA,Tourism
D,3.3241360881650337,USA,Tourism
D,1.316227137188094,USA,Tourism
D,2.1148475024580122,USA,Tourism
D,2.551236855209486,USA,Tourism
D,2.4464697848626886,USA,Tourism
D,1.7781441001209015,USA,Tourism
D,3.096457222067174,USA,Tourism
D,2.41146043596532,USA,Tourism
D,4.661438751230536,USA,Tourism
D,4.179750910539653,USA,Tourism
D,3.796620764083529,USA,Tourism
E,4.8841829840215505,USA,Tourism
E,6.197602295167728,USA,Tourism
E,6.564826276004559,USA,Tourism
E,6.381573530167713,USA,Tourism
E,7.338786099902702,USA,Tourism
E,5.897244077558584,USA,Tourism
E,5.441515519593429,USA,Tourism
E,5.542872601998789,USA,Tourism
E,7.397834623207636,USA,Tourism
E,5.603349957560562,USA,Tourism
E,6.195330364185211,USA,Tourism
E,7.486041149479091,USA,Tourism
E,5.7866456069547265,USA,Tourism
E,6.355039305281135,USA,Tourism
E,5.291786582164666,USA,Tourism
E,6.584663524715733,USA,Tourism
E,4.7743338317008925,USA,Tourism
E,5.769590839854981,USA,Tourism
E,6.26041290140136,USA,Tourism
E,7.395097055318279,USA,Tourism
E,5.627473895561741,USA,Tourism
E,6.604072711222545,USA,Tourism
E,4.652163793060478,USA,Tourism
E,5.652756053540757,USA,Tourism
E,5.492387507489642,USA,Tourism
E,5.7329673047375795,USA,Tourism
E,5.532955872385266,USA,Tourism
E,3.926584965241114,USA,Tourism
E,6.9970809483359595,USA,Tourism
E,7.520064337053736,USA,Tourism
E,9.005046059852,USA,Tourism
E,7.4191195448759775,USA,Tourism
E,6.946734344086177,USA,Tourism
E,5.24664600747429,USA,Tourism
E,5.804752844063691,USA,Tourism
E,5.56932963898858,USA,Tourism
E,3.394612130785021,USA,Tourism
E,4.782099463203358,USA,Tourism
E,6.651387973031386,USA,Tourism
E,5.389646862269288,USA,Tourism
E,6.49401010281725,USA,Tourism
E,7.263670181483455,USA,Tourism
E,7.004371852144009,USA,Tourism
E,6.473997294264335,USA,Tourism
E,4.43712170460791,USA,Tourism
E,7.44699581478492,USA,Tourism
E,5.945812970670365,USA,Tourism
E,6.209799229489034,USA,Tourism
E,7.081025449940389,USA,Tourism
E,3.8264173736962213,USA,Tourism
F,8.764446657928007,USA,Coal
F,9.84936993316457,USA,Coal
F,9.100003765785571,USA,Coal
F,7.371583359041891,USA,Coal
F,8.427216252783877,USA,Coal
F,8.843276132652191,USA,Coal
F,8.514515667305101,USA,Coal
F,8.086388839435354,USA,Coal
F,7.189800340320491,USA,Coal
F,9.714392384186242,USA,Coal
F,8.660319901802314,USA,Coal
F,8.754175288395118,USA,Coal
F,10.68515385569993,USA,Coal
F,9.206333291397234,USA,Coal
F,9.340945643866526,USA,Coal
F,9.960715148400856,USA,Coal
F,8.620067070728789,USA,Coal
F,8.532276318579427,USA,Coal
F,8.451968906438932,USA,Coal
F,9.239613961404126,USA,Coal
F,10.65495147519578,USA,Coal
F,8.496569515743465,USA,Coal
F,9.474019043010758,USA,Coal
F,8.637139415451497,USA,Coal
F,8.335049869031378,USA,Coal
F,9.630601873797376,USA,Coal
F,9.489902323064914,USA,Coal
F,6.992802791538729,USA,Coal
F,8.224216730878926,USA,Coal
F,7.837680160233192,USA,Coal
F,7.836391466579099,USA,Coal
F,9.320672874923478,USA,Coal
F,11.120310005651355,USA,Coal
F,8.381885045348668,USA,Coal
F,8.591401161783132,USA,Coal
F,6.686614074050496,USA,Coal
F,10.570203365727522,USA,Coal
F,9.601614279526247,USA,Coal
F,10.769333460669216,USA,Coal
F,9.59735756041487,USA,Coal
F,9.760257446347543,USA,Coal
F,8.050936468229112,USA,Coal
F,11.432910146440364,USA,Coal
F,10.113808898798425,USA,Coal
F,8.09163483032381,USA,Coal
F,8.684283502596761,USA,Coal
F,9.731397068872242,USA,Coal
F,10.52389348804636,USA,Coal
F,8.656483238774772,USA,Coal
F,9.818831451736697,USA,Coal
G,3.2769443768292814,Suriname,Tourism
G,3.8680997383543767,Suriname,Tourism
G,3.937800171574526,Suriname,Tourism
G,2.9641453320709967,Suriname,Tourism
G,4.47434357486078,Suriname,Tourism
G,2.9690814939344126,Suriname,Tourism
G,3.224430673480192,Suriname,Tourism
G,4.861480449406891,Suriname,Tourism
G,4.3295517965795405,Suriname,Tourism
G,2.7401760480542143,Suriname,Tourism
G,3.6758171587801423,Suriname,Tourism
G,4.504836355862033,Suriname,Tourism
G,2.9457089379553967,Suriname,Tourism
G,2.9215434045343343,Suriname,Tourism
G,2.608704392027904,Suriname,Tourism
G,5.145662313000322,Suriname,Tourism
G,2.294068923399709,Suriname,Tourism
G,5.717335862172896,Suriname,Tourism
G,4.634390257253047,Suriname,Tourism
G,3.3466611903780983,Suriname,Tourism
G,4.405783691319773,Suriname,Tourism
G,3.7662627993626616,Suriname,Tourism
G,3.769493048434736,Suriname,Tourism
G,5.162213673518721,Suriname,Tourism
G,2.4828275795794545,Suriname,Tourism
G,2.7811616165054405,Suriname,Tourism
G,3.9741138641232094,Suriname,Tourism
G,4.319117362369478,Suriname,Tourism
G,5.151656882619177,Suriname,Tourism
G,4.525349736146425,Suriname,Tourism
G,5.295690090304654,Suriname,Tourism
G,3.037706437938698,Suriname,Tourism
G,5.574359609270521,Suriname,Tourism
G,3.44126355430309,Suriname,Tourism
G,3.7780008802459397,Suriname,Tourism
G,3.8501048942148888,Suriname,Tourism
G,4.470829331396047,Suriname,Tourism
G,2.7752361230586082,Suriname,Tourism
G,3.2535327461215298,Suriname,Tourism
G,4.3992970062568,Suriname,Tourism
G,3.119980466778137,Suriname,Tourism
G,3.556304575174235,Suriname,Tourism
G,2.5250348946555805,Suriname,Tourism
G,2.666031135281128,Suriname,Tourism
G,3.313218405729862,Suriname,Tourism
G,3.724796205760627,Suriname,Tourism
G,3.9530033061164835,Suriname,Tourism
G,3.1650301426891363,Suriname,Tourism
G,3.226481684855659,Suriname,Tourism
G,1.540850059136186,Suriname,Tourism
H,8.290913584976918,Argentina,Coal
H,7.2298689934111575,Argentina,Coal
H,7.466600625744169,Argentina,Coal
H,7.50444771172088,Argentina,Coal
H,9.074153299184493,Argentina,Coal
H,6.663499264045755,Argentina,Coal
H,5.983395202466645,Argentina,Coal
H,5.203867789510117,Argentina,Coal
H,6.8238634531412234,Argentina,Coal
H,7.42791206813511,Argentina,Coal
H,5.678109794024945,Argentina,Coal
H,8.427882396009258,Argentina,Coal
H,6.390205018836826,Argentina,Coal
H,6.235678751306687,Argentina,Coal
H,7.921801155933932,Argentina,Coal
H,8.380970635879994,Argentina,Coal
H,5.864404242745939,Argentina,Coal
H,8.763172357424502,Argentina,Coal
H,5.498210992663097,Argentina,Coal
H,5.1585761662860685,Argentina,Coal
H,8.05641619530827,Argentina,Coal
H,7.238403331915339,Argentina,Coal
H,6.915488811642221,Argentina,Coal
H,6.713386164872131,Argentina,Coal
H,7.302183759117366,Argentina,Coal
H,7.527807577749484,Argentina,Coal
H,8.045972845677378,Argentina,Coal
H,6.083789522674248,Argentina,Coal
H,8.125534542969413,Argentina,Coal
H,7.14465870683518,Argentina,Coal
H,5.650960505942475,Argentina,Coal
H,7.814406383482275,Argentina,Coal
H,6.3228358383749,Argentina,Coal
H,6.843625438906855,Argentina,Coal
H,6.981011394886155,Argentina,Coal
H,7.280670862886977,Argentina,Coal
H,7.049090719919564,Argentina,Coal
H,7.400607416079478,Argentina,Coal
H,8.15325299204905,Argentina,Coal
H,8.001478421012127,Argentina,Coal
H,6.6736495246873275,Argentina,Coal
H,8.782773592869784,Argentina,Coal
H,7.544148900590438,Argentina,Coal
H,6.035060224103662,Argentina,Coal
H,7.041515888450537,Argentina,Coal
H,6.980070248398692,Argentina,Coal
H,5.897779859887102,Argentina,Coal
H,8.863804825390325,Argentina,Coal
H,5.142795622785705,Argentina,Coal
H,7.166826078676031,Argentina,Coal
I,10.66763690223085,Argentina,Tourism
I,8.798855690900835,Argentina,Tourism
I,10.724402346171795,Argentina,Tourism
I,9.761413777832681,Argentina,Tourism
I,9.776057175574739,Argentina,Tourism
I,9.521643477553402,Argentina,Tourism
I,11.34917082925319,Argentina,Tourism
I,11.399582989387582,Argentina,Tourism
I,10.877497726009153,Argentina,Tourism
I,9.5532383012199,Argentina,Tourism
I,10.692497815311649,Argentina,Tourism
I,11.090965936548267,Argentina,Tourism
I,9.351462645739657,Argentina,Tourism
I,9.0730866418045,Argentina,Tourism
I,10.18608439246186,Argentina,Tourism
I,10.107107872845868,Argentina,Tourism
I,9.205324342851767,Argentina,Tourism
I,9.963998891748995,Argentina,Tourism
I,9.224909827746488,Argentina,Tourism
I,10.776739155716735,Argentina,Tourism
I,9.828582109954377,Argentina,Tourism
I,9.70716078463406,Argentina,Tourism
I,10.004817833064509,Argentina,Tourism
I,10.719455331153192,Argentina,Tourism
I,9.808008088428668,Argentina,Tourism
I,9.17042694399646,Argentina,Tourism
I,11.454994070212456,Argentina,Tourism
I,9.117779795428213,Argentina,Tourism
I,11.389254356038803,Argentina,Tourism
I,9.811064809949059,Argentina,Tourism
I,9.27750071478772,Argentina,Tourism
I,9.068293596383075,Argentina,Tourism
I,9.326982543492454,Argentina,Tourism
I,9.782514174276013,Argentina,Tourism
I,10.747501563701302,Argentina,Tourism
I,11.846526526214783,Argentina,Tourism
I,10.42531350298798,Argentina,Tourism
I,9.766412750860361,Argentina,Tourism
I,8.568236302187572,Argentina,Tourism
I,10.721748022664766,Argentina,Tourism
I,9.321309672573006,Argentina,Tourism
I,10.61043456041827,Argentina,Tourism
I,10.46811741184824,Argentina,Tourism
I,9.105058309913936,Argentina,Tourism
I,8.900989201071734,Argentina,Tourism
I,9.412837648059758,Argentina,Tourism
I,8.840912439333307,Argentina,Tourism
I,8.038888527344113,Argentina,Tourism
I,9.164892631220802,Argentina,Tourism
I,9.669177067060563,Argentina,Tourism

</script><script type="text/plain" id="colored_data" data-format="csv_embedded" data-src="">
group,value,region,industry
A,5.106074097141782,North,Tech
A,3.6323135247814253,North,Tech
A,5.512975814565147,North,Tech
A,5.328157512299224,North,Tech
A,5.675166910368615,North,Tech
A,5.032981324812496,North,Tech
A,4.797068417048824,North,Tech
A,6.223747536464728,North,Tech
A,2.5626886121950054,North,Tech
A,5.072571450880073,North,Tech
A,4.676194812238983,North,Tech
A,4.1053458516244,North,Tech
A,5.446614333428192,North,Tech
A,4.855603796231265,North,Tech
A,5.876598670965437,North,Tech
A,4.242585389695343,North,Tech
A,7.156652194607261,North,Tech
A,6.194766734669709,North,Tech
A,4.5759256620839,North,Tech
A,4.8528399976906496,North,Tech
A,3.3311363931985554,North,Tech
A,5.424066814678134,North,Tech
A,7.05914161387351,North,Tech
A,5.566068990328132,North,Tech
A,5.246949661481878,North,Tech
A,4.467782994630204,North,Tech
A,6.165567039821362,North,Tech
A,4.868577534804576,North,Tech
A,4.802378220278851,North,Tech
A,6.843296302906911,North,Tech
A,4.891342688496102,North,Tech
A,4.204391748619817,North,Tech
A,4.470045100434417,North,Tech
A,5.940205877097359,North,Tech
A,6.4932488273117706,North,Tech
A,4.007420159564731,North,Tech
A,6.350411012441989,North,Tech
A,2.6114860356240337,North,Tech
A,4.414463364421777,North,Tech
A,5.599914021258719,North,Tech
A,4.222520232975872,North,Tech
A,4.544747793284439,North,Tech
A,7.070769949701204,North,Tech
A,4.467690894579203,North,Tech
A,5.492012769450324,North,Tech
A,5.5055168729247965,North,Tech
A,6.365452186020121,North,Tech
A,7.1953826824500915,North,Tech
A,4.425997511864981,North,Tech
A,4.155510565800642,North,Tech
A,8.05732363436784,North,Tech
A,6.035483685829563,North,Tech
A,5.455015317030233,North,Tech
A,4.173423278183452,North,Tech
A,4.2782985119641,North,Tech
A,4.774443088450548,North,Tech
A,5.364331316434509,North,Tech
A,5.030769843085556,North,Tech
A,5.00872302087332,North,Tech
A,3.867952618760291,North,Tech
A,5.860790944261584,North,Tech
A,4.957640050973283,North,Tech
A,5.1135319716583165,North,Tech
A,3.6271014985868586,North,Tech
A,4.582091271342915,North,Tech
A,4.4068035233424165,North,Tech
A,4.647409373788707,North,Tech
A,5.456386799962452,North,Tech
A,4.72523613074314,North,Tech
A,5.469464964929664,North,Tech
A,5.561455357118458,North,Tech
A,6.5744647754660495,North,Tech
A,4.7967247278359455,North,Tech
A,7.570397840806741,North,Tech
A,6.859116474303886,North,Tech
A,4.782047218227591,North,Tech
A,4.3256570324941075,North,Tech
A,4.6958116358977495,North,Tech
A,2.4078774531569853,North,Tech
A,5.013850207144581,North,Tech
B,5.62617954256522,North,Finance
B,6.492498058481843,North,Finance
B,6.316062832081375,North,Finance
B,8.324246614677518,North,Finance
B,5.884905129893168,North,Finance
B,6.913274015225207,North,Finance
B,5.81763761234876,North,Finance
B,8.304821978027427,North,Finance
B,10.356224846319765,North,Finance
B,8.556362533767043,North,Finance
B,7.186426556422209,North,Finance
B,6.001020278201012,North,Finance
B,10.171394785320066,North,Finance
B,7.105203465979215,North,Finance
B,8.282645525966283,North,Finance
B,5.705348347900275,North,Finance
B,6.1817987794998785,North,Finance
B,6.373718716355488,North,Finance
B,6.306245419354257,North,Finance
B,6.5443919888448,North,Finance
B,7.132010141215442,North,Finance
B,6.256575842155143,North,Finance
B,7.087131499246809,North,Finance
B,6.358272927057927,North,Finance
B,7.562262012317877,North,Finance
B,7.722016139506159,North,Finance
B,6.2336093007654965,North,Finance
B,8.202383185374515,North,Finance
B,7.056229055903774,North,Finance
B,5.973135305701022,North,Finance
B,7.9282141255421985,North,Finance
B,6.770299201840277,North,Finance
B,7.747442261210915,North,Finance
B,5.960631177960589,North,Finance
B,6.742468166593387,North,Finance
B,6.346968432790091,North,Finance
B,8.103850761194108,North,Finance
B,5.555522687502112,North,Finance
B,7.188588526932538,North,Finance
B,6.2585766598360335,North,Finance
B,7.112689604664692,North,Finance
B,7.516488034777765,North,Finance
B,7.387255266215193,North,Finance
B,5.582668944607813,North,Finance
B,5.540221517720475,North,Finance
B,6.796356457468175,North,Finance
B,7.876429064400488,North,Finance
B,6.089465418037803,North,Finance
B,5.0938342167786566,North,Finance
B,6.179112607265056,North,Finance
B,7.422084900004921,North,Finance
B,7.724634303422771,North,Finance
B,7.696019518757065,North,Finance
B,7.758388473489994,North,Finance
B,8.114287098092689,North,Finance
B,5.960249896308743,North,Finance
B,7.319075334897576,North,Finance
B,7.150537077893424,North,Finance
B,6.267463093678886,North,Finance
B,6.581314297190792,North,Finance
B,5.797107960569333,North,Finance
B,6.779837243952263,North,Finance
B,7.8173559003845074,North,Finance
B,7.567927962534949,North,Finance
B,7.302010986958027,North,Finance
B,8.112099472297349,North,Finance
B,6.667155230391941,North,Finance
B,7.621550407627634,North,Finance
B,6.146727523260546,North,Finance
B,7.064967398186155,North,Finance
B,6.350822801936539,North,Finance
B,6.312015514617087,North,Finance
B,7.196503849207577,North,Finance
B,7.046066139213447,North,Finance
B,7.0790127811920796,North,Finance
B,7.5014797666362805,North,Finance
B,8.332803465709222,North,Finance
B,7.687251654716078,North,Finance
B,7.730573238057943,North,Finance
B,6.3388823100697635,North,Finance
C,7.612348932963036,South,Tech
C,9.246859085683694,South,Tech
C,8.84103551961675,South,Tech
C,9.35379421295238,South,Tech
C,7.501652625637561,South,Tech
C,8.944483470361334,South,Tech
C,9.05669937689157,South,Tech
C,8.723711541223482,South,Tech
C,9.092192359920391,South,Tech
C,10.65199919095652,South,Tech
C,10.630811494721408,South,Tech
C,8.940191188928772,South,Tech
C,9.375822754756873,South,Tech
C,9.905017304566387,South,Tech
C,8.734784107982282,South,Tech
C,8.832195099987558,South,Tech
C,9.625236651468395,South,Tech
C,9.499959705197293,South,Tech
C,7.985308667968353,South,Tech
C,8.314679434660405,South,Tech
C,9.571257627546329,South,Tech
C,7.198528321007641,South,Tech
C,9.789439959395814,South,Tech
C,9.04547343957046,South,Tech
C,8.769137707176792,South,Tech
C,8.517525342633052,South,Tech
C,8.988131314849817,South,Tech
C,9.352383735784287,South,Tech
C,10.165530300219753,South,Tech
C,9.76296707339694,South,Tech
C,10.513763530731225,South,Tech
C,9.997646806434425,South,Tech
C,9.86459292473794,South,Tech
C,9.08112768303026,South,Tech
C,8.657100179380558,South,Tech
C,9.313716509683957,South,Tech
C,8.551270844436257,South,Tech
C,7.2332183756284225,South,Tech
C,8.34884665072806,South,Tech
C,9.450547157593887,South,Tech
C,8.871039492559342,South,Tech
C,7.166362643851031,South,Tech
C,8.785451667248209,South,Tech
C,8.72320478936911,South,Tech
C,9.076785110649448,South,Tech
C,10.778289624382017,South,Tech
C,10.809799103537923,South,Tech
C,10.018023612844484,South,Tech
C,9.878084322813331,South,Tech
C,9.351034678592926,South,Tech
C,9.267273556667854,South,Tech
C,9.80044523876674,South,Tech
C,8.896678462176844,South,Tech
C,8.945150731579677,South,Tech
C,9.18635844375008,South,Tech
C,8.619291911956015,South,Tech
C,8.433660278104039,South,Tech
C,8.931424785267513,South,Tech
C,8.475598733096788,South,Tech
C,9.75941994261818,South,Tech
C,8.596069862723619,South,Tech
C,8.57500183519041,South,Tech
C,10.398402066395688,South,Tech
C,9.5238428446046,South,Tech
C,7.782804119441732,South,Tech
C,9.471704709924845,South,Tech
C,8.996319443240479,South,Tech
C,8.887614373626342,South,Tech
C,10.376863394787676,South,Tech
C,7.868899191472936,South,Tech
C,8.469777882432155,South,Tech
C,10.196853624424449,South,Tech
C,11.51792767749908,South,Tech
C,8.952426829800315,South,Tech
C,9.238824137848816,South,Tech
C,9.29120697627199,South,Tech
C,9.250881224555098,South,Tech
C,8.615280934564826,South,Tech
C,7.103678131586619,South,Tech
C,9.66387171470715,South,Tech
D,5.79828543819206,South,Finance
D,6.482944784798639,South,Finance
D,5.796614541685926,South,Finance
D,6.148942594452047,South,Finance
D,7.438773310912359,South,Finance
D,5.922888988954102,South,Finance
D,7.0289827717091296,South,Finance
D,6.384987444453301,South,Finance
D,6.194573319559334,South,Finance
D,6.425748074861847,South,Finance
D,7.171901628533673,South,Finance
D,5.711772602919331,South,Finance
D,5.8407545683161,South,Finance
D,7.528579125889716,South,Finance
D,6.758939724210142,South,Finance
D,4.669157827055368,South,Finance
D,5.438523682873533,South,Finance
D,5.737473699544519,South,Finance
D,5.925373548847419,South,Finance
D,5.069621263773531,South,Finance
D,5.019943332102462,South,Finance
D,6.805968102554318,South,Finance
D,4.791613154533044,South,Finance
D,5.4979893869088325,South,Finance
D,7.2466562115173065,South,Finance
D,6.209308758623927,South,Finance
D,5.440974824099254,South,Finance
D,5.264072214135097,South,Finance
D,6.561377992096116,South,Finance
D,6.97041431354502,South,Finance
D,5.5944214087044415,South,Finance
D,6.342539475156346,South,Finance
D,7.245118823946427,South,Finance
D,7.176564409678542,South,Finance
D,5.2509849641394535,South,Finance
D,5.522958574846463,South,Finance
D,6.68644470372975,South,Finance
D,5.753571290426654,South,Finance
D,6.918551122271852,South,Finance
D,6.0038859163320115,South,Finance
D,5.788840156534358,South,Finance
D,7.128816938431278,South,Finance
D,7.517796904227614,South,Finance
D,5.626458988660566,South,Finance
D,4.199905700832177,South,Finance
D,6.57366492021002,South,Finance
D,6.149876252362632,South,Finance
D,5.591756592035373,South,Finance
D,3.5578272577593055,South,Finance
D,5.186415221173406,South,Finance
D,5.314505513904696,South,Finance
D,5.721676530516324,South,Finance
D,5.7508229283265315,South,Finance
D,5.6994482756012035,South,Finance
D,5.910816311606062,South,Finance
D,6.720575922948061,South,Finance
D,7.68438330261514,South,Finance
D,6.72212457859651,South,Finance
D,6.411315523926232,South,Finance
D,5.879459896339527,South,Finance
D,5.377939833034408,South,Finance
D,5.26291380869544,South,Finance
D,4.973639916622064,South,Finance
D,6.4508791684851,South,Finance
D,6.92577013095055,South,Finance
D,5.876811769772113,South,Finance
D,7.125225094169279,South,Finance
D,4.814702632090847,South,Finance
D,7.211839570736402,South,Finance
D,5.972430262396153,South,Finance
D,4.100115749869425,South,Finance
D,8.050812071688075,South,Finance
D,7.086069081701335,South,Finance
D,3.7581575425725293,South,Finance
D,5.84958664952677,South,Finance
D,5.77350277752874,South,Finance
D,5.314746521081253,South,Finance
D,6.910879372168736,South,Finance
D,6.081911563694859,South,Finance
D,6.825381940208762,South,Finance
E,7.82784193724579,East,Tech
E,9.634852676511331,East,Tech
E,8.636802307686242,East,Tech
E,8.719535073662676,East,Tech
E,7.555758509122441,East,Tech
E,7.6566339063490965,East,Tech
E,7.868211867919013,East,Tech
E,7.31427335097454,East,Tech
E,7.502405922344979,East,Tech
E,7.137582444244824,East,Tech
E,9.125431620092241,East,Tech
E,8.969637343482217,East,Tech
E,8.511903764532695,East,Tech
E,6.797247617911379,East,Tech
E,6.295423168287948,East,Tech
E,6.104139883630567,East,Tech
E,7.652222781897016,East,Tech
E,9.0415710389143,East,Tech
E,7.395480681311158,East,Tech
E,7.48125505004705,East,Tech
E,8.533403696007246,East,Tech
E,7.748266313393173,East,Tech
E,7.150602819985616,East,Tech
E,7.027016810936363,East,Tech
E,7.155841502186677,East,Tech
E,6.981909509157146,East,Tech
E,7.4261716206407185,East,Tech
E,7.4495484072131966,East,Tech
E,7.237406866840867,East,Tech
E,9.434939655213327,East,Tech
E,7.6565518265027706,East,Tech
E,6.217078611493633,East,Tech
E,7.428138915381968,East,Tech
E,9.46676345834899,East,Tech
E,7.415003081856066,East,Tech
E,8.44324802228795,East,Tech
E,8.168108321202222,East,Tech
E,8.508100696793878,East,Tech
E,7.501398925724031,East,Tech
E,9.175253674159144,East,Tech
E,7.308853625660048,East,Tech
E,8.046583387029902,East,Tech
E,7.760568248821674,East,Tech
E,9.365137331121504,East,Tech
E,8.652254242687034,East,Tech
E,7.275844800040449,East,Tech
E,8.787252767462695,East,Tech
E,5.887157512023005,East,Tech
E,8.21681400092535,East,Tech
E,7.639654052991146,East,Tech
E,6.94886451198789,East,Tech
E,10.530063914480259,East,Tech
E,6.694372640216009,East,Tech
E,8.147823502791208,East,Tech
E,9.36105916536508,East,Tech
E,8.226654637775853,East,Tech
E,7.64420501939499,East,Tech
E,7.190489997407807,East,Tech
E,6.782098786050366,East,Tech
E,9.298464092327796,East,Tech
E,9.20857756311834,East,Tech
E,7.29812857083669,East,Tech
E,7.532673259568487,East,Tech
E,9.060885457206577,East,Tech
E,7.156085855010207,East,Tech
E,9.325975362730823,East,Tech
E,7.970014635614584,East,Tech
E,5.499103614025114,East,Tech
E,8.35938067990601,East,Tech
E,6.911263883617899,East,Tech
E,9.50711262413875,East,Tech
E,8.024431778602688,East,Tech
E,9.958419519756273,East,Tech
E,8.561723721172081,East,Tech
E,9.288160030824317,East,Tech
E,7.296790513595898,East,Tech
E,7.8636436515620325,East,Tech
E,6.6628019525503115,East,Tech
E,7.798757615675018,East,Tech
E,7.8000972584716255,East,Tech
F,10.680354392424217,East,Finance
F,11.501001830683025,East,Finance
F,8.805681309820987,East,Finance
F,8.997640329120848,East,Finance
F,8.516201355414271,East,Finance
F,9.654156536752494,East,Finance
F,9.269436407665435,East,Finance
F,9.286568104164587,East,Finance
F,8.722169322554898,East,Finance
F,9.072145883760017,East,Finance
F,11.676668573253847,East,Finance
F,8.698818204378632,East,Finance
F,11.289901577638823,East,Finance
F,11.068314724381008,East,Finance
F,11.199935962567931,East,Finance
F,10.76293784006514,East,Finance
F,9.825163522827058,East,Finance
F,10.629638236600389,East,Finance
F,10.62208685881601,East,Finance
F,10.731977180192633,East,Finance
F,11.353276909056024,East,Finance
F,7.77599466735591,East,Finance
F,10.003766939297762,East,Finance
F,9.718805541658456,East,Finance
F,10.443256199992694,East,Finance
F,9.37147558929695,East,Finance
F,12.321547624987657,East,Finance
F,11.611083595092065,East,Finance
F,11.639168674860567,East,Finance
F,8.984997166775317,East,Finance
F,10.7116489599804,East,Finance
F,9.84623999620264,East,Finance
F,9.394531582168204,East,Finance
F,10.337395301619383,East,Finance
F,9.589901659893691,East,Finance
F,9.110017165077036,East,Finance
F,12.330008206779604,East,Finance
F,8.484556578434178,East,Finance
F,9.507722920747558,East,Finance
F,9.148197437934606,East,Finance
F,9.902559331959033,East,Finance
F,9.606193555484785,East,Finance
F,10.043552888901134,East,Finance
F,10.198593914057046,East,Finance
F,10.680088380198974,East,Finance
F,10.528002608705961,East,Finance
F,8.984837731838011,East,Finance
F,8.373982267830888,East,Finance
F,12.525548473369536,East,Finance
F,10.735200534041585,East,Finance
F,11.25536202537919,East,Finance
F,8.349717960726679,East,Finance
F,11.86347113599877,East,Finance
F,10.240017423334022,East,Finance
F,10.030055809885503,East,Finance
F,9.63036021951146,East,Finance
F,10.097106485470785,East,Finance
F,8.536172716995267,East,Finance
F,10.477962806432066,East,Finance
F,10.653796941568858,East,Finance
F,9.388293105592671,East,Finance
F,10.903778055032028,East,Finance
F,10.592030430077395,East,Finance
F,9.538866438606254,East,Finance
F,11.234792681101183,East,Finance
F,9.865739057921145,East,Finance
F,10.206177878691422,East,Finance
F,10.193828457248571,East,Finance
F,9.923343639838697,East,Finance
F,10.752292143885303,East,Finance
F,10.475831983876082,East,Finance
F,10.494244476547141,East,Finance
F,9.434104222857083,East,Finance
F,9.598692861998376,East,Finance
F,8.81416743929532,East,Finance
F,9.825976060670515,East,Finance
F,10.612447513383152,East,Finance
F,11.166789117060373,East,Finance
F,10.135608834941252,East,Finance
F,9.321372644043054,East,Finance

</script><script type="text/plain" id="filtered_data" data-format="csv_embedded" data-src="">
group,score,region,division,quarter
Team 1,74.96005712391107,North,A,Q1
Team 1,63.90378678560314,North,A,Q1
Team 1,85.67549149021508,North,A,Q1
Team 1,77.27827242286148,North,A,Q1
Team 1,76.53801489355284,North,A,Q1
Team 1,85.65728063740426,North,A,Q1
Team 1,82.03103770758271,North,A,Q1
Team 1,72.43082534040713,North,A,Q1
Team 1,92.89315321595913,North,A,Q1
Team 1,68.18224295999288,North,A,Q1
Team 1,78.42914443865806,North,A,Q1
Team 1,72.29188781032273,North,A,Q1
Team 1,76.30078801579094,North,A,Q1
Team 1,76.33849830460227,North,A,Q1
Team 1,66.98686421975115,North,A,Q1
Team 1,66.1958795236126,North,A,Q2
Team 1,71.61982161152527,North,A,Q2
Team 1,75.07369701703585,North,A,Q2
Team 1,85.11229028845769,North,A,Q2
Team 1,69.36787416973989,North,A,Q2
Team 1,61.75904905627068,North,A,Q2
Team 1,72.2375434134226,North,A,Q2
Team 1,68.96918300600863,North,A,Q2
Team 1,64.00945679230752,North,A,Q2
Team 1,82.18824233711707,North,A,Q2
Team 1,68.56194463934779,North,A,Q2
Team 1,65.38201494768204,North,A,Q2
Team 1,77.10866459344103,North,A,Q2
Team 1,63.99785243259112,North,A,Q2
Team 1,59.39988893503579,North,A,Q2
Team 1,67.40584252061878,North,A,Q3
Team 1,77.24428626392428,North,A,Q3
Team 1,72.0296511563984,North,A,Q3
Team 1,84.09361946185763,North,A,Q3
Team 1,81.49746733935406,North,A,Q3
Team 1,85.32374755897808,North,A,Q3
Team 1,96.53707125226701,North,A,Q3
Team 1,72.2330929947262,North,A,Q3
Team 1,82.63057375204787,North,A,Q3
Team 1,83.57570918443653,North,A,Q3
Team 1,78.61267204612753,North,A,Q3
Team 1,75.5587241862093,North,A,Q3
Team 1,86.75897418492573,North,A,Q3
Team 1,88.23018801167885,North,A,Q3
Team 1,72.35188810966602,North,A,Q3
Team 1,64.36389617219079,North,A,Q4
Team 1,77.42033042807216,North,A,Q4
Team 1,90.21665398108993,North,A,Q4
Team 1,80.51877098731443,North,A,Q4
Team 1,80.08164690340837,North,A,Q4
Team 1,77.7376830905822,North,A,Q4
Team 1,79.39819782526398,North,A,Q4
Team 1,65.74139480795452,North,A,Q4
Team 1,74.99524029647725,North,A,Q4
Team 1,80.46092381205524,North,A,Q4
Team 1,77.04042382222258,North,A,Q4
Team 1,75.70517181077781,North,A,Q4
Team 1,66.3220490700889,North,A,Q4
Team 1,76.79859948559995,North,A,Q4
Team 1,83.57261526547977,North,A,Q4
Team 2,102.50754078157844,North,B,Q1
Team 2,88.52461584039011,North,B,Q1
Team 2,90.11299176172099,North,B,Q1
Team 2,81.3199081790909,North,B,Q1
Team 2,100.64936297142073,North,B,Q1
Team 2,78.34681831165162,North,B,Q1
Team 2,93.21455673341994,North,B,Q1
Team 2,75.57470772495083,North,B,Q1
Team 2,65.82085879850132,North,B,Q1
Team 2,83.69017071499755,North,B,Q1
Team 2,88.06429135289996,North,B,Q1
Team 2,88.81808274574423,North,B,Q1
Team 2,87.0074167876142,North,B,Q1
Team 2,93.35320747762572,North,B,Q1
Team 2,104.01613307304908,North,B,Q1
Team 2,98.22976042942685,North,B,Q2
Team 2,78.40026728243733,North,B,Q2
Team 2,94.87132887522601,North,B,Q2
Team 2,96.45382385395975,North,B,Q2
Team 2,84.3289187369522,North,B,Q2
Team 2,94.02804897607116,North,B,Q2
Team 2,101.81606379557483,North,B,Q2
Team 2,72.96036196568933,North,B,Q2
Team 2,83.27760401106347,North,B,Q2
Team 2,72.47154123422905,North,B,Q2
Team 2,94.22208009866355,North,B,Q2
Team 2,81.90131561069067,North,B,Q2
Team 2,67.72473118129734,North,B,Q2
Team 2,68.77450128865891,North,B,Q2
Team 2,85.64527784295205,North,B,Q2
Team 2,116.94779684004759,North,B,Q3
Team 2,96.6873226801403,North,B,Q3
Team 2,71.46989681580554,North,B,Q3
Team 2,86.70541745075764,North,B,Q3
Team 2,100.80036606911102,North,B,Q3
Team 2,73.24330457681302,North,B,Q3
Team 2,90.21003515648275,North,B,Q3
Team 2,87.33249904827947,North,B,Q3
Team 2,81.900344259048,North,B,Q3
Team 2,73.0470848827743,North,B,Q3
Team 2,92.6102312009888,North,B,Q3
Team 2,75.79547509548101,North,B,Q3
Team 2,87.76491260052336,North,B,Q3
Team 2,100.40229225251139,North,B,Q3
Team 2,77.73582115412785,North,B,Q3
Team 2,90.066309026311,North,B,Q4
Team 2,88.81843278935742,North,B,Q4
Team 2,75.8004513130203,North,B,Q4
Team 2,96.26749207741351,North,B,Q4
Team 2,71.11563983226677,North,B,Q4
Team 2,67.67987808377632,North,B,Q4
Team 2,68.83840765736275,North,B,Q4
Team 2,79.85436781289762,North,B,Q4
Team 2,70.51606515635055,North,B,Q4
Team 2,85.55161554785045,North,B,Q4
Team 2,64.54703610455536,North,B,Q4
Team 2,70.97708440918726,North,B,Q4
Team 2,96.31605708700938,North,B,Q4
Team 2,88.38851245096684,North,B,Q4
Team 2,98.7422934293255,North,B,Q4
Team 3,67.27423136641058,South,A,Q1
Team 3,80.51839308645658,South,A,Q1
Team 3,61.66987812826524,South,A,Q1
Team 3,62.74867979679444,South,A,Q1
Team 3,76.45827249914257,South,A,Q1
Team 3,66.46683711597497,South,A,Q1
Team 3,78.12154496349443,South,A,Q1
Team 3,84.32911452471896,South,A,Q1
Team 3,61.35868671419546,South,A,Q1
Team 3,69.81755959605589,South,A,Q1
Team 3,65.8868291431782,South,A,Q1
Team 3,72.41996955345031,South,A,Q1
Team 3,63.22854610145789,South,A,Q1
Team 3,70.62940153621015,South,A,Q1
Team 3,74.73687052724323,South,A,Q1
Team 3,54.07157446862028,South,A,Q2
Team 3,67.30496608628967,South,A,Q2
Team 3,76.55887867652295,South,A,Q2
Team 3,81.8230742273258,South,A,Q2
Team 3,78.07581143090783,South,A,Q2
Team 3,71.5608171426331,South,A,Q2
Team 3,73.16545846121673,South,A,Q2
Team 3,72.36988301961266,South,A,Q2
Team 3,72.7422517870089,South,A,Q2
Team 3,58.509096373344356,South,A,Q2
Team 3,67.45804002060805,South,A,Q2
Team 3,74.95387638282499,South,A,Q2
Team 3,75.97515298879321,South,A,Q2
Team 3,70.00468997936261,South,A,Q2
Team 3,75.25020187667597,South,A,Q2
Team 3,74.74602559622318,South,A,Q3
Team 3,71.96464651575934,South,A,Q3
Team 3,69.70214216262558,South,A,Q3
Team 3,83.10395522534162,South,A,Q3
Team 3,69.13735400128658,South,A,Q3
Team 3,68.53064954312089,South,A,Q3
Team 3,61.826014108905824,South,A,Q3
Team 3,62.14664269394446,South,A,Q3
Team 3,72.33580058692897,South,A,Q3
Team 3,58.55850341665931,South,A,Q3
Team 3,71.7684538686424,South,A,Q3
Team 3,75.22950661683674,South,A,Q3
Team 3,74.95591601790733,South,A,Q3
Team 3,70.72742493961536,South,A,Q3
Team 3,61.55465556465316,South,A,Q3
Team 3,60.508603856107776,South,A,Q4
Team 3,72.37811354643665,South,A,Q4
Team 3,65.14491379039615,South,A,Q4
Team 3,70.74009705584287,South,A,Q4
Team 3,64.46274681835871,South,A,Q4
Team 3,65.1391017836733,South,A,Q4
Team 3,71.64042235531005,South,A,Q4
Team 3,68.02405850434882,South,A,Q4
Team 3,67.51492263373534,South,A,Q4
Team 3,87.57652294730033,South,A,Q4
Team 3,67.7763167442317,South,A,Q4
Team 3,72.91999061756627,South,A,Q4
Team 3,66.3681407398079,South,A,Q4
Team 3,61.87813695956362,South,A,Q4
Team 3,64.70875185674934,South,A,Q4
Team 4,78.98089030923757,South,B,Q1
Team 4,77.3510153030296,South,B,Q1
Team 4,84.12985807738004,South,B,Q1
Team 4,70.39300174599761,South,B,Q1
Team 4,69.96481178403087,South,B,Q1
Team 4,98.18839022414565,South,B,Q1
Team 4,82.98976282549604,South,B,Q1
Team 4,94.44068424580558,South,B,Q1
Team 4,85.80765437654746,South,B,Q1
Team 4,79.38363918115145,South,B,Q1
Team 4,80.47255761596458,South,B,Q1
Team 4,98.85983773138918,South,B,Q1
Team 4,96.32833504541671,South,B,Q1
Team 4,68.20734268115075,South,B,Q1
Team 4,81.2400037960034,South,B,Q1
Team 4,80.96049673959295,South,B,Q2
Team 4,70.8383522845987,South,B,Q2
Team 4,69.51882049334078,South,B,Q2
Team 4,72.05025404901244,South,B,Q2
Team 4,87.46206598624237,South,B,Q2
Team 4,70.54894476035602,South,B,Q2
Team 4,82.24454365407995,South,B,Q2
Team 4,88.38677598518669,South,B,Q2
Team 4,77.64494989908435,South,B,Q2
Team 4,81.78248624084777,South,B,Q2
Team 4,94.608033299438,South,B,Q2
Team 4,91.13248532985897,South,B,Q2
Team 4,69.33085817110165,South,B,Q2
Team 4,73.89812894963744,South,B,Q2
Team 4,69.69209002739969,South,B,Q2
Team 4,87.24714427766952,South,B,Q3
Team 4,79.337601589788,South,B,Q3
Team 4,77.72172964580912,South,B,Q3
Team 4,93.2579250734932,South,B,Q3
Team 4,84.76971359835542,South,B,Q3
Team 4,87.76292934271372,South,B,Q3
Team 4,87.80395891934464,South,B,Q3
Team 4,77.3586076151983,South,B,Q3
Team 4,85.01379598146738,South,B,Q3
Team 4,65.03004981047634,South,B,Q3
Team 4,75.94535844291535,South,B,Q3
Team 4,78.89943523873195,South,B,Q3
Team 4,100.20147865656969,South,B,Q3
Team 4,78.97148532783844,South,B,Q3
Team 4,84.7816255046895,South,B,Q3
Team 4,74.25609418329434,South,B,Q4
Team 4,81.33110764545792,South,B,Q4
Team 4,85.25072639952504,South,B,Q4
Team 4,82.53701155351139,South,B,Q4
Team 4,76.23022199104814,South,B,Q4
Team 4,74.74507635285511,South,B,Q4
Team 4,86.68521623103405,South,B,Q4
Team 4,78.7714484231917,South,B,Q4
Team 4,56.1874576950939,South,B,Q4
Team 4,75.51121658795677,South,B,Q4
Team 4,86.2231402135918,South,B,Q4
Team 4,81.40769264633849,South,B,Q4
Team 4,89.46354421370458,South,B,Q4
Team 4,65.89177435313142,South,B,Q4
Team 4,62.31303659719667,South,B,Q4
Team 5,81.85903900302091,East,A,Q1
Team 5,69.22438298317611,East,A,Q1
Team 5,104.37733189519456,East,A,Q1
Team 5,104.25409478111858,East,A,Q1
Team 5,91.6766059513568,East,A,Q1
Team 5,70.7766866081387,East,A,Q1
Team 5,80.40370032878836,East,A,Q1
Team 5,66.03477100738594,East,A,Q1
Team 5,100.68905365836943,East,A,Q1
Team 5,85.08419272384499,East,A,Q1
Team 5,103.41229857686002,East,A,Q1
Team 5,71.31301034569302,East,A,Q1
Team 5,80.45225284254428,East,A,Q1
Team 5,70.39402095705103,East,A,Q1
Team 5,91.77011730234912,East,A,Q1
Team 5,73.62691234989558,East,A,Q2
Team 5,80.94572445414875,East,A,Q2
Team 5,96.3284402717484,East,A,Q2
Team 5,83.6583852239786,East,A,Q2
Team 5,83.32908676655676,East,A,Q2
Team 5,88.78241630295419,East,A,Q2
Team 5,86.909336359611,East,A,Q2
Team 5,79.82363091945663,East,A,Q2
Team 5,80.47995882563842,East,A,Q2
Team 5,66.59740711273795,East,A,Q2
Team 5,89.55890251223137,East,A,Q2
Team 5,87.84988201832869,East,A,Q2
Team 5,75.54058614097825,East,A,Q2
Team 5,81.93857072091761,East,A,Q2
Team 5,85.44946725685725,East,A,Q2
Team 5,82.36205083471944,East,A,Q3
Team 5,83.10079350446125,East,A,Q3
Team 5,79.31526363583234,East,A,Q3
Team 5,67.93085623769898,East,A,Q3
Team 5,93.04520739863392,East,A,Q3
Team 5,82.99901783808035,East,A,Q3
Team 5,95.05949076549076,East,A,Q3
Team 5,98.17440454084637,East,A,Q3
Team 5,88.30493566098363,East,A,Q3
Team 5,90.56130419914777,East,A,Q3
Team 5,86.0313325192854,East,A,Q3
Team 5,89.78783502781143,East,A,Q3
Team 5,75.11850796217414,East,A,Q3
Team 5,76.44646190524777,East,A,Q3
Team 5,82.35477298101668,East,A,Q3
Team 5,109.30749584843622,East,A,Q4
Team 5,77.05989364456991,East,A,Q4
Team 5,97.40438734642015,East,A,Q4
Team 5,93.24069914889725,East,A,Q4
Team 5,85.0248054825738,East,A,Q4
Team 5,76.74001052634875,East,A,Q4
Team 5,93.38239641489008,East,A,Q4
Team 5,72.85667886212374,East,A,Q4
Team 5,91.8337983052108,East,A,Q4
Team 5,76.95605484873738,East,A,Q4
Team 5,93.24102338622397,East,A,Q4
Team 5,93.92852628172922,East,A,Q4
Team 5,84.1577763356349,East,A,Q4
Team 5,73.0978029586347,East,A,Q4
Team 5,81.50008803433329,East,A,Q4
Team 6,57.40538753014203,West,A,Q1
Team 6,74.73879976209403,West,A,Q1
Team 6,77.74532473950525,West,A,Q1
Team 6,72.21888981805866,West,A,Q1
Team 6,65.00984713324138,West,A,Q1
Team 6,74.91538855729381,West,A,Q1
Team 6,66.63938848666997,West,A,Q1
Team 6,72.67038810178519,West,A,Q1
Team 6,78.86212422861696,West,A,Q1
Team 6,71.45744799159276,West,A,Q1
Team 6,76.51360609400781,West,A,Q1
Team 6,75.02031214178321,West,A,Q1
Team 6,73.26030425496553,West,A,Q1
Team 6,70.88546985002824,West,A,Q1
Team 6,70.75576559447825,West,A,Q1
Team 6,66.66250404741797,West,A,Q2
Team 6,72.16556987767319,West,A,Q2
Team 6,69.9904279185752,West,A,Q2
Team 6,67.04580738140152,West,A,Q2
Team 6,69.67241465542058,West,A,Q2
Team 6,69.79650143025239,West,A,Q2
Team 6,71.3034653119225,West,A,Q2
Team 6,79.23984762627299,West,A,Q2
Team 6,75.42910890637383,West,A,Q2
Team 6,64.23480857689464,West,A,Q2
Team 6,74.17159127643814,West,A,Q2
Team 6,78.76965321630436,West,A,Q2
Team 6,71.92574395347117,West,A,Q2
Team 6,88.94197686311884,West,A,Q2
Team 6,74.43417263553165,West,A,Q2
Team 6,68.40711864085922,West,A,Q3
Team 6,72.34448645146578,West,A,Q3
Team 6,63.60483127560968,West,A,Q3
Team 6,74.48098483508737,West,A,Q3
Team 6,79.53473737376277,West,A,Q3
Team 6,57.38672367145084,West,A,Q3
Team 6,73.0607846608151,West,A,Q3
Team 6,81.3493930444885,West,A,Q3
Team 6,72.61849870740586,West,A,Q3
Team 6,74.20457112056877,West,A,Q3
Team 6,71.95057379831582,West,A,Q3
Team 6,81.11654173764428,West,A,Q3
Team 6,79.69030451201488,West,A,Q3
Team 6,60.91429865092259,West,A,Q3
Team 6,74.46897438558105,West,A,Q3
Team 6,73.02026521299419,West,A,Q4
Team 6,75.55874980429563,West,A,Q4
Team 6,68.5946530322127,West,A,Q4
Team 6,68.81533777101475,West,A,Q4
Team 6,53.18280037581387,West,A,Q4
Team 6,73.4765522023971,West,A,Q4
Team 6,59.950288527180575,West,A,Q4
Team 6,70.78013303334009,West,A,Q4
Team 6,82.52020631640967,West,A,Q4
Team 6,77.2481120024254,West,A,Q4
Team 6,65.42779689031119,West,A,Q4
Team 6,81.27429623943281,West,A,Q4
Team 6,74.17376893740519,West,A,Q4
Team 6,70.31802274018612,West,A,Q4
Team 6,79.79914210229444,West,A,Q4

</script>

<!-- ACTUAL CONTENT -->

<h1></h1>
<p></p>

    <div class="textblock-content">
        <a href="https://github.com/s-baumann/JSPlots.jl/blob/main/examples/boxandwhiskers_examples.jl" style="color: blue; font-weight: bold;">See here for the example code that generated this page</a>
<h1>Box and Whiskers Plot Examples</h1>
<p>This page demonstrates the interactive Box and Whiskers plot type in JSPlots.</p>
<ul>
    <li><strong>Horizontal box and whiskers:</strong> Shows min, Q1, median, Q3, and max for each group</li>
    <li><strong>Mean and standard deviation overlay:</strong> Red diamond markers with error bars show mean ± stdev</li>
    <li><strong>Interactive grouping:</strong> Organize groups by different categorical variables</li>
    <li><strong>Color coding:</strong> Groups can be colored by different attributes</li>
    <li><strong>Filtering:</strong> Filter data using interactive dropdowns</li>
    <li><strong>Multiple value columns:</strong> Switch between different numeric variables</li>
</ul>

    </div>
<br>
<hr>
<br>
    <div class="textblock-content">
        <h2>Example 1: Basic Distribution Comparison</h2>
<p>A simple example showing distributions for three groups with different means and spreads.</p>
<p>Features demonstrated:</p>
<ul>
    <li>Box shows interquartile range (Q1 to Q3) with median line</li>
    <li>Whiskers extend to min and max values</li>
    <li>Red diamond markers show mean with error bars for ± 1 standard deviation</li>
    <li>Each group labeled on the left side</li>
</ul>

    </div>
<br>
<hr>
<br>
<h2>Basic Distribution Comparison</h2>
<p>Compare distributions across three groups. Red diamonds show mean ± standard deviation.</p>

<!-- Filters (for data filtering) -->

<!-- Plot Attributes -->
<div style="margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; background-color: #f0fff0;">
    <h4 style="margin-top: 0;">Plot Attributes</h4>
        <div style="display: flex; align-items: center; padding: 5px 10px; border-bottom: 1px solid #ddd;">
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_quantiles_basic_bw" checked onchange="updateChart_basic_bw()" style="margin-right: 8px;">
                <span>Show Quantiles</span>
            </label>
        </div>
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_mean_std_basic_bw" checked onchange="updateChart_basic_bw()" style="margin-right: 8px;">
                <span>Show Mean ± Std Dev</span>
            </label>
        </div>
    </div>
<div style="margin: 15px 0; padding-top: 10px; border-top: 1px solid #ddd;">
    <label for="basic_bw_aspect_ratio_slider">Aspect Ratio: </label>
    <span id="basic_bw_aspect_ratio_label">0.6</span>
    <input type="range" id="basic_bw_aspect_ratio_slider"
           min="-1.3862943611198906" max="0.9162907318741551" step="0.01" value="-0.5108256237659907"
           style="width: 75%; margin-left: 10px;">
    <span style="margin-left: 10px; color: #666; font-size: 0.9em;">(0.25 - 2.5)</span>
</div>

</div>

<!-- Chart -->
<div id="basic_bw"></div>
<br><p style="text-align: right; font-size: 0.8em; color: #666; margin-top: -10px; margin-bottom: 10px;">Data: basic_data</p><br>
<hr>
<br>
    <div class="textblock-content">
        <h2>Example 2: Color-Coded Groups</h2>
<p>Groups can be colored by categorical variables to visually distinguish different categories.</p>
<p>Features demonstrated:</p>
<ul>
    <li>Color by dropdown to choose coloring variable</li>
    <li>Groups with same color attribute share the same color</li>
    <li>Useful for showing nested grouping structures</li>
</ul>

    </div>
<br>
<hr>
<br>
<h2>Color-Coded Distributions</h2>
<p>Use the 'Color by' dropdown to color groups by different attributes.</p>

<!-- Filters (for data filtering) -->

<!-- Plot Attributes -->
<div style="margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; background-color: #f0fff0;">
    <h4 style="margin-top: 0;">Plot Attributes</h4>
            <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="color_col_select_colored_bw">Color by: </label>
                <select id="color_col_select_colored_bw" onchange="updateChart_colored_bw()">
                <option value="none">none</option>
                <option value="region" selected>region</option>
                <option value="industry">industry</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="color_col_select_colored_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
            <div style="display: flex; align-items: center; padding: 5px 10px; border-bottom: 1px solid #ddd;">
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_quantiles_colored_bw" checked onchange="updateChart_colored_bw()" style="margin-right: 8px;">
                <span>Show Quantiles</span>
            </label>
        </div>
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_mean_std_colored_bw" checked onchange="updateChart_colored_bw()" style="margin-right: 8px;">
                <span>Show Mean ± Std Dev</span>
            </label>
        </div>
    </div>
<div style="margin: 15px 0; padding-top: 10px; border-top: 1px solid #ddd;">
    <label for="colored_bw_aspect_ratio_slider">Aspect Ratio: </label>
    <span id="colored_bw_aspect_ratio_label">0.6</span>
    <input type="range" id="colored_bw_aspect_ratio_slider"
           min="-1.3862943611198906" max="0.9162907318741551" step="0.01" value="-0.5108256237659907"
           style="width: 75%; margin-left: 10px;">
    <span style="margin-left: 10px; color: #666; font-size: 0.9em;">(0.25 - 2.5)</span>
</div>

</div>

<!-- Chart -->
<div id="colored_bw"></div>
<br><p style="text-align: right; font-size: 0.8em; color: #666; margin-top: -10px; margin-bottom: 10px;">Data: colored_data</p><br>
<hr>
<br>
    <div class="textblock-content">
        <h2>Example 3: Organized by Grouping Variable</h2>
<p>Groups can be organized and visually separated by categorical variables.</p>
<p>Features demonstrated:</p>
<ul>
    <li>Group by dropdown to choose organizational variable</li>
    <li>Extra spacing between different grouping categories</li>
    <li>Bold section labels on the left showing grouping categories</li>
    <li>Automatic sorting within each section</li>
</ul>

    </div>
<br>
<hr>
<br>
<h2>Organized by Grouping Variable</h2>
<p>Use 'Group by' dropdown to organize groups. Notice the bold section labels and spacing between categories.</p>

<!-- Filters (for data filtering) -->

<!-- Plot Attributes -->
<div style="margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; background-color: #f0fff0;">
    <h4 style="margin-top: 0;">Plot Attributes</h4>
            <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="color_col_select_grouped_bw">Color by: </label>
                <select id="color_col_select_grouped_bw" onchange="updateChart_grouped_bw()">
                <option value="none">none</option>
                <option value="industry" selected>industry</option>
                <option value="country">country</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="color_col_select_grouped_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
        
        <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="grouping_col_select_grouped_bw">Group by: </label>
                <select id="grouping_col_select_grouped_bw" onchange="updateChart_grouped_bw()">
                <option value="none">none</option>
                <option value="country" selected>country</option>
                <option value="industry">industry</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="grouping_col_select_grouped_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
            <div style="display: flex; align-items: center; padding: 5px 10px; border-bottom: 1px solid #ddd;">
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_quantiles_grouped_bw" checked onchange="updateChart_grouped_bw()" style="margin-right: 8px;">
                <span>Show Quantiles</span>
            </label>
        </div>
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_mean_std_grouped_bw" checked onchange="updateChart_grouped_bw()" style="margin-right: 8px;">
                <span>Show Mean ± Std Dev</span>
            </label>
        </div>
    </div>
<div style="margin: 15px 0; padding-top: 10px; border-top: 1px solid #ddd;">
    <label for="grouped_bw_aspect_ratio_slider">Aspect Ratio: </label>
    <span id="grouped_bw_aspect_ratio_label">0.6</span>
    <input type="range" id="grouped_bw_aspect_ratio_slider"
           min="-1.3862943611198906" max="0.9162907318741551" step="0.01" value="-0.5108256237659907"
           style="width: 75%; margin-left: 10px;">
    <span style="margin-left: 10px; color: #666; font-size: 0.9em;">(0.25 - 2.5)</span>
</div>

</div>

<!-- Chart -->
<div id="grouped_bw"></div>
<br><p style="text-align: right; font-size: 0.8em; color: #666; margin-top: -10px; margin-bottom: 10px;">Data: grouped_data</p><br>
<hr>
<br>
    <div class="textblock-content">
        <h2>Example 4: Multiple Value Columns</h2>
<p>Switch between different numeric variables to compare distributions.</p>
<p>Features demonstrated:</p>
<ul>
    <li>Value dropdown to switch between different metrics</li>
    <li>Each metric has different scale and distribution</li>
    <li>Useful for exploring different aspects of the data</li>
</ul>

    </div>
<br>
<hr>
<br>
<h2>Multiple Metrics Comparison</h2>
<p>Switch between Revenue, Units Sold, and Customer Satisfaction using the Value dropdown.</p>

<!-- Filters (for data filtering) -->

<!-- Plot Attributes -->
<div style="margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; background-color: #f0fff0;">
    <h4 style="margin-top: 0;">Plot Attributes</h4>
            <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="x_col_select_multi_value_bw">Value: </label>
                <select id="x_col_select_multi_value_bw" onchange="updateChart_multi_value_bw()">
                <option value="revenue" selected>revenue</option>
                <option value="units_sold">units_sold</option>
                <option value="customer_satisfaction">customer_satisfaction</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="x_col_select_multi_value_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
        
        <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="color_col_select_multi_value_bw">Color by: </label>
                <select id="color_col_select_multi_value_bw" onchange="updateChart_multi_value_bw()">
                <option value="none">none</option>
                <option value="category" selected>category</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="color_col_select_multi_value_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
        
        <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="grouping_col_select_multi_value_bw">Group by: </label>
                <select id="grouping_col_select_multi_value_bw" onchange="updateChart_multi_value_bw()">
                <option value="none">none</option>
                <option value="category" selected>category</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="grouping_col_select_multi_value_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
            <div style="display: flex; align-items: center; padding: 5px 10px; border-bottom: 1px solid #ddd;">
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_quantiles_multi_value_bw" checked onchange="updateChart_multi_value_bw()" style="margin-right: 8px;">
                <span>Show Quantiles</span>
            </label>
        </div>
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_mean_std_multi_value_bw" checked onchange="updateChart_multi_value_bw()" style="margin-right: 8px;">
                <span>Show Mean ± Std Dev</span>
            </label>
        </div>
    </div>
<div style="margin: 15px 0; padding-top: 10px; border-top: 1px solid #ddd;">
    <label for="multi_value_bw_aspect_ratio_slider">Aspect Ratio: </label>
    <span id="multi_value_bw_aspect_ratio_label">0.6</span>
    <input type="range" id="multi_value_bw_aspect_ratio_slider"
           min="-1.3862943611198906" max="0.9162907318741551" step="0.01" value="-0.5108256237659907"
           style="width: 75%; margin-left: 10px;">
    <span style="margin-left: 10px; color: #666; font-size: 0.9em;">(0.25 - 2.5)</span>
</div>

</div>

<!-- Chart -->
<div id="multi_value_bw"></div>
<br><p style="text-align: right; font-size: 0.8em; color: #666; margin-top: -10px; margin-bottom: 10px;">Data: multi_data</p><br>
<hr>
<br>
    <div class="textblock-content">
        <h2>Example 5: Interactive Filtering</h2>
<p>Filter data by categorical variables to focus on specific subsets.</p>
<p>Features demonstrated:</p>
<ul>
    <li>Multi-select filters to include/exclude data</li>
    <li>Observation count updates show % remaining after filtering</li>
    <li>Filters work together with color and grouping controls</li>
    <li>Chart dynamically updates based on filtered data</li>
</ul>

    </div>
<br>
<hr>
<br>
<h2>Team Performance with Filtering</h2>
<p>Use filters to focus on specific quarters or regions. Watch the observation count update.</p>

<!-- Filters (for data filtering) -->
<div style="margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; background-color: #fff5f5;">
    <h4 style="margin-top: 0; display: flex; justify-content: space-between; align-items: center;">
        <span>Filters</span>
        <span id="filtered_bw_total_obs" style="font-weight: normal; font-size: 0.9em; color: #666;"></span>
    </h4>
            <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="region_select_filtered_bw">region: </label>
                <select id="region_select_filtered_bw" multiple onchange="updateChart_filtered_bw()">
                <option value="East" selected>East</option>
                <option value="North" selected>North</option>
                <option value="South" selected>South</option>
                <option value="West" selected>West</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="region_select_filtered_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
        
        <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="quarter_select_filtered_bw">quarter: </label>
                <select id="quarter_select_filtered_bw" multiple onchange="updateChart_filtered_bw()">
                <option value="Q1" selected>Q1</option>
                <option value="Q2" selected>Q2</option>
                <option value="Q3" selected>Q3</option>
                <option value="Q4" selected>Q4</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="quarter_select_filtered_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
        
</div>

<!-- Plot Attributes -->
<div style="margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; background-color: #f0fff0;">
    <h4 style="margin-top: 0;">Plot Attributes</h4>
            <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="color_col_select_filtered_bw">Color by: </label>
                <select id="color_col_select_filtered_bw" onchange="updateChart_filtered_bw()">
                <option value="none">none</option>
                <option value="region" selected>region</option>
                <option value="division">division</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="color_col_select_filtered_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
        
        <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="grouping_col_select_filtered_bw">Group by: </label>
                <select id="grouping_col_select_filtered_bw" onchange="updateChart_filtered_bw()">
                <option value="none">none</option>
                <option value="region" selected>region</option>
                <option value="division">division</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="grouping_col_select_filtered_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
            <div style="display: flex; align-items: center; padding: 5px 10px; border-bottom: 1px solid #ddd;">
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_quantiles_filtered_bw" checked onchange="updateChart_filtered_bw()" style="margin-right: 8px;">
                <span>Show Quantiles</span>
            </label>
        </div>
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_mean_std_filtered_bw" checked onchange="updateChart_filtered_bw()" style="margin-right: 8px;">
                <span>Show Mean ± Std Dev</span>
            </label>
        </div>
    </div>
<div style="margin: 15px 0; padding-top: 10px; border-top: 1px solid #ddd;">
    <label for="filtered_bw_aspect_ratio_slider">Aspect Ratio: </label>
    <span id="filtered_bw_aspect_ratio_label">0.6</span>
    <input type="range" id="filtered_bw_aspect_ratio_slider"
           min="-1.3862943611198906" max="0.9162907318741551" step="0.01" value="-0.5108256237659907"
           style="width: 75%; margin-left: 10px;">
    <span style="margin-left: 10px; color: #666; font-size: 0.9em;">(0.25 - 2.5)</span>
</div>

</div>

<!-- Chart -->
<div id="filtered_bw"></div>
<br><p style="text-align: right; font-size: 0.8em; color: #666; margin-top: -10px; margin-bottom: 10px;">Data: filtered_data</p><br>
<hr>
<br>
    <div class="textblock-content">
        <h2>Example 6: Handling Wide Value Ranges</h2>
<p>Box and whiskers plots work well with data that has wide ranges or outliers.</p>
<p>Features demonstrated:</p>
<ul>
    <li>Whiskers extend to min/max showing full data range</li>
    <li>Box (IQR) shows where bulk of data lies</li>
    <li>Mean can be quite different from median in skewed distributions</li>
    <li>Red error bars show standard deviation clearly</li>
</ul>

    </div>
<br>
<hr>
<br>
<h2>Company Revenue Distributions</h2>
<p>Notice how box and whiskers effectively shows the different scales and spreads across company sizes.</p>

<!-- Filters (for data filtering) -->

<!-- Plot Attributes -->
<div style="margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; background-color: #f0fff0;">
    <h4 style="margin-top: 0;">Plot Attributes</h4>
            <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="color_col_select_wide_range_bw">Color by: </label>
                <select id="color_col_select_wide_range_bw" onchange="updateChart_wide_range_bw()">
                <option value="none">none</option>
                <option value="sector" selected>sector</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="color_col_select_wide_range_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
            <div style="display: flex; align-items: center; padding: 5px 10px; border-bottom: 1px solid #ddd;">
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_quantiles_wide_range_bw" checked onchange="updateChart_wide_range_bw()" style="margin-right: 8px;">
                <span>Show Quantiles</span>
            </label>
        </div>
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_mean_std_wide_range_bw" checked onchange="updateChart_wide_range_bw()" style="margin-right: 8px;">
                <span>Show Mean ± Std Dev</span>
            </label>
        </div>
    </div>
<div style="margin: 15px 0; padding-top: 10px; border-top: 1px solid #ddd;">
    <label for="wide_range_bw_aspect_ratio_slider">Aspect Ratio: </label>
    <span id="wide_range_bw_aspect_ratio_label">0.6</span>
    <input type="range" id="wide_range_bw_aspect_ratio_slider"
           min="-1.3862943611198906" max="0.9162907318741551" step="0.01" value="-0.5108256237659907"
           style="width: 75%; margin-left: 10px;">
    <span style="margin-left: 10px; color: #666; font-size: 0.9em;">(0.25 - 2.5)</span>
</div>

</div>

<!-- Chart -->
<div id="wide_range_bw"></div>
<br><p style="text-align: right; font-size: 0.8em; color: #666; margin-top: -10px; margin-bottom: 10px;">Data: wide_data</p><br>
<hr>
<br>
    <div class="textblock-content">
        <h2>Example 7: Adjustable Aspect Ratio</h2>
<p>Control the height-to-width ratio of the chart for optimal viewing.</p>
<p>Features demonstrated:</p>
<ul>
    <li>Aspect ratio slider adjusts chart height dynamically</li>
    <li>Useful for fitting many groups or adjusting for screen size</li>
    <li>Height automatically scales with number of groups</li>
</ul>

    </div>
<br>
<hr>
<br>
<h2>Many Groups - Adjustable Height</h2>
<p>Use the Aspect Ratio slider below to adjust chart height for better visibility of all groups.</p>

<!-- Filters (for data filtering) -->

<!-- Plot Attributes -->
<div style="margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; background-color: #f0fff0;">
    <h4 style="margin-top: 0;">Plot Attributes</h4>
            <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="color_col_select_aspect_bw">Color by: </label>
                <select id="color_col_select_aspect_bw" onchange="updateChart_aspect_bw()">
                <option value="none">none</option>
                <option value="type" selected>type</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="color_col_select_aspect_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
        
        <div style="margin: 10px; display: flex; align-items: center;">
            <div style="flex: 0 0 70%;">
                <label for="grouping_col_select_aspect_bw">Group by: </label>
                <select id="grouping_col_select_aspect_bw" onchange="updateChart_aspect_bw()">
                <option value="none">none</option>
                <option value="type" selected>type</option>
            </select>
            </div>
            <div style="flex: 0 0 30%; text-align: right; padding-right: 10px;">
                <span id="grouping_col_select_aspect_bw_obs_count" style="font-size: 0.9em; color: #666;"></span>
            </div>
        </div>
            <div style="display: flex; align-items: center; padding: 5px 10px; border-bottom: 1px solid #ddd;">
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_quantiles_aspect_bw" checked onchange="updateChart_aspect_bw()" style="margin-right: 8px;">
                <span>Show Quantiles</span>
            </label>
        </div>
        <div style="flex: 1; padding-left: 10px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="show_mean_std_aspect_bw" checked onchange="updateChart_aspect_bw()" style="margin-right: 8px;">
                <span>Show Mean ± Std Dev</span>
            </label>
        </div>
    </div>
<div style="margin: 15px 0; padding-top: 10px; border-top: 1px solid #ddd;">
    <label for="aspect_bw_aspect_ratio_slider">Aspect Ratio: </label>
    <span id="aspect_bw_aspect_ratio_label">0.6</span>
    <input type="range" id="aspect_bw_aspect_ratio_slider"
           min="-1.3862943611198906" max="0.9162907318741551" step="0.01" value="-0.5108256237659907"
           style="width: 75%; margin-left: 10px;">
    <span style="margin-left: 10px; color: #666; font-size: 0.9em;">(0.25 - 2.5)</span>
</div>

</div>

<!-- Chart -->
<div id="aspect_bw"></div>
<br><p style="text-align: right; font-size: 0.8em; color: #666; margin-top: -10px; margin-bottom: 10px;">Data: aspect_data</p>

<hr><p align="right"><small>This page was created using <a href="https://github.com/s-baumann/JSPlots.jl">JSPlots.jl</a> v0.3.3.</small></p>
</body>
</html>
